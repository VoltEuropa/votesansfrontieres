!function(n,e,t){"use strict";n.loopEventListener=function(n,t,o,r,i){var u,c;function a(){void 0!==c&&"function"==typeof c.cancel&&c.cancel()}function f(){void 0!==u&&n.removeEventListener(t,u,o),a()}return new e.Promise(function(s,v){u=function(n){n.stopPropagation(),!0!==i&&n.preventDefault(),a(),c=(new e.Queue).push(function(){return r(n)}).push(void 0,function(n){n instanceof e.CancellationError||(f(),v(n))})},n.addEventListener(t,u,o)},f)},n.promiseEventListener=function(n,t,o){var r;function i(){n.removeEventListener(t,r,o)}return new e.Promise(function(e){r=function(n){return i(),n.stopPropagation(),n.preventDefault(),e(n),!1},n.addEventListener(t,r,o)},i)},n.promiseReadAsText=function(n){return new e.Promise(function(e,o){var r=new t;r.onload=function(n){e(n.target.result)},r.onerror=function(n){o(n)},r.readAsText(n)})}}(window,RSVP,FileReader);