/* 2018-02-20 https://code.getmdl.io/1.3.0/material.min.js */
/**
 * material-design-lite - Material Design Components in CSS, JS and HTML
 * @version v1.3.0
 * @license Apache-2.0
 * @copyright 2015 Google, Inc.
 * @link https://github.com/google/material-design-lite
 */
!function(){"use strict";function e(e,t){if(e){if(t.element_.classList.contains(t.CssClasses_.MDL_JS_RIPPLE_EFFECT)){var s=document.createElement("span");s.classList.add(t.CssClasses_.MDL_RIPPLE_CONTAINER),s.classList.add(t.CssClasses_.MDL_JS_RIPPLE_EFFECT);var i=document.createElement("span");i.classList.add(t.CssClasses_.MDL_RIPPLE),s.appendChild(i),e.appendChild(s)}e.addEventListener("click",function(s){if("#"===e.getAttribute("href").charAt(0)){s.preventDefault();var i=e.href.split("#")[1],n=t.element_.querySelector("#"+i);t.resetTabState_(),t.resetPanelState_(),e.classList.add(t.CssClasses_.ACTIVE_CLASS),n.classList.add(t.CssClasses_.ACTIVE_CLASS)}})}}function t(e,t,s,i){function n(){var n=e.href.split("#")[1],a=i.content_.querySelector("#"+n);i.resetTabState_(t),i.resetPanelState_(s),e.classList.add(i.CssClasses_.IS_ACTIVE),a.classList.add(i.CssClasses_.IS_ACTIVE)}if(i.tabBar_.classList.contains(i.CssClasses_.JS_RIPPLE_EFFECT)){var a=document.createElement("span");a.classList.add(i.CssClasses_.RIPPLE_CONTAINER),a.classList.add(i.CssClasses_.JS_RIPPLE_EFFECT);var l=document.createElement("span");l.classList.add(i.CssClasses_.RIPPLE),a.appendChild(l),e.appendChild(a)}i.tabBar_.classList.contains(i.CssClasses_.TAB_MANUAL_SWITCH)||e.addEventListener("click",function(t){"#"===e.getAttribute("href").charAt(0)&&(t.preventDefault(),n())}),e.show=n}var s={upgradeDom:function(e,t){},upgradeElement:function(e,t){},upgradeElements:function(e){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(e,t){},register:function(e){},downgradeElements:function(e){}};s=function(){function e(e,t){for(var s=0;s<c.length;s++)if(c[s].className===e)return"undefined"!=typeof t&&(c[s]=t),c[s];return!1}function t(e){var t=e.getAttribute("data-upgraded");return null===t?[""]:t.split(",")}function s(e,s){var i=t(e);return i.indexOf(s)!==-1}function i(e,t,s){if("CustomEvent"in window&&"function"==typeof window.CustomEvent)return new CustomEvent(e,{bubbles:t,cancelable:s});var i=document.createEvent("Events");return i.initEvent(e,t,s),i}function n(t,s){if("undefined"==typeof t&&"undefined"==typeof s)for(var i=0;i<c.length;i++)n(c[i].className,c[i].cssClass);else{var l=t;if("undefined"==typeof s){var o=e(l);o&&(s=o.cssClass)}for(var r=document.querySelectorAll("."+s),_=0;_<r.length;_++)a(r[_],l)}}function a(n,a){if(!("object"==typeof n&&n instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var l=i("mdl-componentupgrading",!0,!0);if(n.dispatchEvent(l),!l.defaultPrevented){var o=t(n),r=[];if(a)s(n,a)||r.push(e(a));else{var _=n.classList;c.forEach(function(e){_.contains(e.cssClass)&&r.indexOf(e)===-1&&!s(n,e.className)&&r.push(e)})}for(var d,h=0,u=r.length;h<u;h++){if(d=r[h],!d)throw new Error("Unable to find a registered component for the given class.");o.push(d.className),n.setAttribute("data-upgraded",o.join(","));var E=new d.classConstructor(n);E[C]=d,p.push(E);for(var m=0,L=d.callbacks.length;m<L;m++)d.callbacks[m](n);d.widget&&(n[d.className]=E);var I=i("mdl-componentupgraded",!0,!1);n.dispatchEvent(I)}}}function l(e){Array.isArray(e)||(e=e instanceof Element?[e]:Array.prototype.slice.call(e));for(var t,s=0,i=e.length;s<i;s++)t=e[s],t instanceof HTMLElement&&(a(t),t.children.length>0&&l(t.children))}function o(t){var s="undefined"==typeof t.widget&&"undefined"==typeof t.widget,i=!0;s||(i=t.widget||t.widget);var n={classConstructor:t.constructor||t.constructor,className:t.classAsString||t.classAsString,cssClass:t.cssClass||t.cssClass,widget:i,callbacks:[]};if(c.forEach(function(e){if(e.cssClass===n.cssClass)throw new Error("The provided cssClass has already been registered: "+e.cssClass);if(e.className===n.className)throw new Error("The provided className has already been registered")}),t.constructor.prototype.hasOwnProperty(C))throw new Error("MDL component classes must not have "+C+" defined as a property.");var a=e(t.classAsString,n);a||c.push(n)}function r(t,s){var i=e(t);i&&i.callbacks.push(s)}function _(){for(var e=0;e<c.length;e++)n(c[e].className)}function d(e){if(e){var t=p.indexOf(e);p.splice(t,1);var s=e.element_.getAttribute("data-upgraded").split(","),n=s.indexOf(e[C].classAsString);s.splice(n,1),e.element_.setAttribute("data-upgraded",s.join(","));var a=i("mdl-componentdowngraded",!0,!1);e.element_.dispatchEvent(a)}}function h(e){var t=function(e){p.filter(function(t){return t.element_===e}).forEach(d)};if(e instanceof Array||e instanceof NodeList)for(var s=0;s<e.length;s++)t(e[s]);else{if(!(e instanceof Node))throw new Error("Invalid argument provided to downgrade MDL nodes.");t(e)}}var c=[],p=[],C="mdlComponentConfigInternal_";return{upgradeDom:n,upgradeElement:a,upgradeElements:l,upgradeAllRegistered:_,registerUpgradedCallback:r,register:o,downgradeElements:h}}(),s.ComponentConfigPublic,s.ComponentConfig,s.Component,s.upgradeDom=s.upgradeDom,s.upgradeElement=s.upgradeElement,s.upgradeElements=s.upgradeElements,s.upgradeAllRegistered=s.upgradeAllRegistered,s.registerUpgradedCallback=s.registerUpgradedCallback,s.register=s.register,s.downgradeElements=s.downgradeElements,window.componentHandler=s,window.componentHandler=s,window.addEventListener("load",function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),s.upgradeAllRegistered()):(s.upgradeElement=function(){},s.register=function(){})}),Date.now||(Date.now=function(){return(new Date).getTime()},Date.now=Date.now);for(var i=["webkit","moz"],n=0;n<i.length&&!window.requestAnimationFrame;++n){var a=i[n];window.requestAnimationFrame=window[a+"RequestAnimationFrame"],window.cancelAnimationFrame=window[a+"CancelAnimationFrame"]||window[a+"CancelRequestAnimationFrame"],window.requestAnimationFrame=window.requestAnimationFrame,window.cancelAnimationFrame=window.cancelAnimationFrame}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var l=0;window.requestAnimationFrame=function(e){var t=Date.now(),s=Math.max(l+16,t);return setTimeout(function(){e(l=s)},s-t)},window.cancelAnimationFrame=clearTimeout,window.requestAnimationFrame=window.requestAnimationFrame,window.cancelAnimationFrame=window.cancelAnimationFrame}var o=function(e){this.element_=e,this.init()};window.MaterialButton=o,o.prototype.Constant_={},o.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},o.prototype.blurHandler_=function(e){e&&this.element_.blur()},o.prototype.disable=function(){this.element_.disabled=!0},o.prototype.disable=o.prototype.disable,o.prototype.enable=function(){this.element_.disabled=!1},o.prototype.enable=o.prototype.enable,o.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},s.register({constructor:o,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0});var r=function(e){this.element_=e,this.init()};window.MaterialCheckbox=r,r.prototype.Constant_={TINY_TIMEOUT:.001},r.prototype.CssClasses_={INPUT:"mdl-checkbox__input",BOX_OUTLINE:"mdl-checkbox__box-outline",FOCUS_HELPER:"mdl-checkbox__focus-helper",TICK_OUTLINE:"mdl-checkbox__tick-outline",RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE_CONTAINER:"mdl-checkbox__ripple-container",RIPPLE_CENTER:"mdl-ripple--center",RIPPLE:"mdl-ripple",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked",IS_UPGRADED:"is-upgraded"},r.prototype.onChange_=function(e){this.updateClasses_()},r.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},r.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},r.prototype.onMouseUp_=function(e){this.blur_()},r.prototype.updateClasses_=function(){this.checkDisabled(),this.checkToggleState()},r.prototype.blur_=function(){window.setTimeout(function(){this.inputElement_.blur()}.bind(this),this.Constant_.TINY_TIMEOUT)},r.prototype.checkToggleState=function(){this.inputElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED)},r.prototype.checkToggleState=r.prototype.checkToggleState,r.prototype.checkDisabled=function(){this.inputElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},r.prototype.checkDisabled=r.prototype.checkDisabled,r.prototype.disable=function(){this.inputElement_.disabled=!0,this.updateClasses_()},r.prototype.disable=r.prototype.disable,r.prototype.enable=function(){this.inputElement_.disabled=!1,this.updateClasses_()},r.prototype.enable=r.prototype.enable,r.prototype.check=function(){this.inputElement_.checked=!0,this.updateClasses_()},r.prototype.check=r.prototype.check,r.prototype.uncheck=function(){this.inputElement_.checked=!1,this.updateClasses_()},r.prototype.uncheck=r.prototype.uncheck,r.prototype.init=function(){if(this.element_){this.inputElement_=this.element_.querySelector("."+this.CssClasses_.INPUT);var e=document.createElement("span");e.classList.add(this.CssClasses_.BOX_OUTLINE);var t=document.createElement("span");t.classList.add(this.CssClasses_.FOCUS_HELPER);var s=document.createElement("span");if(s.classList.add(this.CssClasses_.TICK_OUTLINE),e.appendChild(s),this.element_.appendChild(t),this.element_.appendChild(e),this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),this.rippleContainerElement_=document.createElement("span"),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_EFFECT),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER),this.boundRippleMouseUp=this.onMouseUp_.bind(this),this.rippleContainerElement_.addEventListener("mouseup",this.boundRippleMouseUp);var i=document.createElement("span");i.classList.add(this.CssClasses_.RIPPLE),this.rippleContainerElement_.appendChild(i),this.element_.appendChild(this.rippleContainerElement_)}this.boundInputOnChange=this.onChange_.bind(this),this.boundInputOnFocus=this.onFocus_.bind(this),this.boundInputOnBlur=this.onBlur_.bind(this),this.boundElementMouseUp=this.onMouseUp_.bind(this),this.inputElement_.addEventListener("change",this.boundInputOnChange),this.inputElement_.addEventListener("focus",this.boundInputOnFocus),this.inputElement_.addEventListener("blur",this.boundInputOnBlur),this.element_.addEventListener("mouseup",this.boundElementMouseUp),this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},s.register({constructor:r,classAsString:"MaterialCheckbox",cssClass:"mdl-js-checkbox",widget:!0});var _=function(e){this.element_=e,this.init()};window.MaterialIconToggle=_,_.prototype.Constant_={TINY_TIMEOUT:.001},_.prototype.CssClasses_={INPUT:"mdl-icon-toggle__input",JS_RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE_CONTAINER:"mdl-icon-toggle__ripple-container",RIPPLE_CENTER:"mdl-ripple--center",RIPPLE:"mdl-ripple",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked"},_.prototype.onChange_=function(e){this.updateClasses_()},_.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},_.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},_.prototype.onMouseUp_=function(e){this.blur_()},_.prototype.updateClasses_=function(){this.checkDisabled(),this.checkToggleState()},_.prototype.blur_=function(){window.setTimeout(function(){this.inputElement_.blur()}.bind(this),this.Constant_.TINY_TIMEOUT)},_.prototype.checkToggleState=function(){this.inputElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED)},_.prototype.checkToggleState=_.prototype.checkToggleState,_.prototype.checkDisabled=function(){this.inputElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},_.prototype.checkDisabled=_.prototype.checkDisabled,_.prototype.disable=function(){this.inputElement_.disabled=!0,this.updateClasses_()},_.prototype.disable=_.prototype.disable,_.prototype.enable=function(){this.inputElement_.disabled=!1,this.updateClasses_()},_.prototype.enable=_.prototype.enable,_.prototype.check=function(){this.inputElement_.checked=!0,this.updateClasses_()},_.prototype.check=_.prototype.check,_.prototype.uncheck=function(){this.inputElement_.checked=!1,this.updateClasses_()},_.prototype.uncheck=_.prototype.uncheck,_.prototype.init=function(){if(this.element_){if(this.inputElement_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.element_.classList.contains(this.CssClasses_.JS_RIPPLE_EFFECT)){this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),this.rippleContainerElement_=document.createElement("span"),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleContainerElement_.classList.add(this.CssClasses_.JS_RIPPLE_EFFECT),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER),this.boundRippleMouseUp=this.onMouseUp_.bind(this),this.rippleContainerElement_.addEventListener("mouseup",this.boundRippleMouseUp);var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE),this.rippleContainerElement_.appendChild(e),this.element_.appendChild(this.rippleContainerElement_)}this.boundInputOnChange=this.onChange_.bind(this),this.boundInputOnFocus=this.onFocus_.bind(this),this.boundInputOnBlur=this.onBlur_.bind(this),this.boundElementOnMouseUp=this.onMouseUp_.bind(this),this.inputElement_.addEventListener("change",this.boundInputOnChange),this.inputElement_.addEventListener("focus",this.boundInputOnFocus),this.inputElement_.addEventListener("blur",this.boundInputOnBlur),this.element_.addEventListener("mouseup",this.boundElementOnMouseUp),this.updateClasses_(),this.element_.classList.add("is-upgraded")}},s.register({constructor:_,classAsString:"MaterialIconToggle",cssClass:"mdl-js-icon-toggle",widget:!0});var d=function(e){this.element_=e,this.init()};window.MaterialMenu=d,d.prototype.Constant_={TRANSITION_DURATION_SECONDS:.3,TRANSITION_DURATION_FRACTION:.8,CLOSE_TIMEOUT:150},d.prototype.Keycodes_={ENTER:13,ESCAPE:27,SPACE:32,UP_ARROW:38,DOWN_ARROW:40},d.prototype.CssClasses_={CONTAINER:"mdl-menu__container",OUTLINE:"mdl-menu__outline",ITEM:"mdl-menu__item",ITEM_RIPPLE_CONTAINER:"mdl-menu__item-ripple-container",RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE:"mdl-ripple",IS_UPGRADED:"is-upgraded",IS_VISIBLE:"is-visible",IS_ANIMATING:"is-animating",BOTTOM_LEFT:"mdl-menu--bottom-left",BOTTOM_RIGHT:"mdl-menu--bottom-right",TOP_LEFT:"mdl-menu--top-left",TOP_RIGHT:"mdl-menu--top-right",UNALIGNED:"mdl-menu--unaligned"},d.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.classList.add(this.CssClasses_.CONTAINER),this.element_.parentElement.insertBefore(e,this.element_),this.element_.parentElement.removeChild(this.element_),e.appendChild(this.element_),this.container_=e;var t=document.createElement("div");t.classList.add(this.CssClasses_.OUTLINE),this.outline_=t,e.insertBefore(t,this.element_);var s=this.element_.getAttribute("for")||this.element_.getAttribute("data-mdl-for"),i=null;s&&(i=document.getElementById(s),i&&(this.forElement_=i,i.addEventListener("click",this.handleForClick_.bind(this)),i.addEventListener("keydown",this.handleForKeyboardEvent_.bind(this))));var n=this.element_.querySelectorAll("."+this.CssClasses_.ITEM);this.boundItemKeydown_=this.handleItemKeyboardEvent_.bind(this),this.boundItemClick_=this.handleItemClick_.bind(this);for(var a=0;a<n.length;a++)n[a].addEventListener("click",this.boundItemClick_),n[a].tabIndex="-1",n[a].addEventListener("keydown",this.boundItemKeydown_);if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT))for(this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),a=0;a<n.length;a++){var l=n[a],o=document.createElement("span");o.classList.add(this.CssClasses_.ITEM_RIPPLE_CONTAINER);var r=document.createElement("span");r.classList.add(this.CssClasses_.RIPPLE),o.appendChild(r),l.appendChild(o),l.classList.add(this.CssClasses_.RIPPLE_EFFECT)}this.element_.classList.contains(this.CssClasses_.BOTTOM_LEFT)&&this.outline_.classList.add(this.CssClasses_.BOTTOM_LEFT),this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)&&this.outline_.classList.add(this.CssClasses_.BOTTOM_RIGHT),this.element_.classList.contains(this.CssClasses_.TOP_LEFT)&&this.outline_.classList.add(this.CssClasses_.TOP_LEFT),this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)&&this.outline_.classList.add(this.CssClasses_.TOP_RIGHT),this.element_.classList.contains(this.CssClasses_.UNALIGNED)&&this.outline_.classList.add(this.CssClasses_.UNALIGNED),e.classList.add(this.CssClasses_.IS_UPGRADED)}},d.prototype.handleForClick_=function(e){if(this.element_&&this.forElement_){var t=this.forElement_.getBoundingClientRect(),s=this.forElement_.parentElement.getBoundingClientRect();this.element_.classList.contains(this.CssClasses_.UNALIGNED)||(this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)?(this.container_.style.right=s.right-t.right+"px",this.container_.style.top=this.forElement_.offsetTop+this.forElement_.offsetHeight+"px"):this.element_.classList.contains(this.CssClasses_.TOP_LEFT)?(this.container_.style.left=this.forElement_.offsetLeft+"px",this.container_.style.bottom=s.bottom-t.top+"px"):this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)?(this.container_.style.right=s.right-t.right+"px",this.container_.style.bottom=s.bottom-t.top+"px"):(this.container_.style.left=this.forElement_.offsetLeft+"px",this.container_.style.top=this.forElement_.offsetTop+this.forElement_.offsetHeight+"px"))}this.toggle(e)},d.prototype.handleForKeyboardEvent_=function(e){if(this.element_&&this.container_&&this.forElement_){var t=this.element_.querySelectorAll("."+this.CssClasses_.ITEM+":not([disabled])");t&&t.length>0&&this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)&&(e.keyCode===this.Keycodes_.UP_ARROW?(e.preventDefault(),t[t.length-1].focus()):e.keyCode===this.Keycodes_.DOWN_ARROW&&(e.preventDefault(),t[0].focus()))}},d.prototype.handleItemKeyboardEvent_=function(e){if(this.element_&&this.container_){var t=this.element_.querySelectorAll("."+this.CssClasses_.ITEM+":not([disabled])");if(t&&t.length>0&&this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)){var s=Array.prototype.slice.call(t).indexOf(e.target);if(e.keyCode===this.Keycodes_.UP_ARROW)e.preventDefault(),s>0?t[s-1].focus():t[t.length-1].focus();else if(e.keyCode===this.Keycodes_.DOWN_ARROW)e.preventDefault(),t.length>s+1?t[s+1].focus():t[0].focus();else if(e.keyCode===this.Keycodes_.SPACE||e.keyCode===this.Keycodes_.ENTER){e.preventDefault();var i=new MouseEvent("mousedown");e.target.dispatchEvent(i),i=new MouseEvent("mouseup"),e.target.dispatchEvent(i),e.target.click()}else e.keyCode===this.Keycodes_.ESCAPE&&(e.preventDefault(),this.hide())}}},d.prototype.handleItemClick_=function(e){e.target.hasAttribute("disabled")?e.stopPropagation():(this.closing_=!0,window.setTimeout(function(e){this.hide(),this.closing_=!1}.bind(this),this.Constant_.CLOSE_TIMEOUT))},d.prototype.applyClip_=function(e,t){this.element_.classList.contains(this.CssClasses_.UNALIGNED)?this.element_.style.clip="":this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)?this.element_.style.clip="rect(0 "+t+"px 0 "+t+"px)":this.element_.classList.contains(this.CssClasses_.TOP_LEFT)?this.element_.style.clip="rect("+e+"px 0 "+e+"px 0)":this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)?this.element_.style.clip="rect("+e+"px "+t+"px "+e+"px "+t+"px)":this.element_.style.clip=""},d.prototype.removeAnimationEndListener_=function(e){e.target.classList.remove(d.prototype.CssClasses_.IS_ANIMATING)},d.prototype.addAnimationEndListener_=function(){this.element_.addEventListener("transitionend",this.removeAnimationEndListener_),this.element_.addEventListener("webkitTransitionEnd",this.removeAnimationEndListener_)},d.prototype.show=function(e){if(this.element_&&this.container_&&this.outline_){var t=this.element_.getBoundingClientRect().height,s=this.element_.getBoundingClientRect().width;this.container_.style.width=s+"px",this.container_.style.height=t+"px",this.outline_.style.width=s+"px",this.outline_.style.height=t+"px";for(var i=this.Constant_.TRANSITION_DURATION_SECONDS*this.Constant_.TRANSITION_DURATION_FRACTION,n=this.element_.querySelectorAll("."+this.CssClasses_.ITEM),a=0;a<n.length;a++){var l=null;l=this.element_.classList.contains(this.CssClasses_.TOP_LEFT)||this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)?(t-n[a].offsetTop-n[a].offsetHeight)/t*i+"s":n[a].offsetTop/t*i+"s",n[a].style.transitionDelay=l}this.applyClip_(t,s),window.requestAnimationFrame(function(){this.element_.classList.add(this.CssClasses_.IS_ANIMATING),this.element_.style.clip="rect(0 "+s+"px "+t+"px 0)",this.container_.classList.add(this.CssClasses_.IS_VISIBLE)}.bind(this)),this.addAnimationEndListener_();var o=function(t){t===e||this.closing_||t.target.parentNode===this.element_||(document.removeEventListener("click",o),this.hide())}.bind(this);document.addEventListener("click",o)}},d.prototype.show=d.prototype.show,d.prototype.hide=function(){if(this.element_&&this.container_&&this.outline_){for(var e=this.element_.querySelectorAll("."+this.CssClasses_.ITEM),t=0;t<e.length;t++)e[t].style.removeProperty("transition-delay");var s=this.element_.getBoundingClientRect(),i=s.height,n=s.width;this.element_.classList.add(this.CssClasses_.IS_ANIMATING),this.applyClip_(i,n),this.container_.classList.remove(this.CssClasses_.IS_VISIBLE),this.addAnimationEndListener_()}},d.prototype.hide=d.prototype.hide,d.prototype.toggle=function(e){this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)?this.hide():this.show(e)},d.prototype.toggle=d.prototype.toggle,s.register({constructor:d,classAsString:"MaterialMenu",cssClass:"mdl-js-menu",widget:!0});var h=function(e){this.element_=e,this.init()};window.MaterialProgress=h,h.prototype.Constant_={},h.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},h.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},h.prototype.setProgress=h.prototype.setProgress,h.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},h.prototype.setBuffer=h.prototype.setBuffer,h.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,e=document.createElement("div"),e.className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,e=document.createElement("div"),e.className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},s.register({constructor:h,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0});var c=function(e){this.element_=e,this.init()};window.MaterialRadio=c,c.prototype.Constant_={TINY_TIMEOUT:.001},c.prototype.CssClasses_={IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked",IS_UPGRADED:"is-upgraded",JS_RADIO:"mdl-js-radio",RADIO_BTN:"mdl-radio__button",RADIO_OUTER_CIRCLE:"mdl-radio__outer-circle",RADIO_INNER_CIRCLE:"mdl-radio__inner-circle",RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE_CONTAINER:"mdl-radio__ripple-container",RIPPLE_CENTER:"mdl-ripple--center",RIPPLE:"mdl-ripple"},c.prototype.onChange_=function(e){for(var t=document.getElementsByClassName(this.CssClasses_.JS_RADIO),s=0;s<t.length;s++){var i=t[s].querySelector("."+this.CssClasses_.RADIO_BTN);i.getAttribute("name")===this.btnElement_.getAttribute("name")&&"undefined"!=typeof t[s].MaterialRadio&&t[s].MaterialRadio.updateClasses_()}},c.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},c.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},c.prototype.onMouseup_=function(e){this.blur_()},c.prototype.updateClasses_=function(){this.checkDisabled(),this.checkToggleState()},c.prototype.blur_=function(){window.setTimeout(function(){this.btnElement_.blur()}.bind(this),this.Constant_.TINY_TIMEOUT)},c.prototype.checkDisabled=function(){this.btnElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},c.prototype.checkDisabled=c.prototype.checkDisabled,c.prototype.checkToggleState=function(){this.btnElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED)},c.prototype.checkToggleState=c.prototype.checkToggleState,c.prototype.disable=function(){this.btnElement_.disabled=!0,this.updateClasses_()},c.prototype.disable=c.prototype.disable,c.prototype.enable=function(){this.btnElement_.disabled=!1,this.updateClasses_()},c.prototype.enable=c.prototype.enable,c.prototype.check=function(){this.btnElement_.checked=!0,this.onChange_(null)},c.prototype.check=c.prototype.check,c.prototype.uncheck=function(){this.btnElement_.checked=!1,this.onChange_(null)},c.prototype.uncheck=c.prototype.uncheck,c.prototype.init=function(){if(this.element_){this.btnElement_=this.element_.querySelector("."+this.CssClasses_.RADIO_BTN),this.boundChangeHandler_=this.onChange_.bind(this),this.boundFocusHandler_=this.onChange_.bind(this),this.boundBlurHandler_=this.onBlur_.bind(this),this.boundMouseUpHandler_=this.onMouseup_.bind(this);var e=document.createElement("span");e.classList.add(this.CssClasses_.RADIO_OUTER_CIRCLE);var t=document.createElement("span");t.classList.add(this.CssClasses_.RADIO_INNER_CIRCLE),this.element_.appendChild(e),this.element_.appendChild(t);var s;if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),s=document.createElement("span"),s.classList.add(this.CssClasses_.RIPPLE_CONTAINER),s.classList.add(this.CssClasses_.RIPPLE_EFFECT),s.classList.add(this.CssClasses_.RIPPLE_CENTER),s.addEventListener("mouseup",this.boundMouseUpHandler_);var i=document.createElement("span");i.classList.add(this.CssClasses_.RIPPLE),s.appendChild(i),this.element_.appendChild(s)}this.btnElement_.addEventListener("change",this.boundChangeHandler_),this.btnElement_.addEventListener("focus",this.boundFocusHandler_),this.btnElement_.addEventListener("blur",this.boundBlurHandler_),this.element_.addEventListener("mouseup",this.boundMouseUpHandler_),this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},s.register({constructor:c,classAsString:"MaterialRadio",cssClass:"mdl-js-radio",widget:!0});var p=function(e){this.element_=e,this.isIE_=window.navigator.msPointerEnabled,this.init()};window.MaterialSlider=p,p.prototype.Constant_={},p.prototype.CssClasses_={IE_CONTAINER:"mdl-slider__ie-container",SLIDER_CONTAINER:"mdl-slider__container",BACKGROUND_FLEX:"mdl-slider__background-flex",BACKGROUND_LOWER:"mdl-slider__background-lower",BACKGROUND_UPPER:"mdl-slider__background-upper",IS_LOWEST_VALUE:"is-lowest-value",IS_UPGRADED:"is-upgraded"},p.prototype.onInput_=function(e){this.updateValueStyles_()},p.prototype.onChange_=function(e){this.updateValueStyles_()},p.prototype.onMouseUp_=function(e){e.target.blur()},p.prototype.onContainerMouseDown_=function(e){if(e.target===this.element_.parentElement){e.preventDefault();var t=new MouseEvent("mousedown",{target:e.target,buttons:e.buttons,clientX:e.clientX,clientY:this.element_.getBoundingClientRect().y});this.element_.dispatchEvent(t)}},p.prototype.updateValueStyles_=function(){var e=(this.element_.value-this.element_.min)/(this.element_.max-this.element_.min);0===e?this.element_.classList.add(this.CssClasses_.IS_LOWEST_VALUE):this.element_.classList.remove(this.CssClasses_.IS_LOWEST_VALUE),this.isIE_||(this.backgroundLower_.style.flex=e,this.backgroundLower_.style.webkitFlex=e,this.backgroundUpper_.style.flex=1-e,this.backgroundUpper_.style.webkitFlex=1-e)},p.prototype.disable=function(){this.element_.disabled=!0},p.prototype.disable=p.prototype.disable,p.prototype.enable=function(){this.element_.disabled=!1},p.prototype.enable=p.prototype.enable,p.prototype.change=function(e){"undefined"!=typeof e&&(this.element_.value=e),this.updateValueStyles_()},p.prototype.change=p.prototype.change,p.prototype.init=function(){if(this.element_){if(this.isIE_){var e=document.createElement("div");e.classList.add(this.CssClasses_.IE_CONTAINER),this.element_.parentElement.insertBefore(e,this.element_),this.element_.parentElement.removeChild(this.element_),e.appendChild(this.element_)}else{var t=document.createElement("div");t.classList.add(this.CssClasses_.SLIDER_CONTAINER),this.element_.parentElement.insertBefore(t,this.element_),this.element_.parentElement.removeChild(this.element_),t.appendChild(this.element_);var s=document.createElement("div");s.classList.add(this.CssClasses_.BACKGROUND_FLEX),t.appendChild(s),this.backgroundLower_=document.createElement("div"),this.backgroundLower_.classList.add(this.CssClasses_.BACKGROUND_LOWER),s.appendChild(this.backgroundLower_),this.backgroundUpper_=document.createElement("div"),this.backgroundUpper_.classList.add(this.CssClasses_.BACKGROUND_UPPER),s.appendChild(this.backgroundUpper_)}this.boundInputHandler=this.onInput_.bind(this),this.boundChangeHandler=this.onChange_.bind(this),this.boundMouseUpHandler=this.onMouseUp_.bind(this),this.boundContainerMouseDownHandler=this.onContainerMouseDown_.bind(this),this.element_.addEventListener("input",this.boundInputHandler),this.element_.addEventListener("change",this.boundChangeHandler),this.element_.addEventListener("mouseup",this.boundMouseUpHandler),this.element_.parentElement.addEventListener("mousedown",this.boundContainerMouseDownHandler),this.updateValueStyles_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},s.register({constructor:p,classAsString:"MaterialSlider",cssClass:"mdl-js-slider",widget:!0});var C=function(e){if(this.element_=e,this.textElement_=this.element_.querySelector("."+this.cssClasses_.MESSAGE),this.actionElement_=this.element_.querySelector("."+this.cssClasses_.ACTION),!this.textElement_)throw new Error("There must be a message element for a snackbar.");if(!this.actionElement_)throw new Error("There must be an action element for a snackbar.");this.active=!1,this.actionHandler_=void 0,this.message_=void 0,this.actionText_=void 0,this.queuedNotifications_=[],this.setActionHidden_(!0)};window.MaterialSnackbar=C,C.prototype.Constant_={ANIMATION_LENGTH:250},C.prototype.cssClasses_={SNACKBAR:"mdl-snackbar",MESSAGE:"mdl-snackbar__text",ACTION:"mdl-snackbar__action",ACTIVE:"mdl-snackbar--active"},C.prototype.displaySnackbar_=function(){this.element_.setAttribute("aria-hidden","true"),
this.actionHandler_&&(this.actionElement_.textContent=this.actionText_,this.actionElement_.addEventListener("click",this.actionHandler_),this.setActionHidden_(!1)),this.textElement_.textContent=this.message_,this.element_.classList.add(this.cssClasses_.ACTIVE),this.element_.setAttribute("aria-hidden","false"),setTimeout(this.cleanup_.bind(this),this.timeout_)},C.prototype.showSnackbar=function(e){if(void 0===e)throw new Error("Please provide a data object with at least a message to display.");if(void 0===e.message)throw new Error("Please provide a message to be displayed.");if(e.actionHandler&&!e.actionText)throw new Error("Please provide action text with the handler.");this.active?this.queuedNotifications_.push(e):(this.active=!0,this.message_=e.message,e.timeout?this.timeout_=e.timeout:this.timeout_=2750,e.actionHandler&&(this.actionHandler_=e.actionHandler),e.actionText&&(this.actionText_=e.actionText),this.displaySnackbar_())},C.prototype.showSnackbar=C.prototype.showSnackbar,C.prototype.checkQueue_=function(){this.queuedNotifications_.length>0&&this.showSnackbar(this.queuedNotifications_.shift())},C.prototype.cleanup_=function(){this.element_.classList.remove(this.cssClasses_.ACTIVE),setTimeout(function(){this.element_.setAttribute("aria-hidden","true"),this.textElement_.textContent="",Boolean(this.actionElement_.getAttribute("aria-hidden"))||(this.setActionHidden_(!0),this.actionElement_.textContent="",this.actionElement_.removeEventListener("click",this.actionHandler_)),this.actionHandler_=void 0,this.message_=void 0,this.actionText_=void 0,this.active=!1,this.checkQueue_()}.bind(this),this.Constant_.ANIMATION_LENGTH)},C.prototype.setActionHidden_=function(e){e?this.actionElement_.setAttribute("aria-hidden","true"):this.actionElement_.removeAttribute("aria-hidden")},s.register({constructor:C,classAsString:"MaterialSnackbar",cssClass:"mdl-js-snackbar",widget:!0});var u=function(e){this.element_=e,this.init()};window.MaterialSpinner=u,u.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},u.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},u.prototype.createLayer=function(e){var t=document.createElement("div");t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var s=document.createElement("div");s.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),s.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),n.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var a=[s,i,n],l=0;l<a.length;l++){var o=document.createElement("div");o.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),a[l].appendChild(o)}t.appendChild(s),t.appendChild(i),t.appendChild(n),this.element_.appendChild(t)},u.prototype.createLayer=u.prototype.createLayer,u.prototype.stop=function(){this.element_.classList.remove("is-active")},u.prototype.stop=u.prototype.stop,u.prototype.start=function(){this.element_.classList.add("is-active")},u.prototype.start=u.prototype.start,u.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},s.register({constructor:u,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0});var E=function(e){this.element_=e,this.init()};window.MaterialSwitch=E,E.prototype.Constant_={TINY_TIMEOUT:.001},E.prototype.CssClasses_={INPUT:"mdl-switch__input",TRACK:"mdl-switch__track",THUMB:"mdl-switch__thumb",FOCUS_HELPER:"mdl-switch__focus-helper",RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE_CONTAINER:"mdl-switch__ripple-container",RIPPLE_CENTER:"mdl-ripple--center",RIPPLE:"mdl-ripple",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked"},E.prototype.onChange_=function(e){this.updateClasses_()},E.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},E.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},E.prototype.onMouseUp_=function(e){this.blur_()},E.prototype.updateClasses_=function(){this.checkDisabled(),this.checkToggleState()},E.prototype.blur_=function(){window.setTimeout(function(){this.inputElement_.blur()}.bind(this),this.Constant_.TINY_TIMEOUT)},E.prototype.checkDisabled=function(){this.inputElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},E.prototype.checkDisabled=E.prototype.checkDisabled,E.prototype.checkToggleState=function(){this.inputElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED)},E.prototype.checkToggleState=E.prototype.checkToggleState,E.prototype.disable=function(){this.inputElement_.disabled=!0,this.updateClasses_()},E.prototype.disable=E.prototype.disable,E.prototype.enable=function(){this.inputElement_.disabled=!1,this.updateClasses_()},E.prototype.enable=E.prototype.enable,E.prototype.on=function(){this.inputElement_.checked=!0,this.updateClasses_()},E.prototype.on=E.prototype.on,E.prototype.off=function(){this.inputElement_.checked=!1,this.updateClasses_()},E.prototype.off=E.prototype.off,E.prototype.init=function(){if(this.element_){this.inputElement_=this.element_.querySelector("."+this.CssClasses_.INPUT);var e=document.createElement("div");e.classList.add(this.CssClasses_.TRACK);var t=document.createElement("div");t.classList.add(this.CssClasses_.THUMB);var s=document.createElement("span");if(s.classList.add(this.CssClasses_.FOCUS_HELPER),t.appendChild(s),this.element_.appendChild(e),this.element_.appendChild(t),this.boundMouseUpHandler=this.onMouseUp_.bind(this),this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),this.rippleContainerElement_=document.createElement("span"),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_EFFECT),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER),this.rippleContainerElement_.addEventListener("mouseup",this.boundMouseUpHandler);var i=document.createElement("span");i.classList.add(this.CssClasses_.RIPPLE),this.rippleContainerElement_.appendChild(i),this.element_.appendChild(this.rippleContainerElement_)}this.boundChangeHandler=this.onChange_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.inputElement_.addEventListener("change",this.boundChangeHandler),this.inputElement_.addEventListener("focus",this.boundFocusHandler),this.inputElement_.addEventListener("blur",this.boundBlurHandler),this.element_.addEventListener("mouseup",this.boundMouseUpHandler),this.updateClasses_(),this.element_.classList.add("is-upgraded")}},s.register({constructor:E,classAsString:"MaterialSwitch",cssClass:"mdl-js-switch",widget:!0});var m=function(e){this.element_=e,this.init()};window.MaterialTabs=m,m.prototype.Constant_={},m.prototype.CssClasses_={TAB_CLASS:"mdl-tabs__tab",PANEL_CLASS:"mdl-tabs__panel",ACTIVE_CLASS:"is-active",UPGRADED_CLASS:"is-upgraded",MDL_JS_RIPPLE_EFFECT:"mdl-js-ripple-effect",MDL_RIPPLE_CONTAINER:"mdl-tabs__ripple-container",MDL_RIPPLE:"mdl-ripple",MDL_JS_RIPPLE_EFFECT_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events"},m.prototype.initTabs_=function(){this.element_.classList.contains(this.CssClasses_.MDL_JS_RIPPLE_EFFECT)&&this.element_.classList.add(this.CssClasses_.MDL_JS_RIPPLE_EFFECT_IGNORE_EVENTS),this.tabs_=this.element_.querySelectorAll("."+this.CssClasses_.TAB_CLASS),this.panels_=this.element_.querySelectorAll("."+this.CssClasses_.PANEL_CLASS);for(var t=0;t<this.tabs_.length;t++)new e(this.tabs_[t],this);this.element_.classList.add(this.CssClasses_.UPGRADED_CLASS)},m.prototype.resetTabState_=function(){for(var e=0;e<this.tabs_.length;e++)this.tabs_[e].classList.remove(this.CssClasses_.ACTIVE_CLASS)},m.prototype.resetPanelState_=function(){for(var e=0;e<this.panels_.length;e++)this.panels_[e].classList.remove(this.CssClasses_.ACTIVE_CLASS)},m.prototype.init=function(){this.element_&&this.initTabs_()},s.register({constructor:m,classAsString:"MaterialTabs",cssClass:"mdl-js-tabs"});var L=function(e){this.element_=e,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=L,L.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},L.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},L.prototype.onKeyDown_=function(e){var t=e.target.value.split("\n").length;13===e.keyCode&&t>=this.maxRows&&e.preventDefault()},L.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},L.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},L.prototype.onReset_=function(e){this.updateClasses_()},L.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},L.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},L.prototype.checkDisabled=L.prototype.checkDisabled,L.prototype.checkFocus=function(){Boolean(this.element_.querySelector(":focus"))?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},L.prototype.checkFocus=L.prototype.checkFocus,L.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},L.prototype.checkValidity=L.prototype.checkValidity,L.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},L.prototype.checkDirty=L.prototype.checkDirty,L.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},L.prototype.disable=L.prototype.disable,L.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},L.prototype.enable=L.prototype.enable,L.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},L.prototype.change=L.prototype.change,L.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},s.register({constructor:L,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0});var I=function(e){this.element_=e,this.init()};window.MaterialTooltip=I,I.prototype.Constant_={},I.prototype.CssClasses_={IS_ACTIVE:"is-active",BOTTOM:"mdl-tooltip--bottom",LEFT:"mdl-tooltip--left",RIGHT:"mdl-tooltip--right",TOP:"mdl-tooltip--top"},I.prototype.handleMouseEnter_=function(e){var t=e.target.getBoundingClientRect(),s=t.left+t.width/2,i=t.top+t.height/2,n=-1*(this.element_.offsetWidth/2),a=-1*(this.element_.offsetHeight/2);this.element_.classList.contains(this.CssClasses_.LEFT)||this.element_.classList.contains(this.CssClasses_.RIGHT)?(s=t.width/2,i+a<0?(this.element_.style.top="0",this.element_.style.marginTop="0"):(this.element_.style.top=i+"px",this.element_.style.marginTop=a+"px")):s+n<0?(this.element_.style.left="0",this.element_.style.marginLeft="0"):(this.element_.style.left=s+"px",this.element_.style.marginLeft=n+"px"),this.element_.classList.contains(this.CssClasses_.TOP)?this.element_.style.top=t.top-this.element_.offsetHeight-10+"px":this.element_.classList.contains(this.CssClasses_.RIGHT)?this.element_.style.left=t.left+t.width+10+"px":this.element_.classList.contains(this.CssClasses_.LEFT)?this.element_.style.left=t.left-this.element_.offsetWidth-10+"px":this.element_.style.top=t.top+t.height+10+"px",this.element_.classList.add(this.CssClasses_.IS_ACTIVE)},I.prototype.hideTooltip_=function(){this.element_.classList.remove(this.CssClasses_.IS_ACTIVE)},I.prototype.init=function(){if(this.element_){var e=this.element_.getAttribute("for")||this.element_.getAttribute("data-mdl-for");e&&(this.forElement_=document.getElementById(e)),this.forElement_&&(this.forElement_.hasAttribute("tabindex")||this.forElement_.setAttribute("tabindex","0"),this.boundMouseEnterHandler=this.handleMouseEnter_.bind(this),this.boundMouseLeaveAndScrollHandler=this.hideTooltip_.bind(this),this.forElement_.addEventListener("mouseenter",this.boundMouseEnterHandler,!1),this.forElement_.addEventListener("touchend",this.boundMouseEnterHandler,!1),this.forElement_.addEventListener("mouseleave",this.boundMouseLeaveAndScrollHandler,!1),window.addEventListener("scroll",this.boundMouseLeaveAndScrollHandler,!0),window.addEventListener("touchstart",this.boundMouseLeaveAndScrollHandler))}},s.register({constructor:I,classAsString:"MaterialTooltip",cssClass:"mdl-tooltip"});var f=function(e){this.element_=e,this.init()};window.MaterialLayout=f,f.prototype.Constant_={MAX_WIDTH:"(max-width: 1024px)",TAB_SCROLL_PIXELS:100,RESIZE_TIMEOUT:100,MENU_ICON:"&#xE5D2;",CHEVRON_LEFT:"chevron_left",CHEVRON_RIGHT:"chevron_right"},f.prototype.Keycodes_={ENTER:13,ESCAPE:27,SPACE:32},f.prototype.Mode_={STANDARD:0,SEAMED:1,WATERFALL:2,SCROLL:3},f.prototype.CssClasses_={CONTAINER:"mdl-layout__container",HEADER:"mdl-layout__header",DRAWER:"mdl-layout__drawer",CONTENT:"mdl-layout__content",DRAWER_BTN:"mdl-layout__drawer-button",ICON:"material-icons",JS_RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-layout__tab-ripple-container",RIPPLE:"mdl-ripple",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",HEADER_SEAMED:"mdl-layout__header--seamed",HEADER_WATERFALL:"mdl-layout__header--waterfall",HEADER_SCROLL:"mdl-layout__header--scroll",FIXED_HEADER:"mdl-layout--fixed-header",OBFUSCATOR:"mdl-layout__obfuscator",TAB_BAR:"mdl-layout__tab-bar",TAB_CONTAINER:"mdl-layout__tab-bar-container",TAB:"mdl-layout__tab",TAB_BAR_BUTTON:"mdl-layout__tab-bar-button",TAB_BAR_LEFT_BUTTON:"mdl-layout__tab-bar-left-button",TAB_BAR_RIGHT_BUTTON:"mdl-layout__tab-bar-right-button",TAB_MANUAL_SWITCH:"mdl-layout__tab-manual-switch",PANEL:"mdl-layout__tab-panel",HAS_DRAWER:"has-drawer",HAS_TABS:"has-tabs",HAS_SCROLLING_HEADER:"has-scrolling-header",CASTING_SHADOW:"is-casting-shadow",IS_COMPACT:"is-compact",IS_SMALL_SCREEN:"is-small-screen",IS_DRAWER_OPEN:"is-visible",IS_ACTIVE:"is-active",IS_UPGRADED:"is-upgraded",IS_ANIMATING:"is-animating",ON_LARGE_SCREEN:"mdl-layout--large-screen-only",ON_SMALL_SCREEN:"mdl-layout--small-screen-only"},f.prototype.contentScrollHandler_=function(){if(!this.header_.classList.contains(this.CssClasses_.IS_ANIMATING)){var e=!this.element_.classList.contains(this.CssClasses_.IS_SMALL_SCREEN)||this.element_.classList.contains(this.CssClasses_.FIXED_HEADER);this.content_.scrollTop>0&&!this.header_.classList.contains(this.CssClasses_.IS_COMPACT)?(this.header_.classList.add(this.CssClasses_.CASTING_SHADOW),this.header_.classList.add(this.CssClasses_.IS_COMPACT),e&&this.header_.classList.add(this.CssClasses_.IS_ANIMATING)):this.content_.scrollTop<=0&&this.header_.classList.contains(this.CssClasses_.IS_COMPACT)&&(this.header_.classList.remove(this.CssClasses_.CASTING_SHADOW),this.header_.classList.remove(this.CssClasses_.IS_COMPACT),e&&this.header_.classList.add(this.CssClasses_.IS_ANIMATING))}},f.prototype.keyboardEventHandler_=function(e){e.keyCode===this.Keycodes_.ESCAPE&&this.drawer_.classList.contains(this.CssClasses_.IS_DRAWER_OPEN)&&this.toggleDrawer()},f.prototype.screenSizeHandler_=function(){this.screenSizeMediaQuery_.matches?this.element_.classList.add(this.CssClasses_.IS_SMALL_SCREEN):(this.element_.classList.remove(this.CssClasses_.IS_SMALL_SCREEN),this.drawer_&&(this.drawer_.classList.remove(this.CssClasses_.IS_DRAWER_OPEN),this.obfuscator_.classList.remove(this.CssClasses_.IS_DRAWER_OPEN)))},f.prototype.drawerToggleHandler_=function(e){if(e&&"keydown"===e.type){if(e.keyCode!==this.Keycodes_.SPACE&&e.keyCode!==this.Keycodes_.ENTER)return;e.preventDefault()}this.toggleDrawer()},f.prototype.headerTransitionEndHandler_=function(){this.header_.classList.remove(this.CssClasses_.IS_ANIMATING)},f.prototype.headerClickHandler_=function(){this.header_.classList.contains(this.CssClasses_.IS_COMPACT)&&(this.header_.classList.remove(this.CssClasses_.IS_COMPACT),this.header_.classList.add(this.CssClasses_.IS_ANIMATING))},f.prototype.resetTabState_=function(e){for(var t=0;t<e.length;t++)e[t].classList.remove(this.CssClasses_.IS_ACTIVE)},f.prototype.resetPanelState_=function(e){for(var t=0;t<e.length;t++)e[t].classList.remove(this.CssClasses_.IS_ACTIVE)},f.prototype.toggleDrawer=function(){var e=this.element_.querySelector("."+this.CssClasses_.DRAWER_BTN);this.drawer_.classList.toggle(this.CssClasses_.IS_DRAWER_OPEN),this.obfuscator_.classList.toggle(this.CssClasses_.IS_DRAWER_OPEN),this.drawer_.classList.contains(this.CssClasses_.IS_DRAWER_OPEN)?(this.drawer_.setAttribute("aria-hidden","false"),e.setAttribute("aria-expanded","true")):(this.drawer_.setAttribute("aria-hidden","true"),e.setAttribute("aria-expanded","false"))},f.prototype.toggleDrawer=f.prototype.toggleDrawer,f.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.classList.add(this.CssClasses_.CONTAINER);var s=this.element_.querySelector(":focus");this.element_.parentElement.insertBefore(e,this.element_),this.element_.parentElement.removeChild(this.element_),e.appendChild(this.element_),s&&s.focus();for(var i=this.element_.childNodes,n=i.length,a=0;a<n;a++){var l=i[a];l.classList&&l.classList.contains(this.CssClasses_.HEADER)&&(this.header_=l),l.classList&&l.classList.contains(this.CssClasses_.DRAWER)&&(this.drawer_=l),l.classList&&l.classList.contains(this.CssClasses_.CONTENT)&&(this.content_=l)}window.addEventListener("pageshow",function(e){e.persisted&&(this.element_.style.overflowY="hidden",requestAnimationFrame(function(){this.element_.style.overflowY=""}.bind(this)))}.bind(this),!1),this.header_&&(this.tabBar_=this.header_.querySelector("."+this.CssClasses_.TAB_BAR));var o=this.Mode_.STANDARD;if(this.header_&&(this.header_.classList.contains(this.CssClasses_.HEADER_SEAMED)?o=this.Mode_.SEAMED:this.header_.classList.contains(this.CssClasses_.HEADER_WATERFALL)?(o=this.Mode_.WATERFALL,this.header_.addEventListener("transitionend",this.headerTransitionEndHandler_.bind(this)),this.header_.addEventListener("click",this.headerClickHandler_.bind(this))):this.header_.classList.contains(this.CssClasses_.HEADER_SCROLL)&&(o=this.Mode_.SCROLL,e.classList.add(this.CssClasses_.HAS_SCROLLING_HEADER)),o===this.Mode_.STANDARD?(this.header_.classList.add(this.CssClasses_.CASTING_SHADOW),this.tabBar_&&this.tabBar_.classList.add(this.CssClasses_.CASTING_SHADOW)):o===this.Mode_.SEAMED||o===this.Mode_.SCROLL?(this.header_.classList.remove(this.CssClasses_.CASTING_SHADOW),this.tabBar_&&this.tabBar_.classList.remove(this.CssClasses_.CASTING_SHADOW)):o===this.Mode_.WATERFALL&&(this.content_.addEventListener("scroll",this.contentScrollHandler_.bind(this)),this.contentScrollHandler_())),this.drawer_){var r=this.element_.querySelector("."+this.CssClasses_.DRAWER_BTN);if(!r){r=document.createElement("div"),r.setAttribute("aria-expanded","false"),r.setAttribute("role","button"),r.setAttribute("tabindex","0"),r.classList.add(this.CssClasses_.DRAWER_BTN);var _=document.createElement("i");_.classList.add(this.CssClasses_.ICON),_.innerHTML=this.Constant_.MENU_ICON,r.appendChild(_)}this.drawer_.classList.contains(this.CssClasses_.ON_LARGE_SCREEN)?r.classList.add(this.CssClasses_.ON_LARGE_SCREEN):this.drawer_.classList.contains(this.CssClasses_.ON_SMALL_SCREEN)&&r.classList.add(this.CssClasses_.ON_SMALL_SCREEN),r.addEventListener("click",this.drawerToggleHandler_.bind(this)),r.addEventListener("keydown",this.drawerToggleHandler_.bind(this)),this.element_.classList.add(this.CssClasses_.HAS_DRAWER),this.element_.classList.contains(this.CssClasses_.FIXED_HEADER)?this.header_.insertBefore(r,this.header_.firstChild):this.element_.insertBefore(r,this.content_);var d=document.createElement("div");d.classList.add(this.CssClasses_.OBFUSCATOR),this.element_.appendChild(d),d.addEventListener("click",this.drawerToggleHandler_.bind(this)),this.obfuscator_=d,this.drawer_.addEventListener("keydown",this.keyboardEventHandler_.bind(this)),this.drawer_.setAttribute("aria-hidden","true")}if(this.screenSizeMediaQuery_=window.matchMedia(this.Constant_.MAX_WIDTH),this.screenSizeMediaQuery_.addListener(this.screenSizeHandler_.bind(this)),this.screenSizeHandler_(),this.header_&&this.tabBar_){this.element_.classList.add(this.CssClasses_.HAS_TABS);var h=document.createElement("div");h.classList.add(this.CssClasses_.TAB_CONTAINER),this.header_.insertBefore(h,this.tabBar_),this.header_.removeChild(this.tabBar_);var c=document.createElement("div");c.classList.add(this.CssClasses_.TAB_BAR_BUTTON),c.classList.add(this.CssClasses_.TAB_BAR_LEFT_BUTTON);var p=document.createElement("i");p.classList.add(this.CssClasses_.ICON),p.textContent=this.Constant_.CHEVRON_LEFT,c.appendChild(p),c.addEventListener("click",function(){this.tabBar_.scrollLeft-=this.Constant_.TAB_SCROLL_PIXELS}.bind(this));var C=document.createElement("div");C.classList.add(this.CssClasses_.TAB_BAR_BUTTON),C.classList.add(this.CssClasses_.TAB_BAR_RIGHT_BUTTON);var u=document.createElement("i");u.classList.add(this.CssClasses_.ICON),u.textContent=this.Constant_.CHEVRON_RIGHT,C.appendChild(u),C.addEventListener("click",function(){this.tabBar_.scrollLeft+=this.Constant_.TAB_SCROLL_PIXELS}.bind(this)),h.appendChild(c),h.appendChild(this.tabBar_),h.appendChild(C);var E=function(){this.tabBar_.scrollLeft>0?c.classList.add(this.CssClasses_.IS_ACTIVE):c.classList.remove(this.CssClasses_.IS_ACTIVE),this.tabBar_.scrollLeft<this.tabBar_.scrollWidth-this.tabBar_.offsetWidth?C.classList.add(this.CssClasses_.IS_ACTIVE):C.classList.remove(this.CssClasses_.IS_ACTIVE)}.bind(this);this.tabBar_.addEventListener("scroll",E),E();var m=function(){this.resizeTimeoutId_&&clearTimeout(this.resizeTimeoutId_),this.resizeTimeoutId_=setTimeout(function(){E(),this.resizeTimeoutId_=null}.bind(this),this.Constant_.RESIZE_TIMEOUT)}.bind(this);window.addEventListener("resize",m),this.tabBar_.classList.contains(this.CssClasses_.JS_RIPPLE_EFFECT)&&this.tabBar_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS);for(var L=this.tabBar_.querySelectorAll("."+this.CssClasses_.TAB),I=this.content_.querySelectorAll("."+this.CssClasses_.PANEL),f=0;f<L.length;f++)new t(L[f],L,I,this)}this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},window.MaterialLayoutTab=t,s.register({constructor:f,classAsString:"MaterialLayout",cssClass:"mdl-js-layout"});var b=function(e){this.element_=e,this.init()};window.MaterialDataTable=b,b.prototype.Constant_={},b.prototype.CssClasses_={DATA_TABLE:"mdl-data-table",SELECTABLE:"mdl-data-table--selectable",SELECT_ELEMENT:"mdl-data-table__select",IS_SELECTED:"is-selected",IS_UPGRADED:"is-upgraded"},b.prototype.selectRow_=function(e,t,s){return t?function(){e.checked?t.classList.add(this.CssClasses_.IS_SELECTED):t.classList.remove(this.CssClasses_.IS_SELECTED)}.bind(this):s?function(){var t,i;if(e.checked)for(t=0;t<s.length;t++)i=s[t].querySelector("td").querySelector(".mdl-checkbox"),i.MaterialCheckbox.check(),s[t].classList.add(this.CssClasses_.IS_SELECTED);else for(t=0;t<s.length;t++)i=s[t].querySelector("td").querySelector(".mdl-checkbox"),i.MaterialCheckbox.uncheck(),s[t].classList.remove(this.CssClasses_.IS_SELECTED)}.bind(this):void 0},b.prototype.createCheckbox_=function(e,t){var i=document.createElement("label"),n=["mdl-checkbox","mdl-js-checkbox","mdl-js-ripple-effect",this.CssClasses_.SELECT_ELEMENT];i.className=n.join(" ");var a=document.createElement("input");return a.type="checkbox",a.classList.add("mdl-checkbox__input"),e?(a.checked=e.classList.contains(this.CssClasses_.IS_SELECTED),a.addEventListener("change",this.selectRow_(a,e))):t&&a.addEventListener("change",this.selectRow_(a,null,t)),i.appendChild(a),s.upgradeElement(i,"MaterialCheckbox"),i},b.prototype.init=function(){if(this.element_){var e=this.element_.querySelector("th"),t=Array.prototype.slice.call(this.element_.querySelectorAll("tbody tr")),s=Array.prototype.slice.call(this.element_.querySelectorAll("tfoot tr")),i=t.concat(s);if(this.element_.classList.contains(this.CssClasses_.SELECTABLE)){var n=document.createElement("th"),a=this.createCheckbox_(null,i);n.appendChild(a),e.parentElement.insertBefore(n,e);for(var l=0;l<i.length;l++){var o=i[l].querySelector("td");if(o){var r=document.createElement("td");if("TBODY"===i[l].parentNode.nodeName.toUpperCase()){var _=this.createCheckbox_(i[l]);r.appendChild(_)}i[l].insertBefore(r,o)}}this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}}},s.register({constructor:b,classAsString:"MaterialDataTable",cssClass:"mdl-js-data-table"});var S=function(e){this.element_=e,this.init()};window.MaterialRipple=S,S.prototype.Constant_={INITIAL_SCALE:"scale(0.0001, 0.0001)",INITIAL_SIZE:"1px",INITIAL_OPACITY:"0.4",FINAL_OPACITY:"0",FINAL_SCALE:""},S.prototype.CssClasses_={RIPPLE_CENTER:"mdl-ripple--center",RIPPLE_EFFECT_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE:"mdl-ripple",IS_ANIMATING:"is-animating",IS_VISIBLE:"is-visible"},S.prototype.downHandler_=function(e){if(!this.rippleElement_.style.width&&!this.rippleElement_.style.height){var t=this.element_.getBoundingClientRect();this.boundHeight=t.height,this.boundWidth=t.width,this.rippleSize_=2*Math.sqrt(t.width*t.width+t.height*t.height)+2,this.rippleElement_.style.width=this.rippleSize_+"px",this.rippleElement_.style.height=this.rippleSize_+"px"}if(this.rippleElement_.classList.add(this.CssClasses_.IS_VISIBLE),"mousedown"===e.type&&this.ignoringMouseDown_)this.ignoringMouseDown_=!1;else{"touchstart"===e.type&&(this.ignoringMouseDown_=!0);var s=this.getFrameCount();if(s>0)return;this.setFrameCount(1);var i,n,a=e.currentTarget.getBoundingClientRect();if(0===e.clientX&&0===e.clientY)i=Math.round(a.width/2),n=Math.round(a.height/2);else{var l=void 0!==e.clientX?e.clientX:e.touches[0].clientX,o=void 0!==e.clientY?e.clientY:e.touches[0].clientY;i=Math.round(l-a.left),n=Math.round(o-a.top)}this.setRippleXY(i,n),this.setRippleStyles(!0),window.requestAnimationFrame(this.animFrameHandler.bind(this))}},S.prototype.upHandler_=function(e){e&&2!==e.detail&&window.setTimeout(function(){this.rippleElement_.classList.remove(this.CssClasses_.IS_VISIBLE)}.bind(this),0)},S.prototype.init=function(){if(this.element_){var e=this.element_.classList.contains(this.CssClasses_.RIPPLE_CENTER);this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT_IGNORE_EVENTS)||(this.rippleElement_=this.element_.querySelector("."+this.CssClasses_.RIPPLE),this.frameCount_=0,this.rippleSize_=0,this.x_=0,this.y_=0,this.ignoringMouseDown_=!1,this.boundDownHandler=this.downHandler_.bind(this),this.element_.addEventListener("mousedown",this.boundDownHandler),this.element_.addEventListener("touchstart",this.boundDownHandler),this.boundUpHandler=this.upHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundUpHandler),this.element_.addEventListener("mouseleave",this.boundUpHandler),this.element_.addEventListener("touchend",this.boundUpHandler),this.element_.addEventListener("blur",this.boundUpHandler),this.getFrameCount=function(){return this.frameCount_},this.setFrameCount=function(e){this.frameCount_=e},this.getRippleElement=function(){return this.rippleElement_},this.setRippleXY=function(e,t){this.x_=e,this.y_=t},this.setRippleStyles=function(t){if(null!==this.rippleElement_){var s,i,n,a="translate("+this.x_+"px, "+this.y_+"px)";t?(i=this.Constant_.INITIAL_SCALE,n=this.Constant_.INITIAL_SIZE):(i=this.Constant_.FINAL_SCALE,n=this.rippleSize_+"px",e&&(a="translate("+this.boundWidth/2+"px, "+this.boundHeight/2+"px)")),s="translate(-50%, -50%) "+a+i,this.rippleElement_.style.webkitTransform=s,this.rippleElement_.style.msTransform=s,this.rippleElement_.style.transform=s,t?this.rippleElement_.classList.remove(this.CssClasses_.IS_ANIMATING):this.rippleElement_.classList.add(this.CssClasses_.IS_ANIMATING)}},this.animFrameHandler=function(){this.frameCount_-- >0?window.requestAnimationFrame(this.animFrameHandler.bind(this)):this.setRippleStyles(!1)})}},s.register({constructor:S,classAsString:"MaterialRipple",cssClass:"mdl-js-ripple-effect",widget:!1})}();
//# sourceMappingURL=material.min.js.map

/*! ics.js Wed Aug 20 2014 17:23:02 */
var saveAs=saveAs||function(e){"use strict";if(typeof e==="undefined"||typeof navigator!=="undefined"&&/MSIE [1-9]\./.test(navigator.userAgent)){return}var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),o="download"in r,a=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},i=/constructor/i.test(e.HTMLElement)||e.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent),u=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},s="application/octet-stream",d=1e3*40,c=function(e){var t=function(){if(typeof e==="string"){n().revokeObjectURL(e)}else{e.remove()}};setTimeout(t,d)},l=function(e,t,n){t=[].concat(t);var r=t.length;while(r--){var o=e["on"+t[r]];if(typeof o==="function"){try{o.call(e,n||e)}catch(a){u(a)}}}},p=function(e){if(/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)){return new Blob([String.fromCharCode(65279),e],{type:e.type})}return e},v=function(t,u,d){if(!d){t=p(t)}var v=this,w=t.type,m=w===s,y,h=function(){l(v,"writestart progress write writeend".split(" "))},S=function(){if((f||m&&i)&&e.FileReader){var r=new FileReader;r.onloadend=function(){var t=f?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;");var n=e.open(t,"_blank");if(!n)e.location.href=t;t=undefined;v.readyState=v.DONE;h()};r.readAsDataURL(t);v.readyState=v.INIT;return}if(!y){y=n().createObjectURL(t)}if(m){e.location.href=y}else{var o=e.open(y,"_blank");if(!o){e.location.href=y}}v.readyState=v.DONE;h();c(y)};v.readyState=v.INIT;if(o){y=n().createObjectURL(t);setTimeout(function(){r.href=y;r.download=u;a(r);h();c(y);v.readyState=v.DONE});return}S()},w=v.prototype,m=function(e,t,n){return new v(e,t||e.name||"download",n)};if(typeof navigator!=="undefined"&&navigator.msSaveOrOpenBlob){return function(e,t,n){t=t||e.name||"download";if(!n){e=p(e)}return navigator.msSaveOrOpenBlob(e,t)}}w.abort=function(){};w.readyState=w.INIT=0;w.WRITING=1;w.DONE=2;w.error=w.onwritestart=w.onprogress=w.onwrite=w.onabort=w.onerror=w.onwriteend=null;return m}(typeof self!=="undefined"&&self||typeof window!=="undefined"&&window||this.content);if(typeof module!=="undefined"&&module.exports){module.exports.saveAs=saveAs}else if(typeof define!=="undefined"&&define!==null&&define.amd!==null){define("FileSaver.js",function(){return saveAs})}

/*! ics.js Wed Sept 14 2017 */
var ics=function(e,t){"use strict";{if(!(navigator.userAgent.indexOf("MSIE")>-1&&-1==navigator.userAgent.indexOf("MSIE 10"))){void 0===e&&(e="default"),void 0===t&&(t="Calendar");var r=-1!==navigator.appVersion.indexOf("Win")?"\r\n":"\n",n=[],i=["BEGIN:VCALENDAR","PRODID:"+t,"VERSION:2.0"].join(r),o=r+"END:VCALENDAR",a=["SU","MO","TU","WE","TH","FR","SA"];return{events:function(){return n},calendar:function(){return i+r+n.join(r)+o},addEvent:function(t,i,o,l,u,s){if(void 0===t||void 0===i||void 0===o||void 0===l||void 0===u)return!1;if(s&&!s.rrule){if("YEARLY"!==s.freq&&"MONTHLY"!==s.freq&&"WEEKLY"!==s.freq&&"DAILY"!==s.freq)throw"Recurrence rrule frequency must be provided and be one of the following: 'YEARLY', 'MONTHLY', 'WEEKLY', or 'DAILY'";if(s.until&&isNaN(Date.parse(s.until)))throw"Recurrence rrule 'until' must be a valid date string";if(s.interval&&isNaN(parseInt(s.interval)))throw"Recurrence rrule 'interval' must be an integer";if(s.count&&isNaN(parseInt(s.count)))throw"Recurrence rrule 'count' must be an integer";if(void 0!==s.byday){if("[object Array]"!==Object.prototype.toString.call(s.byday))throw"Recurrence rrule 'byday' must be an array";if(s.byday.length>7)throw"Recurrence rrule 'byday' array must not be longer than the 7 days in a week";s.byday=s.byday.filter(function(e,t){return s.byday.indexOf(e)==t});for(var c in s.byday)if(a.indexOf(s.byday[c])<0)throw"Recurrence rrule 'byday' values must include only the following: 'SU', 'MO', 'TU', 'WE', 'TH', 'FR', 'SA'"}}var g=new Date(l),d=new Date(u),f=new Date,S=("0000"+g.getFullYear().toString()).slice(-4),E=("00"+(g.getMonth()+1).toString()).slice(-2),v=("00"+g.getDate().toString()).slice(-2),y=("00"+g.getHours().toString()).slice(-2),A=("00"+g.getMinutes().toString()).slice(-2),T=("00"+g.getSeconds().toString()).slice(-2),b=("0000"+d.getFullYear().toString()).slice(-4),D=("00"+(d.getMonth()+1).toString()).slice(-2),N=("00"+d.getDate().toString()).slice(-2),h=("00"+d.getHours().toString()).slice(-2),I=("00"+d.getMinutes().toString()).slice(-2),R=("00"+d.getMinutes().toString()).slice(-2),M=("0000"+f.getFullYear().toString()).slice(-4),w=("00"+(f.getMonth()+1).toString()).slice(-2),L=("00"+f.getDate().toString()).slice(-2),O=("00"+f.getHours().toString()).slice(-2),p=("00"+f.getMinutes().toString()).slice(-2),Y=("00"+f.getMinutes().toString()).slice(-2),U="",V="";y+A+T+h+I+R!=0&&(U="T"+y+A+T,V="T"+h+I+R);var B,C=S+E+v+U,j=b+D+N+V,m=M+w+L+("T"+O+p+Y);if(s)if(s.rrule)B=s.rrule;else{if(B="rrule:FREQ="+s.freq,s.until){var x=new Date(Date.parse(s.until)).toISOString();B+=";UNTIL="+x.substring(0,x.length-13).replace(/[-]/g,"")+"000000Z"}s.interval&&(B+=";INTERVAL="+s.interval),s.count&&(B+=";COUNT="+s.count),s.byday&&s.byday.length>0&&(B+=";BYDAY="+s.byday.join(","))}(new Date).toISOString();var H=["BEGIN:VEVENT","UID:"+n.length+"@"+e,"CLASS:PUBLIC","DESCRIPTION:"+i,"DTSTAMP;VALUE=DATE-TIME:"+m,"DTSTART;VALUE=DATE-TIME:"+C,"DTEND;VALUE=DATE-TIME:"+j,"LOCATION:"+o,"SUMMARY;LANGUAGE=en-us:"+t,"TRANSP:TRANSPARENT","END:VEVENT"];return B&&H.splice(4,0,B),H=H.join(r),n.push(H),H},download:function(e,t){if(n.length<1)return!1;t=void 0!==t?t:".ics",e=void 0!==e?e:"calendar";var a,l=i+r+n.join(r)+o;if(-1===navigator.userAgent.indexOf("MSIE 10"))a=new Blob([l]);else{var u=new BlobBuilder;u.append(l),a=u.getBlob("text/x-vCalendar;charset="+document.characterSet)}return saveAs(a,e+t),l},build:function(){return!(n.length<1)&&i+r+n.join(r)+o}}}console.log("Unsupported Browser")}};

/** RSPV.js **/
!function(e){var t,n,r,o;r={},o={},n=function(e){if(o[e])return o[e];o[e]={};var t=r[e];if(!t)throw new Error("Module '"+e+"' not found.");for(var i,s=t.deps,c=t.callback,u=[],f=0,a=s.length;f<a;f++)"exports"===s[f]?u.push(i={}):u.push(n(s[f]));var l=c.apply(this,u);return o[e]=i||l},(t=function(e,t,n){r[e]={deps:t,callback:n}})("rsvp/all",["rsvp/promise","exports"],function(e,t){"use strict";var n=e.Promise;function r(e,t){if("[object Array]"!==Object.prototype.toString.call(t))throw new TypeError("You must pass an array to all.");function r(){for(var e,n=0;n<t.length;n++)(e=t[n])&&"function"==typeof e.then&&"function"==typeof e.cancel&&e.cancel()}return new n(function(n,o){var i,s=[],c=t.length,u=t.length-e;function f(e){return function(t){a(e,t)}}function a(e,t){s[e]=t,--c===u&&(0===u?n(s):(n(t),r()))}function l(e){o(e),r()}0===c&&(1===e?n():n([]));for(var p=0;p<t.length;p++)(i=t[p])&&"function"==typeof i.then?i.then(f(p),l):a(p,i)},r)}t.all=function(e){return r(e.length,e)},t.any=function(e){return r(1,e)}}),t("rsvp/async",["exports"],function(e){"use strict";var t,n,r,o,i,s="undefined"!=typeof window?window:{},c=s.MutationObserver||s.WebKitMutationObserver,u="undefined"!=typeof global?global:this;!function(){if("function"==typeof Promise&&"function"==typeof Promise.resolve)try{var e=new Promise(function(){});if("[object Promise]"==={}.toString.call(e))return!0}catch(e){}return!1}()?"function"==typeof setImmediate?t=function(e,t){setImmediate(function(){e(t)})}:"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?t=function(e,t){process.nextTick(function(){e(t)})}:c?(n=[],r=new c(function(){var e=n.slice();n=[],e.forEach(function(e){(0,e[0])(e[1])})}),o=document.createElement("div"),r.observe(o,{attributes:!0}),window.addEventListener("unload",function(){r.disconnect(),r=null},!1),t=function(e,t){n.push([e,t]),o.setAttribute("drainQueue","drainQueue")}):t=function(e,t){u.setTimeout(function(){e(t)},1)}:(i=Promise.resolve(),t=function(e,t){i.then(function(){e(t)})}),e.async=t}),t("rsvp/cancellation_error",["exports"],function(e){"use strict";function t(e){if(this.name="cancel",void 0!==e&&"string"!=typeof e)throw new TypeError("You must pass a string.");this.message=e||"Default Message"}t.prototype=new Error,t.prototype.constructor=t,e.CancellationError=t}),t("rsvp/config",["rsvp/async","exports"],function(e,t){"use strict";var n=e.async,r={};r.async=n,t.config=r}),t("rsvp/defer",["rsvp/promise","exports"],function(e,t){"use strict";var n=e.Promise;t.defer=function(){var e={resolve:void 0,reject:void 0,promise:void 0};return e.promise=new n(function(t,n){e.resolve=t,e.reject=n}),e}}),t("rsvp/events",["exports"],function(e){"use strict";var t=function(e,t){for(var n in this.type=e,t)t.hasOwnProperty(n)&&(this[n]=t[n])},n=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n][0]===t)return n;return-1},r=function(e){var t=e._promiseCallbacks;return t||(t=e._promiseCallbacks={}),t},o={mixin:function(e){return e.on=this.on,e.off=this.off,e.trigger=this.trigger,e},on:function(e,t,o){var i,s,c=r(this);for(e=e.split(/\s+/),o=o||this;s=e.shift();)(i=c[s])||(i=c[s]=[]),-1===n(i,t)&&i.push([t,o])},off:function(e,t){var o,i,s,c=r(this);for(e=e.split(/\s+/);i=e.shift();)t?(o=c[i],-1!==(s=n(o,t))&&o.splice(s,1)):c[i]=[]},trigger:function(e,n){var o,i,s,c,u;if(o=r(this)[e])for(var f=0;f<o.length;f++)s=(i=o[f])[0],c=i[1],"object"!=typeof n&&(n={detail:n}),u=new t(e,n),s.call(c,u)}};e.EventTarget=o}),t("rsvp/hash",["rsvp/promise","exports"],function(e,t){"use strict";var n=e.Promise;t.hash=function(e){function t(){var t,n;for(n in e)e.hasOwnProperty(n)&&(t=e[n])&&"function"==typeof t.then&&"function"==typeof t.cancel&&t.cancel()}return new n(function(n,r){var o,i={},s=function(e){var t=0;for(var n in e)t++;return t}(e);function c(e){return function(t){u(e,t)}}function u(e,t){i[e]=t,0==--s&&n(i)}function f(e){r(e),t()}for(var a in 0===s&&n(i),e)(o=e[a])&&"function"==typeof o.then?o.then(c(a),f):u(a,o)},t)}}),t("rsvp/node",["rsvp/promise","rsvp/all","exports"],function(e,t,n){"use strict";var r=e.Promise,o=t.all;n.denodeify=function(e){return function(){var t,n,i=Array.prototype.slice.call(arguments),s=this,c=new r(function(e,r){t=e,n=r});return o(i).then(function(r){r.push(function(e,t){return function(n,r){n?t(n):arguments.length>2?e(Array.prototype.slice.call(arguments,1)):e(r)}}(t,n));try{e.apply(s,r)}catch(e){n(e)}}),c}}}),t("rsvp/promise",["rsvp/config","rsvp/events","rsvp/cancellation_error","exports"],function(e,t,n,r){"use strict";var o=e.config,i=t.EventTarget,s=n.CancellationError;function c(e){return"function"==typeof e}var u=function(e,t){var n=this,r=!1;if("function"!=typeof e)throw new TypeError("You must pass a resolver function as the sole argument to the promise constructor");if(void 0!==t&&"function"!=typeof t)throw new TypeError("You can only pass a canceller function as the second argument to the promise constructor");if(!(n instanceof u))return new u(e,t);var o=function(e){r||(r=!0,h(n,e))};this.on("promise:failed",function(e){this.trigger("error",{detail:e.detail})},this),this.on("error",f),this.cancel=function(){if(!r){if(n.isCancelled=!0,void 0!==t)try{t()}catch(e){return void o(e)}o(new s)}};try{e(function(e){r||(r=!0,l(n,e))},o)}catch(e){o(e)}};function f(e){o.onerror&&o.onerror(e.detail)}var a=function(e,t,n,r){var o,i,s,u,f=c(n);if(!t.isFulfilled&&!t.isRejected&&!t.isCancelled){if(f)try{o=n(r.detail),s=!0}catch(e){u=!0,i=e}else o=r.detail,s=!0;p(t,o)||(f&&s?l(t,o):u?h(t,i):"resolve"===e?l(t,o):"reject"===e&&h(t,o))}};function l(e,t){e===t?v(e,t):p(e,t)||v(e,t)}function p(e,t){var n,r,o=null;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if((c(r=t)||"object"==typeof r&&null!==r)&&c(o=t.then))return e.on("promise:cancelled",function(e){c(t.cancel)&&t.cancel()}),o.call(t,function(r){if(n)return!0;n=!0,t!==r?l(e,r):v(e,r)},function(t){if(n)return!0;n=!0,h(e,t)}),!0}catch(t){return h(e,t),!0}return!1}function v(e,t){o.async(function(){e.isFulfilled||e.isRejected||(e.trigger("promise:resolved",{detail:t}),e.isFulfilled=!0,e.fulfillmentValue=t)})}function h(e,t){o.async(function(){e.isFulfilled||e.isRejected||(e.trigger("promise:failed",{detail:t}),e.isRejected=!0,e.rejectedReason=t)})}u.prototype={constructor:u,isCancelled:void 0,isRejected:void 0,isFulfilled:void 0,rejectedReason:void 0,fulfillmentValue:void 0,then:function(e,t){this.off("error",f);var n=new this.constructor(function(){},function(){n.trigger("promise:cancelled",{})});return this.isFulfilled&&o.async(function(t){a("resolve",n,e,{detail:t.fulfillmentValue})},this),this.isRejected&&o.async(function(e){a("reject",n,t,{detail:e.rejectedReason})},this),this.on("promise:resolved",function(t){a("resolve",n,e,t)}),this.on("promise:failed",function(e){a("reject",n,t,e)}),n},fail:function(e){return this.then(null,e)},always:function(e){return this.then(e,e)}},i.mixin(u.prototype),r.Promise=u}),t("rsvp/queue",["rsvp/promise","rsvp/resolve","exports"],function(e,t,n){"use strict";var r=e.Promise,o=t.resolve;function i(e){if(this.name="resolved",void 0!==e&&"string"!=typeof e)throw new TypeError("You must pass a string.");this.message=e||"Default Message"}i.prototype=new Error,i.prototype.constructor=i;var s=function(e){var t,n,c,u,f=this,a=[];if(!(this instanceof s))return new s(e);function l(e){a.push(e),a.push(e.then(function(e){if(a.splice(0,2),0!==a.length)return e;n(e)},function(e){if(a.splice(0,2),0!==a.length)throw e;c(e)}))}t=new r(function(e,t){n=function(t){if(!u)return f.isFulfilled=!0,f.fulfillmentValue=t,u=!0,e(t)},c=function(e){if(!u)return f.isRejected=!0,f.rejectedReason=e,u=!0,t(e)}},function(){for(var e=a.length;e>0;e--)a[e-1].cancel()}),l(o(e)),f.cancel=function(){u||(u=!0,t.cancel(),t.fail(function(e){f.isRejected=!0,f.rejectedReason=e}))},f.then=function(){return t.then.apply(t,arguments)},f.push=function(e,t){var n=a[a.length-1];if(u)throw new i;return l(n.then(e,t)),this}};s.prototype=Object.create(r.prototype),s.prototype.constructor=s,n.Queue=s,n.ResolvedQueueError=i}),t("rsvp/reject",["rsvp/promise","exports"],function(e,t){"use strict";var n=e.Promise;t.reject=function(e){return new n(function(t,n){n(e)})}}),t("rsvp/resolve",["rsvp/promise","exports"],function(e,t){"use strict";var n=e.Promise;t.resolve=function(e){return new n(function(t,n){if("object"==typeof e&&null!==e){var r=e.then;if(void 0!==r&&"function"==typeof r)return r.apply(e,[t,n])}return t(e)},function(){void 0!==e&&void 0!==e.cancel&&e.cancel()})}}),t("rsvp/rethrow",["exports"],function(e){"use strict";var t="undefined"==typeof global?this:global;e.rethrow=function(e){throw t.setTimeout(function(){throw e}),e}}),t("rsvp/timeout",["rsvp/promise","exports"],function(e,t){"use strict";var n=e.Promise;function r(e,t,r){var o;return new n(function(n,i){o=setTimeout(function(){t?i(r):n(r)},e)},function(){clearTimeout(o)})}function o(e,t){return r(e,!1,t)}n.prototype.delay=function(e){return this.then(function(t){return o(e,t)})},t.delay=o,t.timeout=function(e){return r(e,!0,"Timed out after "+e+" ms")}}),t("rsvp",["rsvp/events","rsvp/cancellation_error","rsvp/promise","rsvp/node","rsvp/all","rsvp/queue","rsvp/timeout","rsvp/hash","rsvp/rethrow","rsvp/defer","rsvp/config","rsvp/resolve","rsvp/reject","exports"],function(e,t,n,r,o,i,s,c,u,f,a,l,p,v){"use strict";var h=e.EventTarget,d=t.CancellationError,y=n.Promise,m=r.denodeify,g=o.all,w=o.any,j=i.Queue,b=i.ResolvedQueueError,E=s.delay,x=s.timeout,P=c.hash,R=u.rethrow,T=f.defer,C=a.config,Q=l.resolve,F=p.reject;v.CancellationError=d,v.Promise=y,v.EventTarget=h,v.all=g,v.any=w,v.Queue=j,v.ResolvedQueueError=b,v.delay=E,v.timeout=x,v.hash=P,v.rethrow=R,v.defer=T,v.denodeify=m,v.configure=function(e,t){C[e]=t},v.resolve=Q,v.reject=F}),window.RSVP=n("rsvp")}(window);

/** 
  * RenderJS by www.nexedi.com
  * 
  * RenderJS is free software licensed under GPLv3+ with additional permission
  * to link, combine and redistribute it with other free or open source software.
  *
  * Please see https://www.nexedi.com/licensing for rationale and options.
  * 
  * https://lab.nexedi.com/nexedi/renderjs/raw/master/dist/renderjs-latest.js
  **/
var Channel=function(){"use strict";var d=Math.floor(1000001*Math.random()),l={};function L(e){return Array.isArray?Array.isArray(e):-1!=e.constructor.toString().indexOf("Array")}var q={},e=function(e){try{var t=JSON.parse(e.data);if("object"!=typeof t||null===t)throw"malformed"}catch(e){return}var r,n,o,i=e.source,a=e.origin;if("string"==typeof t.method){var s=t.method.split("::");2==s.length?(r=s[0],o=s[1]):o=t.method}if(void 0!==t.id&&(n=t.id),"string"==typeof o){var c=!1;if(l[a]&&l[a][r])for(var u=0;u<l[a][r].length;u++)if(l[a][r][u].win===i){l[a][r][u].handler(a,o,t),c=!0;break}if(!c&&l["*"]&&l["*"][r])for(u=0;u<l["*"][r].length;u++)if(l["*"][r][u].win===i){l["*"][r][u].handler(a,o,t);break}}else void 0!==n&&q[n]&&q[n](a,o,t)};return window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent&&window.attachEvent("onmessage",e),{build:function(w){var v=function(e){if(w.debugOutput&&window.console&&window.console.log){try{"string"!=typeof e&&(e=JSON.stringify(e))}catch(e){}console.log("["+r+"] "+e)}};if(!window.postMessage)throw"jschannel cannot run this browser, no postMessage";if(!window.JSON||!window.JSON.stringify||!window.JSON.parse)throw"jschannel cannot run this browser, no JSON parsing/serialization";if("object"!=typeof w)throw"Channel build invoked without a proper object argument";if(!w.window||!w.window.postMessage)throw"Channel.build() called without a valid window argument";if(window===w.window)throw"target window is same as present window -- not allowed";var e,t=!1;"string"==typeof w.origin&&("*"===w.origin?t=!0:null!==(e=w.origin.match(/^https?:\/\/(?:[-a-zA-Z0-9_\.])+(?::\d+)?/))&&(w.origin=e[0].toLowerCase(),t=!0));if(!t)throw"Channel.build() called with an invalid origin";if(void 0!==w.scope){if("string"!=typeof w.scope)throw"scope, when specified, must be a string";if(1<w.scope.split("::").length)throw"scope may not contain double colons: '::'"}var r=function(){for(var e="",t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",r=0;r<5;r++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}(),y={},b={},E={},n=!1,o=[],c=function(e,t,r){if("function"==typeof w.gotMessageObserver)try{w.gotMessageObserver(e,r)}catch(e){v("gotMessageObserver() raised an exception: "+e.toString())}if(r.id&&t){if(y[t]){var n=(f=r.id,p=e,_=r.callbacks?r.callbacks:[],m=g=!1,{origin:p,invoke:function(e,t){if(!E[f])throw"attempting to invoke a callback of a nonexistent transaction: "+f;for(var r=!1,n=0;n<_.length;n++)if(e===_[n]){r=!0;break}if(!r)throw"request supports no such callback '"+e+"'";S({id:f,callback:e,params:t})},error:function(e,t){if(m=!0,!E[f])throw"error called for nonexistent message: "+f;delete E[f],S({id:f,error:e,message:t})},complete:function(e){if(m=!0,!E[f])throw"complete called for nonexistent message: "+f;delete E[f],S({id:f,result:e})},delayReturn:function(e){return"boolean"==typeof e&&(g=!0===e),g},completed:function(){return m}});E[r.id]={};try{if(r.callbacks&&L(r.callbacks)&&0<r.callbacks.length)for(var o=0;o<r.callbacks.length;o++){for(var i=r.callbacks[o],a=r.params,s=i.split("/"),c=0;c<s.length-1;c++){var u=s[c];"object"!=typeof a[u]&&(a[u]={}),a=a[u]}a[s[s.length-1]]=function(){var t=i;return function(e){return n.invoke(t,e)}}()}var d=y[t](n,r.params);n.delayReturn()||n.completed()||n.complete(d)}catch(t){var l="runtime_error",h=null;if("string"==typeof t?h=t:"object"==typeof t&&(t&&L(t)&&2==t.length?(l=t[0],h=t[1]):"string"==typeof t.error&&(l=t.error,t.message?"string"==typeof t.message?h=t.message:t=t.message:h="")),null===h)try{void 0===(h=JSON.stringify(t))&&(h=t.toString())}catch(e){h=t.toString()}n.error(l,h)}}}else r.id&&r.callback?b[r.id]&&b[r.id].callbacks&&b[r.id].callbacks[r.callback]?b[r.id].callbacks[r.callback](r.params):v("ignoring invalid callback, id:"+r.id+" ("+r.callback+")"):r.id?b[r.id]?(r.error?(0,b[r.id].error)(r.error,r.message):void 0!==r.result?(0,b[r.id].success)(r.result):(0,b[r.id].success)(),delete b[r.id],delete q[r.id]):v("ignoring invalid response: "+r.id):t&&y[t]&&y[t]({origin:e},r.params);var f,p,_,g,m};!function(r,e,t,n){function o(e){for(var t=0;t<e.length;t++)if(e[t].win===r)return!0;return!1}var i=!1;if("*"===e){for(var a in l)if(l.hasOwnProperty(a)&&"*"!==a&&"object"==typeof l[a][t]&&(i=o(l[a][t])))break}else l["*"]&&l["*"][t]&&(i=o(l["*"][t])),!i&&l[e]&&l[e][t]&&(i=o(l[e][t]));if(i)throw"A channel is already bound to the same window which overlaps with origin '"+e+"' and has scope '"+t+"'";"object"!=typeof l[e]&&(l[e]={}),"object"!=typeof l[e][t]&&(l[e][t]=[]),l[e][t].push({win:r,handler:n})}(w.window,w.origin,"string"==typeof w.scope?w.scope:"",c);var u=function(e){return"string"==typeof w.scope&&w.scope.length&&(e=[w.scope,e].join("::")),e},S=function(e,t){if(!e)throw"postMessage called with null message";if(v((n?"post  ":"queue ")+" message: "+JSON.stringify(e)),t||n){if("function"==typeof w.postMessageObserver)try{w.postMessageObserver(w.origin,e)}catch(e){v("postMessageObserver() raised an exception: "+e.toString())}w.window.postMessage(JSON.stringify(e),w.origin)}else o.push(e)},i={unbind:function(e){if(y[e]){if(!delete y[e])throw"can't delete method: "+e;return!0}return!1},bind:function(e,t){if(!e||"string"!=typeof e)throw"'method' argument to bind must be string";if(!t||"function"!=typeof t)throw"callback missing from bind params";if(y[e])throw"method '"+e+"' is already bound!";return y[e]=t,this},call:function(e){if(!e)throw"missing arguments to call function";if(!e.method||"string"!=typeof e.method)throw"'method' argument to call must be string";if(!e.success||"function"!=typeof e.success)throw"'success' callback missing from call";var o={},i=[],a=function(e,t){if("object"==typeof t)for(var r in t)if(t.hasOwnProperty(r)){var n=e+(e.length?"/":"")+r;"function"==typeof t[r]?(o[n]=t[r],i.push(n),delete t[r]):"object"==typeof t[r]&&a(n,t[r])}};a("",e.params);var t,r,n,s={id:d,method:u(e.method),params:e.params};i.length&&(s.callbacks=i),e.timeout&&(t=d,r=e.timeout,n=u(e.method),window.setTimeout(function(){if(b[t]){var e="timeout ("+r+"ms) exceeded on method '"+n+"'";(0,b[t].error)("timeout_error",e),delete b[t],delete q[t]}},r)),b[d]={callbacks:o,error:e.error,success:e.success},q[d]=c,d++,S(s)},notify:function(e){if(!e)throw"missing arguments to notify function";if(!e.method||"string"!=typeof e.method)throw"'method' argument to notify must be string";S({method:u(e.method),params:e.params})},destroy:function(){!function(e,t,r){for(var n=l[t][r],o=0;o<n.length;o++)n[o].win===e&&n.splice(o,1);0===l[t][r].length&&delete l[t][r]}(w.window,w.origin,"string"==typeof w.scope?w.scope:""),window.removeEventListener?window.removeEventListener("message",c,!1):window.detachEvent&&window.detachEvent("onmessage",c),n=!1,y={},E={},b={},w.origin=null,o=[],v("channel destroyed"),r=""}};return i.bind("__ready",function(e,t){if(v("ready msg received"),n)throw"received ready message while in ready state.  help!";for(r+="ping"===t?"-R":"-L",i.unbind("__ready"),n=!0,v("ready msg accepted."),"ping"===t&&i.notify({method:"__ready",params:"pong"});o.length;)S(o.pop());"function"==typeof w.onReady&&w.onReady(i)}),setTimeout(function(){S({method:u("__ready"),params:"ping"},!0)},0),i}}}();!function(e){"use strict";var t=e.prototype,a=t.parseFromString;try{if((new e).parseFromString("","text/html"))return}catch(e){}t.parseFromString=function(e,t){var r,n,o,i;return/^\s*text\/html\s*(?:;|$)/i.test(t)?((o=(n=document.implementation.createHTMLDocument("")).documentElement).innerHTML=e,i=o.firstElementChild,1===o.childElementCount&&"html"===i.localName.toLowerCase()&&n.replaceChild(i,o),r=n):r=a.apply(this,arguments),r}}(DOMParser),"function"!=typeof document.contains&&(Document.prototype.contains=function(e){return e===this||e.parentNode===this||this.documentElement.contains(e)}),function(s){"use strict";try{if("https://example.com/a"===new window.URL("../a","https://example.com/").href)return}catch(e){}var c=/^(?:[a-z]+:)?\/\/|data:/i;function e(e,t){if(void 0!==t){if(!c.test(t))throw new TypeError("Failed to construct 'URL': Invalid base URL");n=t,e=(r=e)&&n?(i=(o=(new s).parseFromString("<!doctype><html><head></head></html>","text/html")).createElement("base"),a=o.createElement("link"),o.head.appendChild(i),o.head.appendChild(a),i.href=n,a.href=r,a.href):r}var r,n,o,i,a;if(!c.test(e))throw new TypeError("Failed to construct 'URL': Invalid URL");this.href=e}e.prototype.href="",window.URL&&window.URL.createObjectURL&&(e.createObjectURL=window.URL.createObjectURL),window.URL&&window.URL.revokeObjectURL&&(e.revokeObjectURL=window.URL.revokeObjectURL),window.URL=e}(DOMParser),function(u,d,h,c,l,s,f,p,_,g,m,r){"use strict";function t(e){if(this.name="scopeerror",void 0!==e&&"string"!=typeof e)throw new TypeError("You must pass a string.");this.message=e||"Scope Error"}function w(e,t,r){var n;try{n=e.apply(r,t)}catch(e){return(new h.Queue).push(function(){return h.reject(e)})}return n instanceof h.Queue?n:(new h.Queue).push(function(){return n})}function n(r){var n;return new h.Promise(function(e,t){(n=new XMLHttpRequest).open("GET",r),n.onreadystatechange=function(){try{0===n.readyState?t(n):4===n.readyState&&(n.status<200||300<=n.status||!/^text\/html[;]?/.test(n.getResponseHeader("Content-Type")||"")?t(n):e(n))}catch(e){t(e)}},n.setRequestHeader("Accept","text/html"),n.withCredentials=!0,n.send()},function(){void 0!==n&&n.readyState!==n.DONE&&n.abort()})}(t.prototype=new Error).constructor=t;var v,y,i,o,a,b,E,S,L,e,q,C,O={},M={},R={},A=[],j=0,x=new RegExp("^(?:[a-z]+:)?//|data:","i"),P=!1,k=[];function N(e){var t,r,n,o,i,a;if(P)return console.info("-- Error dropped, as page is unloaded"),void console.info(e);for(k.push(e),k.push(new Error("stopping renderJS")),r=u.getElementsByTagName("body")[0];r.firstChild;)r.removeChild(r.firstChild);for(n=u.createElement("section"),(o=u.createElement("h1")).textContent="Unhandled Error",n.appendChild(o),(o=u.createElement("p")).textContent="Please report this error to the support team",n.appendChild(o),(o=u.createElement("p")).textContent="Location: ",(i=u.createElement("a")).href=i.textContent=d.location.toString(),o.appendChild(i),n.appendChild(o),(o=u.createElement("p")).textContent="User-agent: "+g.userAgent,n.appendChild(o),(o=u.createElement("p")).textContent="Date: "+new Date(Date.now()).toISOString(),n.appendChild(o),r.appendChild(n),t=0;t<k.length;t+=1){if((a=k[t])instanceof m&&void 0!==(a={string:a.toString(),message:a.message,type:a.type,target:a.target}).target&&k.splice(t+1,0,a.target),a instanceof XMLHttpRequest&&(a={message:a.toString(),readyState:a.readyState,status:a.status,statusText:a.statusText,response:a.response,responseUrl:a.responseUrl,response_headers:a.getAllResponseHeaders()}),a.constructor===Array||a.constructor===String||a.constructor===Object)try{a=JSON.stringify(a)}catch(e){}n=u.createElement("section"),(o=u.createElement("h2")).textContent=a.message||a,n.appendChild(o),void 0!==a.fileName&&((o=u.createElement("p")).textContent="File: "+a.fileName+": "+a.lineNumber,n.appendChild(o)),void 0!==a.stack&&((o=u.createElement("pre")).textContent="Stack: "+a.stack,n.appendChild(o)),r.appendChild(n)}console.error(e.stack),console.error(e)}function T(e){if(this.name="resolved",void 0!==e&&"string"!=typeof e)throw new TypeError("You must pass a string.");this.message=e||"Default Message"}function J(){if(!(this instanceof J))return new J}function U(e){e.hasOwnProperty("__monitor")&&(e.__monitor.cancel(),delete e.__monitor,e.__job_list=[])}function D(e){e.__sub_gadget_dict={},e.__job_list=[],void 0!==e.__json_state&&(e.state=JSON.parse(e.__json_state))}function G(){var e,t,r,n,o,i=this.element.querySelectorAll("[data-gadget-url]"),a=[],s=this;function c(n){return function(e){var t=s.__acquired_method_dict||{},r="reportGadgetDeclarationError";if(t.hasOwnProperty(r))return t[r].apply(s,[arguments,n]);throw e}}for(o=0;o<i.length;o+=1)t=(e=i[o]).getAttribute("data-gadget-scope"),r=e.getAttribute("data-gadget-url"),n=e.getAttribute("data-gadget-sandbox"),null!==r&&a.push(s.declareGadget(r,{element:e,scope:t||void 0,sandbox:n||void 0}).push(void 0,c(t)));return h.all(a)}function F(e,t,r,n){var o=w(r,n,e);e.__job_dict.hasOwnProperty(t)&&e.__job_dict[t].cancel(),e.__job_dict[t]=o,e.__monitor.monitor((new h.Queue).push(function(){return o}).push(void 0,function(e){if(!(e instanceof h.CancellationError))throw e}))}function Q(n){var t;(0!==n.constructor.__service_list.length||n.constructor.__job_declared)&&((t=n).__monitor=new y,t.__job_dict={},t.__job_triggered=!1,t.__monitor.fail(function(e){if(!(e instanceof h.CancellationError))return t.aq_reportServiceError(e)}).fail(N),n.__monitor.monitor((new h.Queue).push(function(){var e,t=n.constructor.__service_list,r=n.__job_list;for(e=0;e<t.length;e+=1)n.__monitor.monitor(t[e].apply(n));for(e=0;e<r.length;e+=1)F(n,r[e][0],r[e][1],r[e][2]);n.__job_list=[],n.__job_triggered=!0})))}function H(e,t,r){e.hasOwnProperty("__method_type_dict")||(e.__method_type_dict={}),e.__method_type_dict[t]=r}function I(r,n){r.__aq_parent=function(e,t){return function(e,t,r){var n,o,i=this,a=i.__acquired_method_dict||{};if(!a.hasOwnProperty(t))return i.__aq_parent(t,r);for(n in i.__sub_gadget_dict)i.__sub_gadget_dict.hasOwnProperty(n)&&i.__sub_gadget_dict[n]===e&&(o=n);return w(a[t],[r,o],i).push(void 0,function(e){if(e instanceof v.AcquisitionError)return i.__aq_parent(t,r);throw e})}.apply(n,[r,e,t])}}function K(){if(!(this instanceof K))return new K;J.call(this)}function z(e,t,r){void 0===t.element&&(t.element=u.createElement("div"));var n,o,i=e.__template_element.body.childNodes,a=u.createDocumentFragment();for((o=new e).element=t.element,o.state={},n=0;n<i.length;n+=1)a.appendChild(i[n].cloneNode(!0));return o.element.appendChild(a),I(o,r),o}function B(e,t,r){var n=v.declareGadgetKlass(e);return"function"==typeof n.then?n.then(function(e){return z(e,t,r)}):z(n,t,r)}function Y(){if(!(this instanceof Y))return new Y;J.call(this)}function X(e,t,r){var o,n,i=h.defer();if(void 0===t.element)throw new Error("DOM element is required to create Iframe Gadget "+e);if(!u.contains(t.element))throw new Error("The parent element is not attached to the DOM for "+e);return I(o=new Y,r),(n=u.createElement("iframe")).addEventListener("error",function(e){i.reject(e)}),n.addEventListener("load",function(){return h.timeout(5e3).fail(function(){i.reject(new Error("Timeout while loading: "+e))})}),n.setAttribute("src",e),o.__path=e,o.element=t.element,o.state={},t.element.appendChild(n),o.__chan=l.build({window:n.contentWindow,origin:"*",scope:"renderJS"}),o.__chan.bind("declareMethod",function(e,n){return o[n]=function(){var r=arguments,e=new h.Promise(function(e,t){o.__chan.call({method:"methodCall",params:[n,Array.prototype.slice.call(r,0)],success:e,error:t})});return w(function(){return e})},"OK"}),o.__chan.bind("ready",function(e){return i.resolve(o),"OK"}),o.__chan.bind("failed",function(e,t){return i.reject(t),"OK"}),o.__chan.bind("acquire",function(t,e){(new h.Queue).push(function(){return o.__aq_parent.apply(o,e)}).then(t.complete).fail(function(e){t.error(e.toString())}),t.delayReturn(!0)}),i.promise}function V(a,t,r){return(new h.Queue).push(function(){return n(a)}).push(function(e){var t,r,n,o=(new c).parseFromString(e.responseText,"text/html"),i=o.createElement("base");return i.href=a,o.head.insertBefore(i,o.head.firstChild),t=new _([o.documentElement.outerHTML],{type:"text/html;charset=UTF-8"}),r=t,n=new p,new h.Promise(function(t,e){n.addEventListener("load",function(e){t(e.target.result)}),n.addEventListener("error",e),n.readAsDataURL(r)},function(){n.abort()})}).push(function(e){return X(e,t,r)})}function W(t,e,r,n){var o,i,a;if(D(t),void 0===(i=e.scope))for(i="RJS_"+j,j+=1;r.__sub_gadget_dict.hasOwnProperty(i);)i="RJS_"+j,j+=1;function s(e){return function(){return e.call(t,t)}}function c(){return u.contains(t.element)&&Q(t),t}if((r.__sub_gadget_dict[i]=t).element.setAttribute("data-gadget-scope",i),t.element.setAttribute("data-gadget-url",n),t.element.setAttribute("data-gadget-sandbox",e.sandbox),(t.element._gadget=t).constructor.__ready_list.length){for(a=new h.Queue,o=0;o<t.constructor.__ready_list.length;o+=1)a.push(s(t.constructor.__ready_list[o]));return a.push(c),a}return c()}function Z(e){var t,r,n,o,i,a,s,c,u;if(O.hasOwnProperty(e))throw new Error("bootstrap should not be called twice");return(t=K).__ready_list=[],t.__service_list=J.__service_list.slice(),t.prototype.__path=e,I(r=new t,((u=new J).__acquired_method_dict={reportServiceError:function(e){N(e[0])}},u.__aq_parent=function(e){throw new v.AcquisitionError("No gadget provides "+e)},u)),o=function(e){i.push(e)},c=[t,r,n,i=["getInterfaceList","getRequiredCSSList","getRequiredJSList","getPath","getTitle","getMethodList"]],d.self===d.top?a=c:(s=h.defer(),a=h.any([s.promise,(new h.Queue).push(function(){return h.delay(1e3)}).push(function(){return c[2]=void 0,c})]),n=l.build({window:d.parent,origin:"*",scope:"renderJS",onReady:function(){var e,t;for(o=function(r){i.push(new h.Promise(function(e,t){n.call({method:"declareMethod",params:r,success:e,error:t})}))},t=i.length,e=0;e<t;e+=1)o(i[e]);s.resolve(c)}}),c[2]=n),t.declareMethod=function(e,t){var r=J.declareMethod.apply(this,[e,t]);return o(e),r},t.declareService=J.declareService,t.declareJob=J.declareJob,t.onEvent=J.onEvent,t.onLoop=J.onLoop,t.declareAcquiredMethod=J.declareAcquiredMethod,t.allowPublicAcquisition=J.allowPublicAcquisition,t.prototype.__acquired_method_dict={},A.push(t),a}d.addEventListener("error",function(e){k.push(e)}),d.addEventListener("beforeunload",function(){P=!0}),(i=function(){if(!(this instanceof i))return new i;this._latest_promise=null}).prototype={constructor:i,lockAndRun:function(e){var t=this._latest_promise;return this._latest_promise=null===t?h.resolve(e()):this._latest_promise.always(function(){return e()}),this._latest_promise}},(T.prototype=new Error).constructor=T,(y=function(){var e,r,n,o=this,i=[];if(!(this instanceof y))return new y;function a(){var e,t=i.length;for(e=0;e<t;e+=1)i[e].cancel();i=[]}e=new h.Promise(function(e,t){r=function(e){if(!n)return o.isRejected=!0,o.rejectedReason=e,n=!0,a(),t(e)}},a),o.cancel=function(){n||(n=!0,e.cancel(),e.fail(function(e){o.isRejected=!0,o.rejectedReason=e}))},o.then=e.then.bind(e),o.fail=e.fail.bind(e),o.monitor=function(t){if(n)throw new T;var e=(new h.Queue).push(function(){return t}).push(function(e){var t,r,n=i.length,o=[];for(r=0;r<n;r+=1)(t=i[r]).isFulfilled||t.isRejected||o.push(t);i=o},function(e){throw e instanceof h.CancellationError&&(t.isFulfilled&&t.isRejected||t.cancel()),r(e),e});return i.push(e),this}}).prototype=Object.create(h.Promise.prototype),y.prototype.constructor=y,J.prototype.__title="",J.prototype.__interface_list=[],J.prototype.__path="",J.prototype.__html="",J.prototype.__required_css_list=[],J.prototype.__required_js_list=[],J.__ready_list=[],J.ready=function(e){return this.__ready_list.push(e),this},J.setState=function(e){return this.prototype.__json_state=JSON.stringify(e),this},J.onStateChange=function(e){return this.prototype.__state_change_callback=e,this},J.__service_list=[],J.declareService=function(e){return this.__service_list.push(e),this},J.onEvent=function(e,t,r,n){return this.__service_list.push(function(){return function(n,o,i,a,s){var c,u;function d(){void 0!==u&&"function"==typeof u.cancel&&u.cancel()}function l(){void 0!==c&&n.removeEventListener(o,c,i),d()}return void 0===s&&(s=!0),new h.Promise(function(e,t){var r;c=function(e){s&&(e.stopPropagation(),e.preventDefault()),d();try{r=a(e)}catch(e){r=h.reject(e)}u=r,(new h.Queue).push(function(){return r}).push(void 0,function(e){e instanceof h.CancellationError||(l(),t(e))})},n.addEventListener(o,c,i)},l)}(this.element,e,r,t.bind(this),n)}),this},J.onLoop=function(n,o){return void 0===o&&(o=0),this.__service_list.push(function(){var e=new h.Queue,t=this,r=function(){e.push(function(){return h.delay(o)}).push(function(){return new h.Promise(function(e){t=d.requestAnimationFrame(e)},function(){d.cancelAnimationFrame(t)});var t}).push(function(){return n.apply(t,[])}).push(r)};return r(),e}),this},J.declareJob=function(t,r){return this.__job_declared=!0,this.prototype[t]=function(){var e=arguments;this.__job_triggered?F(this,t,r,e):this.__job_list.push([t,r,e])},H(this,t,"job"),this},J.declareMethod=function(e,n,o){return this.prototype[e]=function(){var e,t=this,r=arguments;return void 0!==o&&o.hasOwnProperty("mutex")?(e="__mutex_"+o.mutex,t.hasOwnProperty(e)||(t[e]=new i),w(t[e].lockAndRun,[function(){return n.apply(t,r)}],t[e])):w(n,r,t)},H(this,e,"method"),this},J.declareMethod("getInterfaceList",function(){return this.__interface_list}).declareMethod("getMethodList",function(e){var t,r=[],n=this.constructor.__method_type_dict||{};for(t in n)n.hasOwnProperty(t)&&(void 0!==e&&e!==n[t]||r.push(t));return r}).declareMethod("getRequiredCSSList",function(){return this.__required_css_list}).declareMethod("getRequiredJSList",function(){return this.__required_js_list}).declareMethod("getPath",function(){return this.__path}).declareMethod("getTitle",function(){return this.__title}).declareMethod("getElement",function(){if(void 0===this.element)throw new Error("No element defined");return this.element}).declareMethod("changeState",function(e){var t,r,n=this,o=!1,i=n.hasOwnProperty("__modification_dict");for(t in i?(r=n.__modification_dict,o=!0):r={},e)e.hasOwnProperty(t)&&e[t]!==n.state[t]&&(n.state[t]=e[t],r[t]=e[t],o=!0);if(o&&void 0!==n.__state_change_callback)return n.__modification_dict=r,w(n.__state_change_callback,[r],n).push(function(e){return delete n.__modification_dict,e})},{mutex:"changestate"}),J.declareAcquiredMethod=function(e,t){return this.prototype[e]=function(){var e=Array.prototype.slice.call(arguments,0);return w(this.__aq_parent,[t,e],this)},H(this,e,"acquired_method"),this},J.declareAcquiredMethod("aq_reportServiceError","reportServiceError"),J.declareAcquiredMethod("aq_reportGadgetDeclarationError","reportGadgetDeclarationError"),J.allowPublicAcquisition=function(e,t){return this.prototype.__acquired_method_dict[e]=t,this},K.__ready_list=[],K.__service_list=J.__service_list.slice(),K.ready=J.ready,K.setState=J.setState,K.onStateChange=J.onStateChange,K.declareService=J.declareService,K.onEvent=J.onEvent,K.onLoop=J.onLoop,(K.prototype=new J).constructor=K,Y.__ready_list=[],Y.ready=J.ready,Y.setState=J.setState,Y.onStateChange=J.onStateChange,Y.__service_list=[],Y.declareService=J.declareService,Y.onEvent=J.onEvent,Y.onLoop=J.onLoop,(Y.prototype=new J).constructor=Y,J.declareMethod("declareGadget",function(t,r){var e,n,o=this;if(void 0===r&&(r={}),void 0===r.sandbox&&(r.sandbox="public"),t=v.getAbsoluteURL(t,this.__path),"public"===r.sandbox)e=B;else if("iframe"===r.sandbox)e=X;else{if("dataurl"!==r.sandbox)throw new Error("Unsupported sandbox options '"+r.sandbox+"'");e=V}return"function"==typeof(n=e(t,r,o)).then?(new h.Queue).push(function(){return n}).push(function(e){return W(e,r,o,t)}):W(n,r,o,t)}).declareMethod("getDeclaredGadget",function(e){if(!this.__sub_gadget_dict.hasOwnProperty(e))throw new t("Gadget scope '"+e+"' is not known.");return this.__sub_gadget_dict[e]}).declareMethod("dropGadget",function(e){if(!this.__sub_gadget_dict.hasOwnProperty(e))throw new t("Gadget scope '"+e+"' is not known.");delete this.__sub_gadget_dict[e]}),(v=function(e){var t;if(e===d&&(t=A[0]),void 0===t)throw new Error("Unknown selector '"+e+"'");return t}).AcquisitionError=function(e){if(this.name="AcquisitionError",void 0!==e&&"string"!=typeof e)throw new TypeError("You must pass a string.");this.message=e||"Acquisition failed"},v.AcquisitionError.prototype=new Error,v.AcquisitionError.prototype.constructor=v.AcquisitionError,v.getAbsoluteURL=function(e,t){return t&&e?new r(e,t).href:e},v.declareJS=function(n,o,i){var e;return M.hasOwnProperty(n)?e=h.resolve():(M[n]=null,e=new h.Promise(function(e,t){var r;(r=u.createElement("script")).async=!1,r.type="text/javascript",r.onload=function(){!0===i&&A.shift(),e()},r.onerror=function(e){!0===i&&A.shift(),t(e)},r.src=n,o.appendChild(r)})),e},v.declareCSS=function(n,o){return R.hasOwnProperty(n)?h.resolve():new h.Promise(function(e,t){var r;(r=u.createElement("link")).rel="stylesheet",r.type="text/css",r.href=n,r.onload=function(){R[n]=null,e()},r.onerror=t,o.appendChild(r)})},v.declareGadgetKlass=function(a){var s,e;if(O.hasOwnProperty(a)){if(O[a].hasOwnProperty("defer_list"))return e=h.defer(),O[a].defer_list.push(e),e.promise;if(O[a].is_resolved)return O[a].result;throw O[a].result}return O[a]={defer_list:[]},(new h.Queue).push(function(){return n(a)}).push(function(e){s=function(e,t){var r,n,o;for(n in(r=function(){J.call(this)}).__ready_list=[],r.__service_list=J.__service_list.slice(),r.declareMethod=J.declareMethod,r.declareJob=J.declareJob,r.declareAcquiredMethod=J.declareAcquiredMethod,r.allowPublicAcquisition=J.allowPublicAcquisition,r.ready=J.ready,r.setState=J.setState,r.onStateChange=J.onStateChange,r.declareService=J.declareService,r.onEvent=J.onEvent,r.onLoop=J.onLoop,((r.prototype=new J).constructor=r).prototype.__path=t,r.prototype.__acquired_method_dict={},r.__template_element=(new c).parseFromString(e.responseText,"text/html"),o=v.parseGadgetHTMLDocument(r.__template_element,t))o.hasOwnProperty(n)&&(r.prototype["__"+n]=o[n]);return r.__template_element.querySelectorAll("[data-gadget-url]").length&&r.__ready_list.push(G),r}(e,a);var t,r=u.createDocumentFragment(),n=[],o=s.prototype.__required_js_list,i=s.prototype.__required_css_list;if(o.length){for(A.push(s),t=0;t<o.length-1;t+=1)n.push(v.declareJS(o[t],r));n.push(v.declareJS(o[t],r,!0))}for(t=0;t<i.length;t+=1)n.push(v.declareCSS(i[t],r));return u.head.appendChild(r),h.all(n)}).push(function(){var e,t=O[a].defer_list.length;for(e=0;e<t;e+=1)O[a].defer_list[e].resolve(s);return delete O[a].defer_list,O[a].result=s,O[a].is_resolved=!0,s}).push(void 0,function(e){var t,r=O[a].defer_list.length;for(t=0;t<r;t+=1)O[a].defer_list[t].reject(e);throw delete O[a].defer_list,O[a].result=e,O[a].is_resolved=!1,e})},v.clearGadgetKlassList=function(){O={},M={},R={}},v.parseGadgetHTMLDocument=function(e,t){var r,n,o={title:"",interface_list:[],required_css_list:[],required_js_list:[]};if(!t||!x.test(t))throw new Error("The url should be absolute: "+t);if(9!==e.nodeType)throw new Error("The first parameter should be an HTMLDocument");if(o.title=e.title,null!==e.head)for(r=0;r<e.head.children.length;r+=1)null!==(n=e.head.children[r]).href&&("stylesheet"===n.rel?o.required_css_list.push(v.getAbsoluteURL(n.getAttribute("href"),t)):"SCRIPT"!==n.nodeName||"text/javascript"!==n.type&&n.type?"http://www.renderjs.org/rel/interface"===n.rel&&o.interface_list.push(v.getAbsoluteURL(n.getAttribute("href"),t)):o.required_js_list.push(v.getAbsoluteURL(n.getAttribute("src"),t)));return o},v.Mutex=i,v.ScopeError=t,d.rJS=d.renderJS=v,d.__RenderJSGadget=J,d.__RenderJSEmbeddedGadget=K,d.__RenderJSIframeGadget=Y,o=new h.defer,v.manualBootstrap=function(){o.resolve()},u.addEventListener("DOMContentLoaded",o.resolve,!1),q=d.location.href,0<(C=q.indexOf("#"))&&(q=q.substring(0,C)),e=Z(a=q),(new h.Queue).push(function(){return e}).push(function(e){return b=e[0],E=e[1],S=e[2],L=e[3],o.promise}).push(function(){return h.all(L)}).push(function(e){var t,r,i;return void 0!==S&&(t=b,i=S,(r=E).__aq_parent=t.prototype.__aq_parent=function(r,n,o){return new h.Promise(function(e,t){i.call({method:"acquire",params:[r,n],success:e,error:t,timeout:o})})},i.bind("methodCall",function(t,e){r[e[0]].apply(r,e[1]).push(t.complete,function(e){t.error(e.toString())}),t.delayReturn(!0)})),function(e,t,r){var n,o,i=v.parseGadgetHTMLDocument(u,t),a=u.createDocumentFragment();for(o in i)i.hasOwnProperty(o)&&(e.prototype["__"+o]=i[o]);for(e.__template_element=u.createElement("div"),r.element=u.body,r.state={},n=0;n<r.element.childNodes.length;n+=1)a.appendChild(r.element.childNodes[n].cloneNode(!0));return e.__template_element.appendChild(a),h.all([r.getRequiredJSList(),r.getRequiredCSSList()]).then(function(e){var t,r=e[0],n=e[1];for(t=0;t<r.length;t+=1)M[r[t]]=null;for(t=0;t<n.length;t+=1)R[n[t]]=null;A.shift()}).then(function(){var e=u.querySelector("body");return new s(function(e){var t,r,n,o,i,a;e.forEach(function(e){if("childList"===e.type){for(n=e.removedNodes.length,t=0;t<n;t+=1)if((i=e.removedNodes[t]).nodeType===f.ELEMENT_NODE)for(i.hasAttribute("data-gadget-url")&&void 0!==i._gadget&&U(i._gadget),a=i.querySelectorAll("[data-gadget-url]"),o=a.length,r=0;r<o;r+=1)void 0!==(i=a[r])._gadget&&U(i._gadget);for(n=e.addedNodes.length,t=0;t<n;t+=1)if((i=e.addedNodes[t]).nodeType===f.ELEMENT_NODE)for(i.hasAttribute("data-gadget-url")&&void 0!==i._gadget&&u.contains(i)&&Q(i._gadget),a=i.querySelectorAll("[data-gadget-url]"),o=a.length,r=0;r<o;r+=1)i=a[r],u.contains(i)&&void 0!==i._gadget&&Q(i._gadget)}})}).observe(e,{childList:!0,subtree:!0,attributes:!1,characterData:!1}),r})}(b,a,E)}).push(function(){return D(E),b.__ready_list.unshift(G),function(e,t){var r,n=new h.Queue;function o(e){return function(){return e.call(t,t)}}for(e.ready(function(){return Q(t)}),r=0;r<e.__ready_list.length;r+=1)n.push(o(e.__ready_list[r]));return n}(b,E)}).push(function(){void 0!==S&&S.notify({method:"ready"})}).push(void 0,function(e){throw N(e),void 0!==S&&S.notify({method:"failed",params:e.toString()}),e})}(document,window,RSVP,DOMParser,Channel,MutationObserver,Node,FileReader,Blob,navigator,Event,URL);

/** jIO **/
!function(t,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.IPv6=e(t)}(this,function(t){var e=t&&t.IPv6;return{best:function(t){var e,r=(t=t.toLowerCase().split(":")).length,n=8;for(""===t[0]&&""===t[1]&&""===t[2]?(t.shift(),t.shift()):""===t[0]&&""===t[1]?t.shift():""===t[r-1]&&""===t[r-2]&&t.pop(),-1!==t[(r=t.length)-1].indexOf(".")&&(n=7),e=0;e<r&&""!==t[e];e++);if(e<n)for(t.splice(e,1,"0000");t.length<n;)t.splice(e,0,"0000");for(e=0;e<n;e++){r=t[e].split("");for(var o=0;3>o&&("0"===r[0]&&1<r.length);o++)r.splice(0,1);t[e]=r.join("")}r=-1;var i=o=0,s=-1,a=!1;for(e=0;e<n;e++)a?"0"===t[e]?i+=1:(a=!1,i>o&&(r=s,o=i)):"0"==t[e]&&(a=!0,s=e,i=1);for(i>o&&(r=s,o=i),1<o&&t.splice(r,o,""),r=t.length,n="",""===t[0]&&(beststr=":"),e=0;e<r&&(n+=t[e],e!==r-1);e++)n+=":";return""===t[r-1]&&(n+=":"),n},noConflict:function(){return t.IPv6===this&&(t.IPv6=e),this}}}),function(t){function e(t){throw RangeError(x[t])}function r(t,e){for(var r=t.length;r--;)t[r]=e(t[r]);return t}function n(t,e){return r(t.split(T),e).join(".")}function o(t){for(var e,r,n=[],o=0,i=t.length;o<i;)55296<=(e=t.charCodeAt(o++))&&56319>=e&&o<i?56320==(64512&(r=t.charCodeAt(o++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),o--):n.push(e);return n}function i(t){return r(t,function(t){var e="";return 65535<t&&(e+=M((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+M(t)}).join("")}function s(t,e){return t+22+75*(26>t)-((0!=e)<<5)}function a(t,e,r){var n=0;for(t=r?D(t/w):t>>1,t+=D(t/e);t>E*y>>1;n+=m)t=D(t/E);return D(n+(E+1)*t/(t+v))}function u(t){var r,n,o,s,u,c,h=[],l=t.length,f=0,d=k,p=b;for(0>(n=t.lastIndexOf(O))&&(n=0),o=0;o<n;++o)128<=t.charCodeAt(o)&&e("not-basic"),h.push(t.charCodeAt(o));for(n=0<n?n+1:0;n<l;){for(o=f,r=1,s=m;n>=l&&e("invalid-input"),((u=10>(u=t.charCodeAt(n++))-48?u-22:26>u-65?u-65:26>u-97?u-97:m)>=m||u>D((_-f)/r))&&e("overflow"),f+=u*r,!(u<(c=s<=p?g:s>=p+y?y:s-p));s+=m)r>D(_/(u=m-c))&&e("overflow"),r*=u;p=a(f-o,r=h.length+1,0==o),D(f/r)>_-d&&e("overflow"),d+=D(f/r),f%=r,h.splice(f++,0,d)}return i(h)}function c(t){var r,n,i,u,c,h,l,f,d,p,v,w,A=[];for(p=(t=o(t)).length,r=k,n=0,c=b,h=0;h<p;++h)128>(d=t[h])&&A.push(M(d));for((i=u=A.length)&&A.push(O);i<p;){for(l=_,h=0;h<p;++h)(d=t[h])>=r&&d<l&&(l=d);for(l-r>D((_-n)/(v=i+1))&&e("overflow"),n+=(l-r)*v,r=l,h=0;h<p;++h)if((d=t[h])<r&&++n>_&&e("overflow"),d==r){for(f=n,l=m;!(f<(d=l<=c?g:l>=c+y?y:l-c));l+=m)w=f-d,f=m-d,A.push(M(s(d+w%f,0))),f=D(w/f);A.push(M(s(f,0))),c=a(n,v,i==u),n=0,++i}++n,++r}return A.join("")}var h="object"==typeof exports&&exports,l="object"==typeof module&&module&&module.exports==h&&module,f="object"==typeof global&&global;f.global!==f&&f.window!==f||(t=f);var d,p,_=2147483647,m=36,g=1,y=26,v=38,w=700,b=72,k=128,O="-",A=/^xn--/,S=/[^ -~]/,T=/\x2E|\u3002|\uFF0E|\uFF61/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},E=m-g,D=Math.floor,M=String.fromCharCode;if(d={version:"1.2.3",ucs2:{decode:o,encode:i},decode:u,encode:c,toASCII:function(t){return n(t,function(t){return S.test(t)?"xn--"+c(t):t})},toUnicode:function(t){return n(t,function(t){return A.test(t)?u(t.slice(4).toLowerCase()):t})}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return d});else if(h&&!h.nodeType)if(l)l.exports=d;else for(p in d)d.hasOwnProperty(p)&&(h[p]=d[p]);else t.punycode=d}(this),function(t,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.SecondLevelDomains=e(t)}(this,function(t){var e=t&&t.SecondLevelDomains,r=Object.prototype.hasOwnProperty,n={list:{ac:"com|gov|mil|net|org",ae:"ac|co|gov|mil|name|net|org|pro|sch",af:"com|edu|gov|net|org",al:"com|edu|gov|mil|net|org",ao:"co|ed|gv|it|og|pb",ar:"com|edu|gob|gov|int|mil|net|org|tur",at:"ac|co|gv|or",au:"asn|com|csiro|edu|gov|id|net|org",ba:"co|com|edu|gov|mil|net|org|rs|unbi|unmo|unsa|untz|unze",bb:"biz|co|com|edu|gov|info|net|org|store|tv",bh:"biz|cc|com|edu|gov|info|net|org",bn:"com|edu|gov|net|org",bo:"com|edu|gob|gov|int|mil|net|org|tv",br:"adm|adv|agr|am|arq|art|ato|b|bio|blog|bmd|cim|cng|cnt|com|coop|ecn|edu|eng|esp|etc|eti|far|flog|fm|fnd|fot|fst|g12|ggf|gov|imb|ind|inf|jor|jus|lel|mat|med|mil|mus|net|nom|not|ntr|odo|org|ppg|pro|psc|psi|qsl|rec|slg|srv|tmp|trd|tur|tv|vet|vlog|wiki|zlg",bs:"com|edu|gov|net|org",bz:"du|et|om|ov|rg",ca:"ab|bc|mb|nb|nf|nl|ns|nt|nu|on|pe|qc|sk|yk",ck:"biz|co|edu|gen|gov|info|net|org",cn:"ac|ah|bj|com|cq|edu|fj|gd|gov|gs|gx|gz|ha|hb|he|hi|hl|hn|jl|js|jx|ln|mil|net|nm|nx|org|qh|sc|sd|sh|sn|sx|tj|tw|xj|xz|yn|zj",co:"com|edu|gov|mil|net|nom|org",cr:"ac|c|co|ed|fi|go|or|sa",cy:"ac|biz|com|ekloges|gov|ltd|name|net|org|parliament|press|pro|tm",do:"art|com|edu|gob|gov|mil|net|org|sld|web",dz:"art|asso|com|edu|gov|net|org|pol",ec:"com|edu|fin|gov|info|med|mil|net|org|pro",eg:"com|edu|eun|gov|mil|name|net|org|sci",er:"com|edu|gov|ind|mil|net|org|rochest|w",es:"com|edu|gob|nom|org",et:"biz|com|edu|gov|info|name|net|org",fj:"ac|biz|com|info|mil|name|net|org|pro",fk:"ac|co|gov|net|nom|org",fr:"asso|com|f|gouv|nom|prd|presse|tm",gg:"co|net|org",gh:"com|edu|gov|mil|org",gn:"ac|com|gov|net|org",gr:"com|edu|gov|mil|net|org",gt:"com|edu|gob|ind|mil|net|org",gu:"com|edu|gov|net|org",hk:"com|edu|gov|idv|net|org",id:"ac|co|go|mil|net|or|sch|web",il:"ac|co|gov|idf|k12|muni|net|org",in:"ac|co|edu|ernet|firm|gen|gov|i|ind|mil|net|nic|org|res",iq:"com|edu|gov|i|mil|net|org",ir:"ac|co|dnssec|gov|i|id|net|org|sch",it:"edu|gov",je:"co|net|org",jo:"com|edu|gov|mil|name|net|org|sch",jp:"ac|ad|co|ed|go|gr|lg|ne|or",ke:"ac|co|go|info|me|mobi|ne|or|sc",kh:"com|edu|gov|mil|net|org|per",ki:"biz|com|de|edu|gov|info|mob|net|org|tel",km:"asso|com|coop|edu|gouv|k|medecin|mil|nom|notaires|pharmaciens|presse|tm|veterinaire",kn:"edu|gov|net|org",kr:"ac|busan|chungbuk|chungnam|co|daegu|daejeon|es|gangwon|go|gwangju|gyeongbuk|gyeonggi|gyeongnam|hs|incheon|jeju|jeonbuk|jeonnam|k|kg|mil|ms|ne|or|pe|re|sc|seoul|ulsan",kw:"com|edu|gov|net|org",ky:"com|edu|gov|net|org",kz:"com|edu|gov|mil|net|org",lb:"com|edu|gov|net|org",lk:"assn|com|edu|gov|grp|hotel|int|ltd|net|ngo|org|sch|soc|web",lr:"com|edu|gov|net|org",lv:"asn|com|conf|edu|gov|id|mil|net|org",ly:"com|edu|gov|id|med|net|org|plc|sch",ma:"ac|co|gov|m|net|org|press",mc:"asso|tm",me:"ac|co|edu|gov|its|net|org|priv",mg:"com|edu|gov|mil|nom|org|prd|tm",mk:"com|edu|gov|inf|name|net|org|pro",ml:"com|edu|gov|net|org|presse",mn:"edu|gov|org",mo:"com|edu|gov|net|org",mt:"com|edu|gov|net|org",mv:"aero|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro",mw:"ac|co|com|coop|edu|gov|int|museum|net|org",mx:"com|edu|gob|net|org",my:"com|edu|gov|mil|name|net|org|sch",nf:"arts|com|firm|info|net|other|per|rec|store|web",ng:"biz|com|edu|gov|mil|mobi|name|net|org|sch",ni:"ac|co|com|edu|gob|mil|net|nom|org",np:"com|edu|gov|mil|net|org",nr:"biz|com|edu|gov|info|net|org",om:"ac|biz|co|com|edu|gov|med|mil|museum|net|org|pro|sch",pe:"com|edu|gob|mil|net|nom|org|sld",ph:"com|edu|gov|i|mil|net|ngo|org",pk:"biz|com|edu|fam|gob|gok|gon|gop|gos|gov|net|org|web",pl:"art|bialystok|biz|com|edu|gda|gdansk|gorzow|gov|info|katowice|krakow|lodz|lublin|mil|net|ngo|olsztyn|org|poznan|pwr|radom|slupsk|szczecin|torun|warszawa|waw|wroc|wroclaw|zgora",pr:"ac|biz|com|edu|est|gov|info|isla|name|net|org|pro|prof",ps:"com|edu|gov|net|org|plo|sec",pw:"belau|co|ed|go|ne|or",ro:"arts|com|firm|info|nom|nt|org|rec|store|tm|www",rs:"ac|co|edu|gov|in|org",sb:"com|edu|gov|net|org",sc:"com|edu|gov|net|org",sh:"co|com|edu|gov|net|nom|org",sl:"com|edu|gov|net|org",st:"co|com|consulado|edu|embaixada|gov|mil|net|org|principe|saotome|store",sv:"com|edu|gob|org|red",sz:"ac|co|org",tr:"av|bbs|bel|biz|com|dr|edu|gen|gov|info|k12|name|net|org|pol|tel|tsk|tv|web",tt:"aero|biz|cat|co|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel",tw:"club|com|ebiz|edu|game|gov|idv|mil|net|org",mu:"ac|co|com|gov|net|or|org",mz:"ac|co|edu|gov|org",na:"co|com",nz:"ac|co|cri|geek|gen|govt|health|iwi|maori|mil|net|org|parliament|school",pa:"abo|ac|com|edu|gob|ing|med|net|nom|org|sld",pt:"com|edu|gov|int|net|nome|org|publ",py:"com|edu|gov|mil|net|org",qa:"com|edu|gov|mil|net|org",re:"asso|com|nom",ru:"ac|adygeya|altai|amur|arkhangelsk|astrakhan|bashkiria|belgorod|bir|bryansk|buryatia|cbg|chel|chelyabinsk|chita|chukotka|chuvashia|com|dagestan|e-burg|edu|gov|grozny|int|irkutsk|ivanovo|izhevsk|jar|joshkar-ola|kalmykia|kaluga|kamchatka|karelia|kazan|kchr|kemerovo|khabarovsk|khakassia|khv|kirov|koenig|komi|kostroma|kranoyarsk|kuban|kurgan|kursk|lipetsk|magadan|mari|mari-el|marine|mil|mordovia|mosreg|msk|murmansk|nalchik|net|nnov|nov|novosibirsk|nsk|omsk|orenburg|org|oryol|penza|perm|pp|pskov|ptz|rnd|ryazan|sakhalin|samara|saratov|simbirsk|smolensk|spb|stavropol|stv|surgut|tambov|tatarstan|tom|tomsk|tsaritsyn|tsk|tula|tuva|tver|tyumen|udm|udmurtia|ulan-ude|vladikavkaz|vladimir|vladivostok|volgograd|vologda|voronezh|vrn|vyatka|yakutia|yamal|yekaterinburg|yuzhno-sakhalinsk",rw:"ac|co|com|edu|gouv|gov|int|mil|net",sa:"com|edu|gov|med|net|org|pub|sch",sd:"com|edu|gov|info|med|net|org|tv",se:"a|ac|b|bd|c|d|e|f|g|h|i|k|l|m|n|o|org|p|parti|pp|press|r|s|t|tm|u|w|x|y|z",sg:"com|edu|gov|idn|net|org|per",sn:"art|com|edu|gouv|org|perso|univ",sy:"com|edu|gov|mil|net|news|org",th:"ac|co|go|in|mi|net|or",tj:"ac|biz|co|com|edu|go|gov|info|int|mil|name|net|nic|org|test|web",tn:"agrinet|com|defense|edunet|ens|fin|gov|ind|info|intl|mincom|nat|net|org|perso|rnrt|rns|rnu|tourism",tz:"ac|co|go|ne|or",ua:"biz|cherkassy|chernigov|chernovtsy|ck|cn|co|com|crimea|cv|dn|dnepropetrovsk|donetsk|dp|edu|gov|if|in|ivano-frankivsk|kh|kharkov|kherson|khmelnitskiy|kiev|kirovograd|km|kr|ks|kv|lg|lugansk|lutsk|lviv|me|mk|net|nikolaev|od|odessa|org|pl|poltava|pp|rovno|rv|sebastopol|sumy|te|ternopil|uzhgorod|vinnica|vn|zaporizhzhe|zhitomir|zp|zt",ug:"ac|co|go|ne|or|org|sc",uk:"ac|bl|british-library|co|cym|gov|govt|icnet|jet|lea|ltd|me|mil|mod|national-library-scotland|nel|net|nhs|nic|nls|org|orgn|parliament|plc|police|sch|scot|soc",us:"dni|fed|isa|kids|nsn",uy:"com|edu|gub|mil|net|org",ve:"co|com|edu|gob|info|mil|net|org|web",vi:"co|com|k12|net|org",vn:"ac|biz|com|edu|gov|health|info|int|name|net|org|pro",ye:"co|com|gov|ltd|me|net|org|plc",yu:"ac|co|edu|gov|org",za:"ac|agric|alt|bourse|city|co|cybernet|db|edu|gov|grondar|iaccess|imt|inca|landesign|law|mil|net|ngo|nis|nom|olivetti|org|pix|school|tm|web",zm:"ac|co|com|edu|gov|net|org|sch"},has_expression:null,is_expression:null,has:function(t){return!!t.match(n.has_expression)},is:function(t){return!!t.match(n.is_expression)},get:function(t){return(t=t.match(n.has_expression))&&t[1]||null},noConflict:function(){return t.SecondLevelDomains===this&&(t.SecondLevelDomains=e),this},init:function(){var t,e="";for(t in n.list)r.call(n.list,t)&&(e+="|(("+n.list[t]+")."+t+")");n.has_expression=RegExp("\\.("+e.substr(1)+")$","i"),n.is_expression=RegExp("^("+e.substr(1)+")$","i")}};return n.init(),n}),function(t,e){"object"==typeof exports?module.exports=e(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"==typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],e):t.URI=e(t.punycode,t.IPv6,t.SecondLevelDomains,t)}(this,function(t,e,r,n){function o(t,e){return this instanceof o?(void 0===t&&(t="undefined"!=typeof location?location.href+"":""),this.href(t),void 0!==e?this.absoluteTo(e):this):new o(t,e)}function i(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function s(t){return void 0===t?"Undefined":String(Object.prototype.toString.call(t)).slice(8,-1)}function a(t){return"Array"===s(t)}function u(t,e){var r,n;if(a(e)){for(r=0,n=e.length;r<n;r++)if(!u(t,e[r]))return!1;return!0}var o=s(e);for(r=0,n=t.length;r<n;r++)if("RegExp"===o){if("string"==typeof t[r]&&t[r].match(e))return!0}else if(t[r]===e)return!0;return!1}function c(t,e){if(!a(t)||!a(e)||t.length!==e.length)return!1;t.sort(),e.sort();for(var r=0,n=t.length;r<n;r++)if(t[r]!==e[r])return!1;return!0}function h(t){return escape(t)}function l(t){return encodeURIComponent(t).replace(/[!'()*]/g,h).replace(/\*/g,"%2A")}var f=n&&n.URI;o.version="1.12.0";var d=o.prototype,p=Object.prototype.hasOwnProperty;o._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:o.duplicateQueryParameters,escapeQuerySpace:o.escapeQuerySpace}},o.duplicateQueryParameters=!1,o.escapeQuerySpace=!0,o.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,o.idn_expression=/[^a-z0-9\.-]/i,o.punycode_expression=/(xn--)/i,o.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,o.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))/gi,o.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u201e\u2018\u2019]+$/},o.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},o.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,o.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src"},o.getDomAttribute=function(t){if(t&&t.nodeName){var e=t.nodeName.toLowerCase();return"input"===e&&"image"!==t.type?void 0:o.domAttributes[e]}},o.encode=l,o.decode=decodeURIComponent,o.iso8859=function(){o.encode=escape,o.decode=unescape},o.unicode=function(){o.encode=l,o.decode=decodeURIComponent},o.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}},o.encodeQuery=function(t,e){var r=o.encode(t+"");return e?r.replace(/%20/g,"+"):r},o.decodeQuery=function(t,e){t+="";try{return o.decode(e?t.replace(/\+/g,"%20"):t)}catch(e){return t}},o.recodePath=function(t){for(var e=0,r=(t=(t+"").split("/")).length;e<r;e++)t[e]=o.encodePathSegment(o.decode(t[e]));return t.join("/")},o.decodePath=function(t){for(var e=0,r=(t=(t+"").split("/")).length;e<r;e++)t[e]=o.decodePathSegment(t[e]);return t.join("/")};var _,m={encode:"encode",decode:"decode"},g=function(t,e){return function(r){return o[e](r+"").replace(o.characters[t][e].expression,function(r){return o.characters[t][e].map[r]})}};for(_ in m)o[_+"PathSegment"]=g("pathname",m[_]);for(_ in o.encodeReserved=g("reserved","encode"),o.parse=function(t,e){var r;return e||(e={}),-1<(r=t.indexOf("#"))&&(e.fragment=t.substring(r+1)||null,t=t.substring(0,r)),-1<(r=t.indexOf("?"))&&(e.query=t.substring(r+1)||null,t=t.substring(0,r)),"//"===t.substring(0,2)?(e.protocol=null,t=t.substring(2),t=o.parseAuthority(t,e)):-1<(r=t.indexOf(":"))&&(e.protocol=t.substring(0,r)||null,e.protocol&&!e.protocol.match(o.protocol_expression)?e.protocol=void 0:"file"===e.protocol?t=t.substring(r+3):"//"===t.substring(r+1,r+3)?(t=t.substring(r+3),t=o.parseAuthority(t,e)):(t=t.substring(r+1),e.urn=!0)),e.path=t,e},o.parseHost=function(t,e){var r,n=t.indexOf("/");return-1===n&&(n=t.length),"["===t.charAt(0)?(r=t.indexOf("]"),e.hostname=t.substring(1,r)||null,e.port=t.substring(r+2,n)||null):t.indexOf(":")!==t.lastIndexOf(":")?(e.hostname=t.substring(0,n)||null,e.port=null):(r=t.substring(0,n).split(":"),e.hostname=r[0]||null,e.port=r[1]||null),e.hostname&&"/"!==t.substring(n).charAt(0)&&(n++,t="/"+t),t.substring(n)||"/"},o.parseAuthority=function(t,e){return t=o.parseUserinfo(t,e),o.parseHost(t,e)},o.parseUserinfo=function(t,e){var r=t.indexOf("/"),n=-1<r?t.lastIndexOf("@",r):t.indexOf("@");return-1<n&&(-1===r||n<r)?(r=t.substring(0,n).split(":"),e.username=r[0]?o.decode(r[0]):null,r.shift(),e.password=r[0]?o.decode(r.join(":")):null,t=t.substring(n+1)):(e.username=null,e.password=null),t},o.parseQuery=function(t,e){if(!t)return{};if(!(t=t.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var r,n,i={},s=t.split("&"),a=s.length,u=0;u<a;u++)r=s[u].split("="),n=o.decodeQuery(r.shift(),e),r=r.length?o.decodeQuery(r.join("="),e):null,i[n]?("string"==typeof i[n]&&(i[n]=[i[n]]),i[n].push(r)):i[n]=r;return i},o.build=function(t){var e="";return t.protocol&&(e+=t.protocol+":"),t.urn||!e&&!t.hostname||(e+="//"),e+=o.buildAuthority(t)||"","string"==typeof t.path&&("/"!==t.path.charAt(0)&&"string"==typeof t.hostname&&(e+="/"),e+=t.path),"string"==typeof t.query&&t.query&&(e+="?"+t.query),"string"==typeof t.fragment&&t.fragment&&(e+="#"+t.fragment),e},o.buildHost=function(t){var e="";return t.hostname?(o.ip6_expression.test(t.hostname)?e=t.port?e+"["+t.hostname+"]:"+t.port:e+t.hostname:(e+=t.hostname,t.port&&(e+=":"+t.port)),e):""},o.buildAuthority=function(t){return o.buildUserinfo(t)+o.buildHost(t)},o.buildUserinfo=function(t){var e="";return t.username&&(e+=o.encode(t.username),t.password&&(e+=":"+o.encode(t.password)),e+="@"),e},o.buildQuery=function(t,e,r){var n,i,s,u,c="";for(i in t)if(p.call(t,i)&&i)if(a(t[i]))for(n={},s=0,u=t[i].length;s<u;s++)void 0!==t[i][s]&&void 0===n[t[i][s]+""]&&(c+="&"+o.buildQueryParameter(i,t[i][s],r),!0!==e&&(n[t[i][s]+""]=!0));else void 0!==t[i]&&(c+="&"+o.buildQueryParameter(i,t[i],r));return c.substring(1)},o.buildQueryParameter=function(t,e,r){return o.encodeQuery(t,r)+(null!==e?"="+o.encodeQuery(e,r):"")},o.addQuery=function(t,e,r){if("object"==typeof e)for(var n in e)p.call(e,n)&&o.addQuery(t,n,e[n]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");void 0===t[e]?t[e]=r:("string"==typeof t[e]&&(t[e]=[t[e]]),a(r)||(r=[r]),t[e]=t[e].concat(r))}},o.removeQuery=function(t,e,r){var n;if(a(e))for(r=0,n=e.length;r<n;r++)t[e[r]]=void 0;else if("object"==typeof e)for(n in e)p.call(e,n)&&o.removeQuery(t,n,e[n]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");if(void 0!==r){if(t[e]===r)t[e]=void 0;else if(a(t[e])){n=t[e];var i,s,u={};if(a(r))for(i=0,s=r.length;i<s;i++)u[r[i]]=!0;else u[r]=!0;for(i=0,s=n.length;i<s;i++)void 0!==u[n[i]]&&(n.splice(i,1),s--,i--);t[e]=n}}else t[e]=void 0}},o.hasQuery=function(t,e,r,n){if("object"==typeof e){for(var i in e)if(p.call(e,i)&&!o.hasQuery(t,i,e[i]))return!1;return!0}if("string"!=typeof e)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(s(r)){case"Undefined":return e in t;case"Boolean":return r===(t=Boolean(a(t[e])?t[e].length:t[e]));case"Function":return!!r(t[e],e,t);case"Array":return!!a(t[e])&&(n?u:c)(t[e],r);case"RegExp":return a(t[e])?!!n&&u(t[e],r):Boolean(t[e]&&t[e].match(r));case"Number":r=String(r);case"String":return a(t[e])?!!n&&u(t[e],r):t[e]===r;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},o.commonPath=function(t,e){var r,n=Math.min(t.length,e.length);for(r=0;r<n;r++)if(t.charAt(r)!==e.charAt(r)){r--;break}return 1>r?t.charAt(0)===e.charAt(0)&&"/"===t.charAt(0)?"/":"":("/"===t.charAt(r)&&"/"===e.charAt(r)||(r=t.substring(0,r).lastIndexOf("/")),t.substring(0,r+1))},o.withinString=function(t,e,r){r||(r={});var n=r.start||o.findUri.start,i=r.end||o.findUri.end,s=r.trim||o.findUri.trim,a=/[a-z0-9-]=["']?$/i;for(n.lastIndex=0;;){var u=n.exec(t);if(!u)break;if(u=u.index,r.ignoreHtml)if((c=t.slice(Math.max(u-3,0),u))&&a.test(c))continue;var c=u+t.slice(u).search(i),h=t.slice(u,c).replace(s,"");r.ignore&&r.ignore.test(h)||(h=e(h,u,c=u+h.length,t),t=t.slice(0,u)+h+t.slice(c),n.lastIndex=u+h.length)}return n.lastIndex=0,t},o.ensureValidHostname=function(e){if(e.match(o.invalid_hostname_characters)){if(!t)throw new TypeError("Hostname '"+e+"' contains characters other than [A-Z0-9.-] and Punycode.js is not available");if(t.toASCII(e).match(o.invalid_hostname_characters))throw new TypeError("Hostname '"+e+"' contains characters other than [A-Z0-9.-]")}},o.noConflict=function(t){return t?(t={URI:this.noConflict()},URITemplate&&"function"==typeof URITemplate.noConflict&&(t.URITemplate=URITemplate.noConflict()),e&&"function"==typeof e.noConflict&&(t.IPv6=e.noConflict()),SecondLevelDomains&&"function"==typeof SecondLevelDomains.noConflict&&(t.SecondLevelDomains=SecondLevelDomains.noConflict()),t):(n.URI===this&&(n.URI=f),this)},d.build=function(t){return!0===t?this._deferred_build=!0:(void 0===t||this._deferred_build)&&(this._string=o.build(this._parts),this._deferred_build=!1),this},d.clone=function(){return new o(this)},d.valueOf=d.toString=function(){return this.build(!1)._string},g=function(t){return function(e,r){return void 0===e?this._parts[t]||"":(this._parts[t]=e||null,this.build(!r),this)}},m={protocol:"protocol",username:"username",password:"password",hostname:"hostname",port:"port"})d[_]=g(m[_]);for(_ in g=function(t,e){return function(r,n){return void 0===r?this._parts[t]||"":(null!==r&&((r+="").charAt(0)===e&&(r=r.substring(1))),this._parts[t]=r,this.build(!n),this)}},m={query:"?",fragment:"#"})d[_]=g(_,m[_]);for(_ in g=function(t,e){return function(r,n){var o=this[t](r,n);return"string"==typeof o&&o.length?e+o:o}},m={search:["?","query"],hash:["#","fragment"]})d[_]=g(m[_][1],m[_][0]);d.pathname=function(t,e){if(void 0===t||!0===t){var r=this._parts.path||(this._parts.hostname?"/":"");return t?o.decodePath(r):r}return this._parts.path=t?o.recodePath(t):"/",this.build(!e),this},d.path=d.pathname,d.href=function(t,e){var r;if(void 0===t)return this.toString();this._string="",this._parts=o._parts();var n=t instanceof o,i="object"==typeof t&&(t.hostname||t.path||t.pathname);if(t.nodeName&&(t=t[i=o.getDomAttribute(t)]||"",i=!1),!n&&i&&void 0!==t.pathname&&(t=t.toString()),"string"==typeof t)this._parts=o.parse(t,this._parts);else{if(!n&&!i)throw new TypeError("invalid input");for(r in n=n?t._parts:t)p.call(this._parts,r)&&(this._parts[r]=n[r])}return this.build(!e),this},d.is=function(t){var e=!1,n=!1,i=!1,s=!1,a=!1,u=!1,c=!1,h=!this._parts.urn;switch(this._parts.hostname&&(h=!1,n=o.ip4_expression.test(this._parts.hostname),i=o.ip6_expression.test(this._parts.hostname),a=(s=!(e=n||i))&&r&&r.has(this._parts.hostname),u=s&&o.idn_expression.test(this._parts.hostname),c=s&&o.punycode_expression.test(this._parts.hostname)),t.toLowerCase()){case"relative":return h;case"absolute":return!h;case"domain":case"name":return s;case"sld":return a;case"ip":return e;case"ip4":case"ipv4":case"inet4":return n;case"ip6":case"ipv6":case"inet6":return i;case"idn":return u;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return c}return null};var y=d.protocol,v=d.port,w=d.hostname;d.protocol=function(t,e){if(void 0!==t&&t&&!(t=t.replace(/:(\/\/)?$/,"")).match(o.protocol_expression))throw new TypeError("Protocol '"+t+"' contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return y.call(this,t,e)},d.scheme=d.protocol,d.port=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0!==t&&(0===t&&(t=null),t&&(":"===(t+="").charAt(0)&&(t=t.substring(1)),t.match(/[^0-9]/))))throw new TypeError("Port '"+t+"' contains characters other than [0-9]");return v.call(this,t,e)},d.hostname=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0!==t){var r={};o.parseHost(t,r),t=r.hostname}return w.call(this,t,e)},d.host=function(t,e){return this._parts.urn?void 0===t?"":this:void 0===t?this._parts.hostname?o.buildHost(this._parts):"":(o.parseHost(t,this._parts),this.build(!e),this)},d.authority=function(t,e){return this._parts.urn?void 0===t?"":this:void 0===t?this._parts.hostname?o.buildAuthority(this._parts):"":(o.parseAuthority(t,this._parts),this.build(!e),this)},d.userinfo=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t){if(!this._parts.username)return"";var r=o.buildUserinfo(this._parts);return r.substring(0,r.length-1)}return"@"!==t[t.length-1]&&(t+="@"),o.parseUserinfo(t,this._parts),this.build(!e),this},d.resource=function(t,e){var r;return void 0===t?this.path()+this.search()+this.hash():(r=o.parse(t),this._parts.path=r.path,this._parts.query=r.query,this._parts.fragment=r.fragment,this.build(!e),this)},d.subdomain=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,r)||""}return r=this._parts.hostname.length-this.domain().length,r=this._parts.hostname.substring(0,r),r=RegExp("^"+i(r)),t&&"."!==t.charAt(t.length-1)&&(t+="."),t&&o.ensureValidHostname(t),this._parts.hostname=this._parts.hostname.replace(r,t),this.build(!e),this},d.domain=function(t,e){if(this._parts.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.match(/\./g);return r&&2>r.length?this._parts.hostname:(r=this._parts.hostname.length-this.tld(e).length-1,r=this._parts.hostname.lastIndexOf(".",r-1)+1,this._parts.hostname.substring(r)||"")}if(!t)throw new TypeError("cannot set domain empty");return o.ensureValidHostname(t),!this._parts.hostname||this.is("IP")?this._parts.hostname=t:(r=RegExp(i(this.domain())+"$"),this._parts.hostname=this._parts.hostname.replace(r,t)),this.build(!e),this},d.tld=function(t,e){if(this._parts.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.lastIndexOf(".");n=this._parts.hostname.substring(n+1);return!0!==e&&r&&r.list[n.toLowerCase()]&&r.get(this._parts.hostname)||n}if(!t)throw new TypeError("cannot set TLD empty");if(t.match(/[^a-zA-Z0-9-]/)){if(!r||!r.is(t))throw new TypeError("TLD '"+t+"' contains characters other than [A-Z0-9]");n=RegExp(i(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(n,t)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");n=RegExp(i(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(n,t)}return this.build(!e),this},d.directory=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||!0===t){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var r=this._parts.path.length-this.filename().length-1;r=this._parts.path.substring(0,r)||(this._parts.hostname?"/":"");return t?o.decodePath(r):r}return r=this._parts.path.length-this.filename().length,r=this._parts.path.substring(0,r),r=RegExp("^"+i(r)),this.is("relative")||(t||(t="/"),"/"!==t.charAt(0)&&(t="/"+t)),t&&"/"!==t.charAt(t.length-1)&&(t+="/"),t=o.recodePath(t),this._parts.path=this._parts.path.replace(r,t),this.build(!e),this},d.filename=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||!0===t){if(!this._parts.path||"/"===this._parts.path)return"";var r=this._parts.path.lastIndexOf("/");r=this._parts.path.substring(r+1);return t?o.decodePathSegment(r):r}r=!1,"/"===t.charAt(0)&&(t=t.substring(1)),t.match(/\.?\//)&&(r=!0);var n=RegExp(i(this.filename())+"$");return t=o.recodePath(t),this._parts.path=this._parts.path.replace(n,t),r?this.normalizePath(e):this.build(!e),this},d.suffix=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||!0===t){if(!this._parts.path||"/"===this._parts.path)return"";var r=this.filename(),n=r.lastIndexOf(".");return-1===n?"":(r=r.substring(n+1),r=/^[a-z0-9%]+$/i.test(r)?r:"",t?o.decodePathSegment(r):r)}if("."===t.charAt(0)&&(t=t.substring(1)),r=this.suffix())n=t?RegExp(i(r)+"$"):RegExp(i("."+r)+"$");else{if(!t)return this;this._parts.path+="."+o.recodePath(t)}return n&&(t=o.recodePath(t),this._parts.path=this._parts.path.replace(n,t)),this.build(!e),this},d.segment=function(t,e,r){var n=this._parts.urn?":":"/",o="/"===(i=this.path()).substring(0,1),i=i.split(n);if(void 0!==t&&"number"!=typeof t&&(r=e,e=t,t=void 0),void 0!==t&&"number"!=typeof t)throw Error("Bad segment '"+t+"', must be 0-based integer");if(o&&i.shift(),0>t&&(t=Math.max(i.length+t,0)),void 0===e)return void 0===t?i:i[t];if(null===t||void 0===i[t])if(a(e)){i=[],t=0;for(var s=e.length;t<s;t++)(e[t].length||i.length&&i[i.length-1].length)&&(i.length&&!i[i.length-1].length&&i.pop(),i.push(e[t]))}else(e||"string"==typeof e)&&(""===i[i.length-1]?i[i.length-1]=e:i.push(e));else e||"string"==typeof e&&e.length?i[t]=e:i.splice(t,1);return o&&i.unshift(""),this.path(i.join(n),r)},d.segmentCoded=function(t,e,r){var n,i;if("number"!=typeof t&&(r=e,e=t,t=void 0),void 0===e){if(a(t=this.segment(t,e,r)))for(n=0,i=t.length;n<i;n++)t[n]=o.decode(t[n]);else t=void 0!==t?o.decode(t):void 0;return t}if(a(e))for(n=0,i=e.length;n<i;n++)e[n]=o.decode(e[n]);else e="string"==typeof e?o.encode(e):e;return this.segment(t,e,r)};var b=d.query;return d.query=function(t,e){if(!0===t)return o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof t){var r=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace),n=t.call(this,r);return this._parts.query=o.buildQuery(n||r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!e),this}return void 0!==t&&"string"!=typeof t?(this._parts.query=o.buildQuery(t,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!e),this):b.call(this,t,e)},d.setQuery=function(t,e,r){var n=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("object"==typeof t)for(var i in t)p.call(t,i)&&(n[i]=t[i]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");n[t]=void 0!==e?e:null}return this._parts.query=o.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(r=e),this.build(!r),this},d.addQuery=function(t,e,r){var n=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return o.addQuery(n,t,void 0===e?null:e),this._parts.query=o.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(r=e),this.build(!r),this},d.removeQuery=function(t,e,r){var n=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return o.removeQuery(n,t,e),this._parts.query=o.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(r=e),this.build(!r),this},d.hasQuery=function(t,e,r){var n=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return o.hasQuery(n,t,e,r)},d.setSearch=d.setQuery,d.addSearch=d.addQuery,d.removeSearch=d.removeQuery,d.hasSearch=d.hasQuery,d.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},d.normalizeProtocol=function(t){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!t)),this},d.normalizeHostname=function(r){return this._parts.hostname&&(this.is("IDN")&&t?this._parts.hostname=t.toASCII(this._parts.hostname):this.is("IPv6")&&e&&(this._parts.hostname=e.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!r)),this},d.normalizePort=function(t){return"string"==typeof this._parts.protocol&&this._parts.port===o.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!t)),this},d.normalizePath=function(t){if(this._parts.urn||!this._parts.path||"/"===this._parts.path)return this;var e,r,n,i=this._parts.path,s="";for("/"!==i.charAt(0)&&(e=!0,i="/"+i),i=i.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),e&&(s=i.substring(1).match(/^(\.\.\/)+/)||"")&&(s=s[0]);-1!==(r=i.indexOf("/.."));)0!==r?(-1===(n=i.substring(0,r).lastIndexOf("/"))&&(n=r),i=i.substring(0,n)+i.substring(r+3)):i=i.substring(3);return e&&this.is("relative")&&(i=s+i.substring(1)),i=o.recodePath(i),this._parts.path=i,this.build(!t),this},d.normalizePathname=d.normalizePath,d.normalizeQuery=function(t){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(o.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!t)),this},d.normalizeFragment=function(t){return this._parts.fragment||(this._parts.fragment=null,this.build(!t)),this},d.normalizeSearch=d.normalizeQuery,d.normalizeHash=d.normalizeFragment,d.iso8859=function(){var t=o.encode,e=o.decode;return o.encode=escape,o.decode=decodeURIComponent,this.normalize(),o.encode=t,o.decode=e,this},d.unicode=function(){var t=o.encode,e=o.decode;return o.encode=l,o.decode=unescape,this.normalize(),o.encode=t,o.decode=e,this},d.readable=function(){var e=this.clone();e.username("").password("").normalize();var r="";if(e._parts.protocol&&(r+=e._parts.protocol+"://"),e._parts.hostname&&(e.is("punycode")&&t?(r+=t.toUnicode(e._parts.hostname),e._parts.port&&(r+=":"+e._parts.port)):r+=e.host()),e._parts.hostname&&e._parts.path&&"/"!==e._parts.path.charAt(0)&&(r+="/"),r+=e.path(!0),e._parts.query){for(var n="",i=0,s=e._parts.query.split("&"),a=s.length;i<a;i++){var u=(s[i]||"").split("=");n=n+"&"+o.decodeQuery(u[0],this._parts.escapeQuerySpace).replace(/&/g,"%26");void 0!==u[1]&&(n+="="+o.decodeQuery(u[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}r+="?"+n.substring(1)}return r+o.decodeQuery(e.hash(),!0)},d.absoluteTo=function(t){var e,r,n=this.clone(),i=["protocol","username","password","hostname","port"];if(this._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");if(t instanceof o||(t=new o(t)),n._parts.protocol||(n._parts.protocol=t._parts.protocol),this._parts.hostname)return n;for(e=0;r=i[e];e++)n._parts[r]=t._parts[r];return n._parts.path?".."===n._parts.path.substring(-2)&&(n._parts.path+="/"):(n._parts.path=t._parts.path,n._parts.query||(n._parts.query=t._parts.query)),"/"!==n.path().charAt(0)&&(t=t.directory(),n._parts.path=(t?t+"/":"")+n._parts.path,n.normalizePath()),n.build(),n},d.relativeTo=function(t){var e,r,n,i,s=this.clone().normalize();if(s._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");if(t=new o(t).normalize(),e=s._parts,r=t._parts,n=s.path(),i=t.path(),"/"!==n.charAt(0))throw Error("URI is already relative");if("/"!==i.charAt(0))throw Error("Cannot calculate a URI relative to another relative URI");return e.protocol===r.protocol&&(e.protocol=null),e.username!==r.username||e.password!==r.password||null!==e.protocol||null!==e.username||null!==e.password||e.hostname!==r.hostname||e.port!==r.port?s.build():(e.hostname=null,e.port=null,n===i?(e.path="",s.build()):(t=o.commonPath(s.path(),t.path()))?(r=r.path.substring(t.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../"),e.path=r+e.path.substring(t.length),s.build()):s.build())},d.equals=function(t){var e=this.clone();t=new o(t);var r,n={},i={},s={};if(e.normalize(),t.normalize(),e.toString()===t.toString())return!0;if(n=e.query(),i=t.query(),e.query(""),t.query(""),e.toString()!==t.toString()||n.length!==i.length)return!1;for(r in n=o.parseQuery(n,this._parts.escapeQuerySpace),i=o.parseQuery(i,this._parts.escapeQuerySpace),n)if(p.call(n,r)){if(a(n[r])){if(!c(n[r],i[r]))return!1}else if(n[r]!==i[r])return!1;s[r]=!0}for(r in i)if(p.call(i,r)&&!s[r])return!1;return!0},d.duplicateQueryParameters=function(t){return this._parts.duplicateQueryParameters=!!t,this},d.escapeQuerySpace=function(t){return this._parts.escapeQuerySpace=!!t,this},o}),function(t,e){"object"==typeof exports?module.exports=e(require("./URI")):"function"==typeof define&&define.amd?define(["./URI"],e):e(t.URI)}(this,function(t){var e=t.prototype,r=e.fragment;t.fragmentPrefix="?";var n=t._parts;return t._parts=function(){var e=n();return e.fragmentPrefix=t.fragmentPrefix,e},e.fragmentPrefix=function(t){return this._parts.fragmentPrefix=t,this},e.fragment=function(e,n){var o=this._parts.fragmentPrefix,i=this._parts.fragment||"";return!0===e?i.substring(0,o.length)!==o?{}:t.parseQuery(i.substring(o.length)):void 0!==e&&"string"!=typeof e?(this._parts.fragment=o+t.buildQuery(e),this.build(!n),this):r.call(this,e,n)},e.addFragment=function(e,r,n){var o=this._parts.fragmentPrefix,i=t.parseQuery((this._parts.fragment||"").substring(o.length));return t.addQuery(i,e,r),this._parts.fragment=o+t.buildQuery(i),"string"!=typeof e&&(n=r),this.build(!n),this},e.removeFragment=function(e,r,n){var o=this._parts.fragmentPrefix,i=t.parseQuery((this._parts.fragment||"").substring(o.length));return t.removeQuery(i,e,r),this._parts.fragment=o+t.buildQuery(i),"string"!=typeof e&&(n=r),this.build(!n),this},e.addHash=e.addFragment,e.removeHash=e.removeFragment,{}}),function(t){"use strict";var e=function(){function t(t){this.options=t}return t.prototype.toString=function(){return JSON&&JSON.stringify?JSON.stringify(this.options):this.options},t}(),r=function(){function t(e){return"function"==typeof Object.freeze?function(e){if("object"!=typeof e||null===e)return e;var r,n;for(n in Object.freeze(e),e)e.hasOwnProperty(n)&&("object"!=typeof(r=e[n])||r instanceof RegExp||t(r));return e}(e):e}return{isArray:function(t){return"[object Array]"===Object.prototype.toString.apply(t)},isString:function(t){return"[object String]"===Object.prototype.toString.apply(t)},isNumber:function(t){return"[object Number]"===Object.prototype.toString.apply(t)},isBoolean:function(t){return"[object Boolean]"===Object.prototype.toString.apply(t)},join:function(t,e){var r,n="",o=!0;for(r=0;r<t.length;r+=1)o?o=!1:n+=e,n+=t[r];return n},map:function(t,e){for(var r=[],n=0;n<t.length;n+=1)r.push(e(t[n]));return r},filter:function(t,e){for(var r=[],n=0;n<t.length;n+=1)e(t[n])&&r.push(t[n]);return r},deepFreeze:t}}(),n=function(){function t(t){return t>="0"&&t<="9"}return{isAlpha:function(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"},isDigit:t,isHexDigit:function(e){return t(e)||e>="a"&&e<="f"||e>="A"&&e<="F"}}}(),o=function(){var t={encode:function(t){return unescape(encodeURIComponent(t))},numBytes:function(t){return t<=127?1:194<=t&&t<=223?2:224<=t&&t<=239?3:240<=t&&t<=244?4:0},isValidFollowingCharCode:function(t){return 128<=t&&t<=191}};function e(t,e){return"%"===t.charAt(e)&&n.isHexDigit(t.charAt(e+1))&&n.isHexDigit(t.charAt(e+2))}function r(t,e){return parseInt(t.substr(e,2),16)}return{encodeCharacter:function(e){var r,n,o="",i=t.encode(e);for(n=0;n<i.length;n+=1)o+="%"+((r=i.charCodeAt(n))<16?"0":"")+r.toString(16).toUpperCase();return o},isPctEncoded:function(n){if(!e(n,0))return!1;var o=r(n,1),i=t.numBytes(o);if(0===i)return!1;for(var s=1;s<i;s+=1)if(!e(n,3*s)||!t.isValidFollowingCharCode(r(n,3*s+1)))return!1;return!0},pctCharAt:function(n,o){var i=n.charAt(o);if(!e(n,o))return i;var s=r(n,o+1),a=t.numBytes(s);if(0===a)return i;for(var u=1;u<a;u+=1)if(!e(n,o+3*u)||!t.isValidFollowingCharCode(r(n,o+3*u+1)))return i;return n.substr(o,3*a)}}}(),i=function(){return{isVarchar:function(t){return n.isAlpha(t)||n.isDigit(t)||"_"===t||o.isPctEncoded(t)},isUnreserved:function(t){return n.isAlpha(t)||n.isDigit(t)||"-"===t||"."===t||"_"===t||"~"===t},isReserved:function(t){return":"===t||"/"===t||"?"===t||"#"===t||"["===t||"]"===t||"@"===t||"!"===t||"$"===t||"&"===t||"("===t||")"===t||"*"===t||"+"===t||","===t||";"===t||"="===t||"'"===t}}}(),s=function(){function t(t,e){var r,n="",s="";for("number"!=typeof t&&"boolean"!=typeof t||(t=t.toString()),r=0;r<t.length;r+=s.length)s=t.charAt(r),n+=i.isUnreserved(s)||e&&i.isReserved(s)?s:o.encodeCharacter(s);return n}return{encode:t,encodePassReserved:function(e){return t(e,!0)},encodeLiteral:function(t){var e,r="",n="";for(e=0;e<t.length;e+=n.length)(n=o.pctCharAt(t,e)).length>1?r+=n:r+=i.isReserved(n)||i.isUnreserved(n)?n:o.encodeCharacter(n);return r},encodeLiteralCharacter:function(t,e){var r=o.pctCharAt(t,e);return r.length>1?r:i.isReserved(r)||i.isUnreserved(r)?r:o.encodeCharacter(r)}}}(),a=function(){var t={};function e(e){t[e]={symbol:e,separator:"?"===e?"&":""===e||"+"===e||"#"===e?",":e,named:";"===e||"&"===e||"?"===e,ifEmpty:"&"===e||"?"===e?"=":"",first:"+"===e?"":e,encode:"+"===e||"#"===e?s.encodePassReserved:s.encode,toString:function(){return this.symbol}}}return e(""),e("+"),e("#"),e("."),e("/"),e(";"),e("?"),e("&"),{valueOf:function(e){return t[e]?t[e]:"=,!@|".indexOf(e)>=0?null:t[""]}}}();function u(t){var e;if(null==t)return!1;if(r.isArray(t))return t.length>0;if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return!0;for(e in t)if(t.hasOwnProperty(e)&&u(t[e]))return!0;return!1}var c=function(){function t(t){this.literal=s.encodeLiteral(t)}return t.prototype.expand=function(){return this.literal},t.prototype.toString=t.prototype.expand,t}(),h=function(){function t(t){var r,s,u=[],c=null,h=null,f=null,d="";function p(){var r=t.substring(h,s);if(0===r.length)throw new e({expressionText:t,message:"a varname must be specified",position:s});c={varname:r,exploded:!1,maxLength:null},h=null}function _(){if(f===s)throw new e({expressionText:t,message:"after a ':' you have to specify the length",position:s});c.maxLength=parseInt(t.substring(f,s),10),f=null}for(r=function(r){var n=a.valueOf(r);if(null===n)throw new e({expressionText:t,message:"illegal use of reserved operator",position:s,operator:r});return n}(t.charAt(0)),s=r.symbol.length,h=s;s<t.length;s+=d.length){if(d=o.pctCharAt(t,s),null!==h){if("."===d){if(h===s)throw new e({expressionText:t,message:"a varname MUST NOT start with a dot",position:s});continue}if(i.isVarchar(d))continue;p()}if(null!==f){if(s===f&&"0"===d)throw new e({expressionText:t,message:"A :prefix must not start with digit 0",position:s});if(n.isDigit(d)){if(s-f>=4)throw new e({expressionText:t,message:"A :prefix must have max 4 digits",position:s});continue}_()}if(":"!==d)if("*"!==d){if(","!==d)throw new e({expressionText:t,message:"illegal character",character:d,position:s});u.push(c),c=null,h=s+1}else{if(null===c)throw new e({expressionText:t,message:"exploded without varspec",position:s});if(c.exploded)throw new e({expressionText:t,message:"exploded twice",position:s});if(c.maxLength)throw new e({expressionText:t,message:"an explode (*) MUST NOT follow to a prefix",position:s});c.exploded=!0}else{if(null!==c.maxLength)throw new e({expressionText:t,message:"only one :maxLength is allowed per varspec",position:s});if(c.exploded)throw new e({expressionText:t,message:"an exploeded varspec MUST NOT be varspeced",position:s});f=s+1}}return null!==h&&p(),null!==f&&_(),u.push(c),new l(t,r,u)}function r(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}return function(n){var o,i,s,a=[],u=null,h="",l=!0,d=0;for(o=0;o<n.length;o+=1)if(i=n.charAt(o),null===d){if(null===u)throw new Error("reached unreachable code");if("{"===i)throw new e({templateText:n,message:"brace already opened",position:o});if("}"===i){if(u+1===o)throw new e({templateText:n,message:"empty braces",position:u});try{s=t(n.substring(u+1,o))}catch(t){if(t.prototype===e.prototype)throw new e({templateText:n,message:t.options.message,position:u+t.options.position,details:t.options});throw t}a.push(s),0===s.operator.symbol.length?h+="([^/]+)":l=!1,u=null,d=o+1}}else{if("}"===i)throw new e({templateText:n,message:"unopened brace closed",position:o});"{"===i&&(d<o&&(s=new c(n.substring(d,o)),a.push(s),h+=r(s.literal)),d=null,u=o)}if(null!==u)throw new e({templateText:n,message:"unclosed brace",position:u});return d<n.length&&(s=new c(n.substring(d)),a.push(s),h+=r(s.literal)),!1===l&&(h=void 0),new f(n,a,h)}}(),l=function(){function t(t){return JSON&&JSON.stringify?JSON.stringify(t):t}function e(t){if(!u(t))return!0;if(r.isString(t))return""===t;if(r.isNumber(t)||r.isBoolean(t))return!1;if(r.isArray(t))return 0===t.length;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function n(t){var e,r=[];for(e in t)t.hasOwnProperty(e)&&r.push({name:e,value:t[e]});return r}function o(t,e,r){this.templateText=t,this.operator=e,this.varspecs=r}function i(t,e,r){var n="";if(r=r.toString(),e.named){if(n+=s.encodeLiteral(t.varname),""===r)return n+=e.ifEmpty;n+="="}return null!==t.maxLength&&(r=r.substr(0,t.maxLength)),n+=e.encode(r)}function a(t){return u(t.value)}function c(t,o,i){var c=[],h="";if(o.named){if(h+=s.encodeLiteral(t.varname),e(i))return h+=o.ifEmpty;h+="="}return r.isArray(i)?(c=i,c=r.filter(c,u),c=r.map(c,o.encode),h+=r.join(c,",")):(c=n(i),c=r.filter(c,a),c=r.map(c,function(t){return o.encode(t.name)+","+o.encode(t.value)}),h+=r.join(c,",")),h}function h(t,o,i){var c=[];return r.isArray(i)?(c=i,c=r.filter(c,u),c=r.map(c,function(r){var n=s.encodeLiteral(t.varname);return e(r)?n+=o.ifEmpty:n+="="+o.encode(r),n})):(c=n(i),c=r.filter(c,a),c=r.map(c,function(t){var r=s.encodeLiteral(t.name);return e(t.value)?r+=o.ifEmpty:r+="="+o.encode(t.value),r})),r.join(c,o.separator)}function l(t,e){var o=[],i="";return r.isArray(e)?(o=e,o=r.filter(o,u),o=r.map(o,t.encode),i+=r.join(o,t.separator)):(o=n(e),o=r.filter(o,function(t){return u(t.value)}),o=r.map(o,function(e){return t.encode(e.name)+"="+t.encode(e.value)}),i+=r.join(o,t.separator)),i}return o.prototype.toString=function(){return this.templateText},o.prototype.expand=function(n){var o,s,a,f=[],d=this.operator;for(o=0;o<this.varspecs.length;o+=1)if(null!=(a=n[(s=this.varspecs[o]).varname]))if(s.exploded&&!0,r.isArray(a),"string"==typeof a||"number"==typeof a||"boolean"==typeof a)f.push(i(s,d,a));else{if(s.maxLength&&u(a))throw new Error("Prefix modifiers are not applicable to variables that have composite values. You tried to expand "+this+" with "+t(a));s.exploded?u(a)&&(d.named?f.push(h(s,d,a)):f.push(l(d,a))):!d.named&&e(a)||f.push(c(s,d,a))}return 0===f.length?"":d.first+r.join(f,d.separator)},o}(),f=function(){function t(t,e,n){this.templateText=t,this.expressions=e,void 0!==n&&(this.regexp=new RegExp("^"+n+"$")),r.deepFreeze(this)}return t.prototype.toString=function(){return this.templateText},t.prototype.expand=function(t){var e,r="";for(e=0;e<this.expressions.length;e+=1)r+=this.expressions[e].expand(t);return r},t.prototype.extract=function(t){var e,r,n,o,i=1,s=!0,a={};if(void 0!==this.regexp&&this.regexp.test(t)){for(o=this.regexp.exec(t),e=0;e<this.expressions.length;e+=1)void 0===(r=this.expressions[e]).literal&&(void 0!==r.operator&&0===r.operator.symbol.length&&1===r.varspecs.length&&!1===(n=r.varspecs[0]).exploded&&null===n.maxLength&&-1===o[i].indexOf(",")?(a[n.varname]=decodeURIComponent(o[i]),i+=1):s=!1);if(s)return a}return!1},t.parse=h,t.UriTemplateError=e,t}();!function(t){"undefined"!=typeof module?module.exports=t:"function"==typeof define?define([],function(){return t}):"undefined"!=typeof window?window.UriTemplate=t:global.UriTemplate=t}(f)}();var LZString=function(){var t=String.fromCharCode,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",n={};function o(t,e){if(!n[t]){n[t]={};for(var r=0;r<t.length;r++)n[t][t.charAt(r)]=r}return n[t][e]}var i={compressToBase64:function(t){if(null==t)return"";var r=i._compress(t,6,function(t){return e.charAt(t)});switch(r.length%4){default:case 0:return r;case 1:return r+"===";case 2:return r+"==";case 3:return r+"="}},decompressFromBase64:function(t){return null==t?"":""==t?null:i._decompress(t.length,32,function(r){return o(e,t.charAt(r))})},compressToUTF16:function(e){return null==e?"":i._compress(e,15,function(e){return t(e+32)})+" "},decompressFromUTF16:function(t){return null==t?"":""==t?null:i._decompress(t.length,16384,function(e){return t.charCodeAt(e)-32})},compressToUint8Array:function(t){for(var e=i.compress(t),r=new Uint8Array(2*e.length),n=0,o=e.length;n<o;n++){var s=e.charCodeAt(n);r[2*n]=s>>>8,r[2*n+1]=s%256}return r},decompressFromUint8Array:function(e){if(null==e)return i.decompress(e);for(var r=new Array(e.length/2),n=0,o=r.length;n<o;n++)r[n]=256*e[2*n]+e[2*n+1];var s=[];return r.forEach(function(e){s.push(t(e))}),i.decompress(s.join(""))},compressToEncodedURIComponent:function(t){return null==t?"":i._compress(t,6,function(t){return r.charAt(t)})},decompressFromEncodedURIComponent:function(t){return null==t?"":""==t?null:(t=t.replace(/ /g,"+"),i._decompress(t.length,32,function(e){return o(r,t.charAt(e))}))},compress:function(e){return i._compress(e,16,function(e){return t(e)})},_compress:function(t,e,r){if(null==t)return"";var n,o,i,s={},a={},u="",c="",h="",l=2,f=3,d=2,p=[],_=0,m=0;for(i=0;i<t.length;i+=1)if(u=t.charAt(i),Object.prototype.hasOwnProperty.call(s,u)||(s[u]=f++,a[u]=!0),c=h+u,Object.prototype.hasOwnProperty.call(s,c))h=c;else{if(Object.prototype.hasOwnProperty.call(a,h)){if(h.charCodeAt(0)<256){for(n=0;n<d;n++)_<<=1,m==e-1?(m=0,p.push(r(_)),_=0):m++;for(o=h.charCodeAt(0),n=0;n<8;n++)_=_<<1|1&o,m==e-1?(m=0,p.push(r(_)),_=0):m++,o>>=1}else{for(o=1,n=0;n<d;n++)_=_<<1|o,m==e-1?(m=0,p.push(r(_)),_=0):m++,o=0;for(o=h.charCodeAt(0),n=0;n<16;n++)_=_<<1|1&o,m==e-1?(m=0,p.push(r(_)),_=0):m++,o>>=1}0==--l&&(l=Math.pow(2,d),d++),delete a[h]}else for(o=s[h],n=0;n<d;n++)_=_<<1|1&o,m==e-1?(m=0,p.push(r(_)),_=0):m++,o>>=1;0==--l&&(l=Math.pow(2,d),d++),s[c]=f++,h=String(u)}if(""!==h){if(Object.prototype.hasOwnProperty.call(a,h)){if(h.charCodeAt(0)<256){for(n=0;n<d;n++)_<<=1,m==e-1?(m=0,p.push(r(_)),_=0):m++;for(o=h.charCodeAt(0),n=0;n<8;n++)_=_<<1|1&o,m==e-1?(m=0,p.push(r(_)),_=0):m++,o>>=1}else{for(o=1,n=0;n<d;n++)_=_<<1|o,m==e-1?(m=0,p.push(r(_)),_=0):m++,o=0;for(o=h.charCodeAt(0),n=0;n<16;n++)_=_<<1|1&o,m==e-1?(m=0,p.push(r(_)),_=0):m++,o>>=1}0==--l&&(l=Math.pow(2,d),d++),delete a[h]}else for(o=s[h],n=0;n<d;n++)_=_<<1|1&o,m==e-1?(m=0,p.push(r(_)),_=0):m++,o>>=1;0==--l&&(l=Math.pow(2,d),d++)}for(o=2,n=0;n<d;n++)_=_<<1|1&o,m==e-1?(m=0,p.push(r(_)),_=0):m++,o>>=1;for(;;){if(_<<=1,m==e-1){p.push(r(_));break}m++}return p.join("")},decompress:function(t){return null==t?"":""==t?null:i._decompress(t.length,32768,function(e){return t.charCodeAt(e)})},_decompress:function(e,r,n){var o,i,s,a,u,c,h,l=[],f=4,d=4,p=3,_="",m=[],g={val:n(0),position:r,index:1};for(o=0;o<3;o+=1)l[o]=o;for(s=0,u=Math.pow(2,2),c=1;c!=u;)a=g.val&g.position,g.position>>=1,0==g.position&&(g.position=r,g.val=n(g.index++)),s|=(a>0?1:0)*c,c<<=1;switch(s){case 0:for(s=0,u=Math.pow(2,8),c=1;c!=u;)a=g.val&g.position,g.position>>=1,0==g.position&&(g.position=r,g.val=n(g.index++)),s|=(a>0?1:0)*c,c<<=1;h=t(s);break;case 1:for(s=0,u=Math.pow(2,16),c=1;c!=u;)a=g.val&g.position,g.position>>=1,0==g.position&&(g.position=r,g.val=n(g.index++)),s|=(a>0?1:0)*c,c<<=1;h=t(s);break;case 2:return""}for(l[3]=h,i=h,m.push(h);;){if(g.index>e)return"";for(s=0,u=Math.pow(2,p),c=1;c!=u;)a=g.val&g.position,g.position>>=1,0==g.position&&(g.position=r,g.val=n(g.index++)),s|=(a>0?1:0)*c,c<<=1;switch(h=s){case 0:for(s=0,u=Math.pow(2,8),c=1;c!=u;)a=g.val&g.position,g.position>>=1,0==g.position&&(g.position=r,g.val=n(g.index++)),s|=(a>0?1:0)*c,c<<=1;l[d++]=t(s),h=d-1,f--;break;case 1:for(s=0,u=Math.pow(2,16),c=1;c!=u;)a=g.val&g.position,g.position>>=1,0==g.position&&(g.position=r,g.val=n(g.index++)),s|=(a>0?1:0)*c,c<<=1;l[d++]=t(s),h=d-1,f--;break;case 2:return m.join("")}if(0==f&&(f=Math.pow(2,p),p++),l[h])_=l[h];else{if(h!==d)return null;_=i+i.charAt(0)}m.push(_),l[d++]=i+_.charAt(0),i=_,0==--f&&(f=Math.pow(2,p),p++)}}};return i}();function parseStringToObject(t){var e=function(){var t,e,r=[],n=arguments;for(t=0;t<n.length;t+=1)for(e=0;e<n[t].length;e+=1)r.push(n[t][e]);return r},r=function(t,e,r){var n={type:"simple",key:t,value:e};return void 0!==r&&(n.operator=r),n},n=function(t,r){var n,o=[];for(n=0;n<r.length;n+=1)r[n].operator===t?o=e(o,r[n].query_list):o.push(r[n]);return{type:"complex",operator:t,query_list:o}},o=function(t,e){var r;if("complex"===t.type){for(r=0;r<t.query_list.length;++r)o(t.query_list[r],e);return!0}return"simple"===t.type&&!t.key&&(t.key=e,!0)};return function(){var t=function(t,e,r,n){for(r=r||{},n=t.length;n--;r[t[n]]=e);return r},e=[1,5],i=[1,7],s=[1,8],a=[1,10],u=[1,12],c=[1,6,7,15],h=[1,6,7,9,12,14,15,16,19,21],l=[1,6,7,9,11,12,14,15,16,19,21],f=[2,17],d={trace:function(){},yy:{},symbols_:{error:2,begin:3,search_text:4,end:5,EOF:6,NEWLINE:7,and_expression:8,OR:9,boolean_expression:10,AND:11,NOT:12,expression:13,LEFT_PARENTHESE:14,RIGHT_PARENTHESE:15,WORD:16,DEFINITION:17,value:18,OPERATOR:19,string:20,QUOTE:21,QUOTED_STRING:22,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",7:"NEWLINE",9:"OR",11:"AND",12:"NOT",14:"LEFT_PARENTHESE",15:"RIGHT_PARENTHESE",16:"WORD",17:"DEFINITION",19:"OPERATOR",21:"QUOTE",22:"QUOTED_STRING"},productions_:[0,[3,2],[5,0],[5,1],[5,1],[4,1],[4,2],[4,3],[8,1],[8,3],[10,2],[10,1],[13,3],[13,3],[13,1],[18,2],[18,1],[20,1],[20,3]],performAction:function(t,e,i,s,a,u,c){var h,l=u.length-1;switch(a){case 1:return u[l-1];case 5:case 8:case 11:case 14:case 16:this.$=u[l];break;case 6:this.$=n("AND",[u[l-1],u[l]]);break;case 7:this.$=n("OR",[u[l-2],u[l]]);break;case 9:this.$=n("AND",[u[l-2],u[l]]);break;case 10:this.$="NOT"===(h=u[l]).operator?h.query_list[0]:{type:"complex",operator:"NOT",query_list:[h]};break;case 12:this.$=u[l-1];break;case 13:o(u[l],u[l-2]),this.$=u[l];break;case 15:u[l].operator=u[l-1],this.$=u[l];break;case 17:this.$=r("",u[l]);break;case 18:this.$=r("",u[l-1])}},table:[{3:1,4:2,8:3,10:4,12:e,13:6,14:i,16:s,18:9,19:a,20:11,21:u},{1:[3]},{1:[2,2],5:13,6:[1,14],7:[1,15]},t(c,[2,5],{8:3,10:4,13:6,18:9,20:11,4:16,9:[1,17],12:e,14:i,16:s,19:a,21:u}),t(h,[2,8],{11:[1,18]}),{13:19,14:i,16:s,18:9,19:a,20:11,21:u},t(l,[2,11]),{4:20,8:3,10:4,12:e,13:6,14:i,16:s,18:9,19:a,20:11,21:u},t(l,f,{17:[1,21]}),t(l,[2,14]),{16:[1,23],20:22,21:u},t(l,[2,16]),{22:[1,24]},{1:[2,1]},{1:[2,3]},{1:[2,4]},t(c,[2,6]),{4:25,8:3,10:4,12:e,13:6,14:i,16:s,18:9,19:a,20:11,21:u},{8:26,10:4,12:e,13:6,14:i,16:s,18:9,19:a,20:11,21:u},t(l,[2,10]),{15:[1,27]},{13:28,14:i,16:s,18:9,19:a,20:11,21:u},t(l,[2,15]),t(l,f),{21:[1,29]},t(c,[2,7]),t(h,[2,9]),t(l,[2,12]),t(l,[2,13]),t(l,[2,18])],defaultActions:{13:[2,1],14:[2,3],15:[2,4]},parseError:function(t,e){if(!e.recoverable){function r(t,e){this.message=t,this.hash=e}throw r.prototype=new Error,new r(t,e)}this.trace(t)},parse:function(t){var e=this,r=[0],n=[null],o=[],i=this.table,s="",a=0,u=0,c=0,h=o.slice.call(arguments,1),l=Object.create(this.lexer),f={yy:{}};for(var d in this.yy)Object.prototype.hasOwnProperty.call(this.yy,d)&&(f.yy[d]=this.yy[d]);l.setInput(t,f.yy),f.yy.lexer=l,f.yy.parser=this,void 0===l.yylloc&&(l.yylloc={});var p=l.yylloc;o.push(p);var _=l.options&&l.options.ranges;"function"==typeof f.yy.parseError?this.parseError=f.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var m,g,y,v,w,b,k,O,A,S=function(){var t;return"number"!=typeof(t=l.lex()||1)&&(t=e.symbols_[t]||t),t},T={};;){if(y=r[r.length-1],this.defaultActions[y]?v=this.defaultActions[y]:(null==m&&(m=S()),v=i[y]&&i[y][m]),void 0===v||!v.length||!v[0]){var x="";for(b in A=[],i[y])this.terminals_[b]&&b>2&&A.push("'"+this.terminals_[b]+"'");x=l.showPosition?"Parse error on line "+(a+1)+":\n"+l.showPosition()+"\nExpecting "+A.join(", ")+", got '"+(this.terminals_[m]||m)+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==m?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(x,{text:l.match,token:this.terminals_[m]||m,line:l.yylineno,loc:p,expected:A})}if(v[0]instanceof Array&&v.length>1)throw new Error("Parse Error: multiple actions possible at state: "+y+", token: "+m);switch(v[0]){case 1:r.push(m),n.push(l.yytext),o.push(l.yylloc),r.push(v[1]),m=null,g?(m=g,g=null):(u=l.yyleng,s=l.yytext,a=l.yylineno,p=l.yylloc,c>0&&c--);break;case 2:if(k=this.productions_[v[1]][1],T.$=n[n.length-k],T._$={first_line:o[o.length-(k||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(k||1)].first_column,last_column:o[o.length-1].last_column},_&&(T._$.range=[o[o.length-(k||1)].range[0],o[o.length-1].range[1]]),void 0!==(w=this.performAction.apply(T,[s,u,a,f.yy,v[1],n,o].concat(h))))return w;k&&(r=r.slice(0,-1*k*2),n=n.slice(0,-1*k),o=o.slice(0,-1*k)),r.push(this.productions_[v[1]][0]),n.push(T.$),o.push(T._$),O=i[r[r.length-2]][r[r.length-1]],r.push(O);break;case 3:return!0}}return!0}},p={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,r=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var o=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var r,n,o;if(this.options.backtrack_lexer&&(o={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(o.yylloc.range=this.yylloc.range.slice(0))),(n=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],r=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var i in o)this[i]=o[i];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),i=0;i<o.length;i++)if((r=this._input.match(this.rules[o[i]]))&&(!e||r[0].length>e[0].length)){if(e=r,n=i,this.options.backtrack_lexer){if(!1!==(t=this.test_match(r,o[i])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,o[n]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,r,n){switch(r){case 0:return this.begin("letsquote"),"QUOTE";case 1:return this.popState(),this.begin("endquote"),"QUOTED_STRING";case 2:return this.popState(),"QUOTE";case 3:break;case 4:return"LEFT_PARENTHESE";case 5:return"RIGHT_PARENTHESE";case 6:return"AND";case 7:return"OR";case 8:return"NOT";case 9:return"DEFINITION";case 10:return 19;case 11:return 16;case 12:return 6}},rules:[/^(?:")/,/^(?:(\\"|[^"])*)/,/^(?:")/,/^(?:[^\S]+)/,/^(?:\()/,/^(?:\))/,/^(?:AND\b)/,/^(?:OR\b)/,/^(?:NOT\b)/,/^(?::)/,/^(?:(!?=|<=?|>=?))/,/^(?:[^\s\n"():><!=]+)/,/^(?:$)/],conditions:{endquote:{rules:[2],inclusive:!1},letsquote:{rules:[1],inclusive:!1},INITIAL:{rules:[0,3,4,5,6,7,8,9,10,11,12],inclusive:!0}}};function _(){this.yy={}}return d.lexer=p,_.prototype=d,d.Parser=_,new _}().parse(t)}"function"==typeof define&&define.amd?define(function(){return LZString}):"undefined"!=typeof module&&null!=module&&(module.exports=LZString),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";var t,e;function r(){return t.apply(null,arguments)}function n(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function o(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function i(t){return void 0===t}function s(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function a(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function u(t,e){var r,n=[];for(r=0;r<t.length;++r)n.push(e(t[r],r));return n}function c(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function h(t,e){for(var r in e)c(e,r)&&(t[r]=e[r]);return c(e,"toString")&&(t.toString=e.toString),c(e,"valueOf")&&(t.valueOf=e.valueOf),t}function l(t,e,r,n){return xe(t,e,r,n,!0).utc()}function f(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function d(t){if(null==t._isValid){var r=f(t),n=e.call(r.parsedDateParts,function(t){return null!=t}),o=!isNaN(t._d.getTime())&&r.overflow<0&&!r.empty&&!r.invalidMonth&&!r.invalidWeekday&&!r.weekdayMismatch&&!r.nullInput&&!r.invalidFormat&&!r.userInvalidated&&(!r.meridiem||r.meridiem&&n);if(t._strict&&(o=o&&0===r.charsLeftOver&&0===r.unusedTokens.length&&void 0===r.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return o;t._isValid=o}return t._isValid}function p(t){var e=l(NaN);return null!=t?h(f(e),t):f(e).userInvalidated=!0,e}e=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),r=e.length>>>0,n=0;n<r;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};var _=r.momentProperties=[];function m(t,e){var r,n,o;if(i(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),i(e._i)||(t._i=e._i),i(e._f)||(t._f=e._f),i(e._l)||(t._l=e._l),i(e._strict)||(t._strict=e._strict),i(e._tzm)||(t._tzm=e._tzm),i(e._isUTC)||(t._isUTC=e._isUTC),i(e._offset)||(t._offset=e._offset),i(e._pf)||(t._pf=f(e)),i(e._locale)||(t._locale=e._locale),_.length>0)for(r=0;r<_.length;r++)i(o=e[n=_[r]])||(t[n]=o);return t}var g=!1;function y(t){m(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===g&&(g=!0,r.updateOffset(this),g=!1)}function v(t){return t instanceof y||null!=t&&null!=t._isAMomentObject}function w(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function b(t){var e=+t,r=0;return 0!==e&&isFinite(e)&&(r=w(e)),r}function k(t,e,r){var n,o=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),s=0;for(n=0;n<o;n++)(r&&t[n]!==e[n]||!r&&b(t[n])!==b(e[n]))&&s++;return s+i}function O(t){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function A(t,e){var n=!0;return h(function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,t),n){for(var o,i=[],s=0;s<arguments.length;s++){if(o="","object"==typeof arguments[s]){for(var a in o+="\n["+s+"] ",arguments[0])o+=a+": "+arguments[0][a]+", ";o=o.slice(0,-2)}else o=arguments[s];i.push(o)}O(t+"\nArguments: "+Array.prototype.slice.call(i).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)},e)}var S,T={};function x(t,e){null!=r.deprecationHandler&&r.deprecationHandler(t,e),T[t]||(O(e),T[t]=!0)}function E(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function D(t,e){var r,n=h({},t);for(r in e)c(e,r)&&(o(t[r])&&o(e[r])?(n[r]={},h(n[r],t[r]),h(n[r],e[r])):null!=e[r]?n[r]=e[r]:delete n[r]);for(r in t)c(t,r)&&!c(e,r)&&o(t[r])&&(n[r]=h({},n[r]));return n}function M(t){null!=t&&this.set(t)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,S=Object.keys?Object.keys:function(t){var e,r=[];for(e in t)c(t,e)&&r.push(e);return r};var P={};function C(t,e){var r=t.toLowerCase();P[r]=P[r+"s"]=P[e]=t}function I(t){return"string"==typeof t?P[t]||P[t.toLowerCase()]:void 0}function j(t){var e,r,n={};for(r in t)c(t,r)&&(e=I(r))&&(n[e]=t[r]);return n}var Y={};function L(t,e){Y[t]=e}function R(t,e,r){var n=""+Math.abs(t),o=e-n.length;return(t>=0?r?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+n}var N=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,F=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Q={},U={};function z(t,e,r,n){var o=n;"string"==typeof n&&(o=function(){return this[n]()}),t&&(U[t]=o),e&&(U[e[0]]=function(){return R(o.apply(this,arguments),e[1],e[2])}),r&&(U[r]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function H(t,e){return t.isValid()?(e=q(e,t.localeData()),Q[e]=Q[e]||function(t){var e,r,n,o=t.match(N);for(e=0,r=o.length;e<r;e++)U[o[e]]?o[e]=U[o[e]]:o[e]=(n=o[e]).match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"");return function(e){var n,i="";for(n=0;n<r;n++)i+=E(o[n])?o[n].call(e,t):o[n];return i}}(e),Q[e](t)):t.localeData().invalidDate()}function q(t,e){var r=5;function n(t){return e.longDateFormat(t)||t}for(F.lastIndex=0;r>=0&&F.test(t);)t=t.replace(F,n),F.lastIndex=0,r-=1;return t}var G=/\d/,W=/\d\d/,V=/\d{3}/,B=/\d{4}/,$=/[+-]?\d{6}/,J=/\d\d?/,Z=/\d\d\d\d?/,K=/\d\d\d\d\d\d?/,X=/\d{1,3}/,tt=/\d{1,4}/,et=/[+-]?\d{1,6}/,rt=/\d+/,nt=/[+-]?\d+/,ot=/Z|[+-]\d\d:?\d\d/gi,it=/Z|[+-]\d\d(?::?\d\d)?/gi,st=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,at={};function ut(t,e,r){at[t]=E(e)?e:function(t,n){return t&&r?r:e}}function ct(t,e){return c(at,t)?at[t](e._strict,e._locale):new RegExp(ht(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,r,n,o){return e||r||n||o})))}function ht(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var lt={};function ft(t,e){var r,n=e;for("string"==typeof t&&(t=[t]),s(e)&&(n=function(t,r){r[e]=b(t)}),r=0;r<t.length;r++)lt[t[r]]=n}function dt(t,e){ft(t,function(t,r,n,o){n._w=n._w||{},e(t,n._w,n,o)})}function pt(t,e,r){null!=e&&c(lt,t)&&lt[t](e,r._a,r,t)}var _t=0,mt=1,gt=2,yt=3,vt=4,wt=5,bt=6,kt=7,Ot=8;function At(t){return St(t)?366:365}function St(t){return t%4==0&&t%100!=0||t%400==0}z("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),z(0,["YY",2],0,function(){return this.year()%100}),z(0,["YYYY",4],0,"year"),z(0,["YYYYY",5],0,"year"),z(0,["YYYYYY",6,!0],0,"year"),C("year","y"),L("year",1),ut("Y",nt),ut("YY",J,W),ut("YYYY",tt,B),ut("YYYYY",et,$),ut("YYYYYY",et,$),ft(["YYYYY","YYYYYY"],_t),ft("YYYY",function(t,e){e[_t]=2===t.length?r.parseTwoDigitYear(t):b(t)}),ft("YY",function(t,e){e[_t]=r.parseTwoDigitYear(t)}),ft("Y",function(t,e){e[_t]=parseInt(t,10)}),r.parseTwoDigitYear=function(t){return b(t)+(b(t)>68?1900:2e3)};var Tt,xt=Et("FullYear",!0);function Et(t,e){return function(n){return null!=n?(Mt(this,t,n),r.updateOffset(this,e),this):Dt(this,t)}}function Dt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function Mt(t,e,r){t.isValid()&&!isNaN(r)&&("FullYear"===e&&St(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](r,t.month(),Pt(r,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](r))}function Pt(t,e){if(isNaN(t)||isNaN(e))return NaN;var r,n=(e%(r=12)+r)%r;return t+=(e-n)/12,1===n?St(t)?29:28:31-n%7%2}Tt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},z("M",["MM",2],"Mo",function(){return this.month()+1}),z("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),z("MMMM",0,0,function(t){return this.localeData().months(this,t)}),C("month","M"),L("month",8),ut("M",J),ut("MM",J,W),ut("MMM",function(t,e){return e.monthsShortRegex(t)}),ut("MMMM",function(t,e){return e.monthsRegex(t)}),ft(["M","MM"],function(t,e){e[mt]=b(t)-1}),ft(["MMM","MMMM"],function(t,e,r,n){var o=r._locale.monthsParse(t,n,r._strict);null!=o?e[mt]=o:f(r).invalidMonth=t});var Ct=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,It="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var jt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Yt(t,e){var r;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=b(e);else if(!s(e=t.localeData().monthsParse(e)))return t;return r=Math.min(t.date(),Pt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,r),t}function Lt(t){return null!=t?(Yt(this,t),r.updateOffset(this,!0),this):Dt(this,"Month")}var Rt=st;var Nt=st;function Ft(){function t(t,e){return e.length-t.length}var e,r,n=[],o=[],i=[];for(e=0;e<12;e++)r=l([2e3,e]),n.push(this.monthsShort(r,"")),o.push(this.months(r,"")),i.push(this.months(r,"")),i.push(this.monthsShort(r,""));for(n.sort(t),o.sort(t),i.sort(t),e=0;e<12;e++)n[e]=ht(n[e]),o[e]=ht(o[e]);for(e=0;e<24;e++)i[e]=ht(i[e]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Qt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function Ut(t,e,r){var n=7+e-r;return-((7+Qt(t,0,n).getUTCDay()-e)%7)+n-1}function zt(t,e,r,n,o){var i,s,a=1+7*(e-1)+(7+r-n)%7+Ut(t,n,o);return a<=0?s=At(i=t-1)+a:a>At(t)?(i=t+1,s=a-At(t)):(i=t,s=a),{year:i,dayOfYear:s}}function Ht(t,e,r){var n,o,i=Ut(t.year(),e,r),s=Math.floor((t.dayOfYear()-i-1)/7)+1;return s<1?n=s+qt(o=t.year()-1,e,r):s>qt(t.year(),e,r)?(n=s-qt(t.year(),e,r),o=t.year()+1):(o=t.year(),n=s),{week:n,year:o}}function qt(t,e,r){var n=Ut(t,e,r),o=Ut(t+1,e,r);return(At(t)-n+o)/7}z("w",["ww",2],"wo","week"),z("W",["WW",2],"Wo","isoWeek"),C("week","w"),C("isoWeek","W"),L("week",5),L("isoWeek",5),ut("w",J),ut("ww",J,W),ut("W",J),ut("WW",J,W),dt(["w","ww","W","WW"],function(t,e,r,n){e[n.substr(0,1)]=b(t)});z("d",0,"do","day"),z("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),z("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),z("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),z("e",0,0,"weekday"),z("E",0,0,"isoWeekday"),C("day","d"),C("weekday","e"),C("isoWeekday","E"),L("day",11),L("weekday",11),L("isoWeekday",11),ut("d",J),ut("e",J),ut("E",J),ut("dd",function(t,e){return e.weekdaysMinRegex(t)}),ut("ddd",function(t,e){return e.weekdaysShortRegex(t)}),ut("dddd",function(t,e){return e.weekdaysRegex(t)}),dt(["dd","ddd","dddd"],function(t,e,r,n){var o=r._locale.weekdaysParse(t,n,r._strict);null!=o?e.d=o:f(r).invalidWeekday=t}),dt(["d","e","E"],function(t,e,r,n){e[n]=b(t)});var Gt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var Wt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var Vt="Su_Mo_Tu_We_Th_Fr_Sa".split("_");var Bt=st;var $t=st;var Jt=st;function Zt(){function t(t,e){return e.length-t.length}var e,r,n,o,i,s=[],a=[],u=[],c=[];for(e=0;e<7;e++)r=l([2e3,1]).day(e),n=this.weekdaysMin(r,""),o=this.weekdaysShort(r,""),i=this.weekdays(r,""),s.push(n),a.push(o),u.push(i),c.push(n),c.push(o),c.push(i);for(s.sort(t),a.sort(t),u.sort(t),c.sort(t),e=0;e<7;e++)a[e]=ht(a[e]),u[e]=ht(u[e]),c[e]=ht(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Kt(){return this.hours()%12||12}function Xt(t,e){z(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function te(t,e){return e._meridiemParse}z("H",["HH",2],0,"hour"),z("h",["hh",2],0,Kt),z("k",["kk",2],0,function(){return this.hours()||24}),z("hmm",0,0,function(){return""+Kt.apply(this)+R(this.minutes(),2)}),z("hmmss",0,0,function(){return""+Kt.apply(this)+R(this.minutes(),2)+R(this.seconds(),2)}),z("Hmm",0,0,function(){return""+this.hours()+R(this.minutes(),2)}),z("Hmmss",0,0,function(){return""+this.hours()+R(this.minutes(),2)+R(this.seconds(),2)}),Xt("a",!0),Xt("A",!1),C("hour","h"),L("hour",13),ut("a",te),ut("A",te),ut("H",J),ut("h",J),ut("k",J),ut("HH",J,W),ut("hh",J,W),ut("kk",J,W),ut("hmm",Z),ut("hmmss",K),ut("Hmm",Z),ut("Hmmss",K),ft(["H","HH"],yt),ft(["k","kk"],function(t,e,r){var n=b(t);e[yt]=24===n?0:n}),ft(["a","A"],function(t,e,r){r._isPm=r._locale.isPM(t),r._meridiem=t}),ft(["h","hh"],function(t,e,r){e[yt]=b(t),f(r).bigHour=!0}),ft("hmm",function(t,e,r){var n=t.length-2;e[yt]=b(t.substr(0,n)),e[vt]=b(t.substr(n)),f(r).bigHour=!0}),ft("hmmss",function(t,e,r){var n=t.length-4,o=t.length-2;e[yt]=b(t.substr(0,n)),e[vt]=b(t.substr(n,2)),e[wt]=b(t.substr(o)),f(r).bigHour=!0}),ft("Hmm",function(t,e,r){var n=t.length-2;e[yt]=b(t.substr(0,n)),e[vt]=b(t.substr(n))}),ft("Hmmss",function(t,e,r){var n=t.length-4,o=t.length-2;e[yt]=b(t.substr(0,n)),e[vt]=b(t.substr(n,2)),e[wt]=b(t.substr(o))});var ee,re=Et("Hours",!0),ne={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:It,monthsShort:jt,week:{dow:0,doy:6},weekdays:Gt,weekdaysMin:Vt,weekdaysShort:Wt,meridiemParse:/[ap]\.?m?\.?/i},oe={},ie={};function se(t){return t?t.toLowerCase().replace("_","-"):t}function ae(t){var e=null;if(!oe[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=ee._abbr,require("./locale/"+t),ue(e)}catch(t){}return oe[t]}function ue(t,e){var r;return t&&((r=i(e)?he(t):ce(t,e))?ee=r:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),ee._abbr}function ce(t,e){if(null!==e){var r,n=ne;if(e.abbr=t,null!=oe[t])x("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=oe[t]._config;else if(null!=e.parentLocale)if(null!=oe[e.parentLocale])n=oe[e.parentLocale]._config;else{if(null==(r=ae(e.parentLocale)))return ie[e.parentLocale]||(ie[e.parentLocale]=[]),ie[e.parentLocale].push({name:t,config:e}),null;n=r._config}return oe[t]=new M(D(n,e)),ie[t]&&ie[t].forEach(function(t){ce(t.name,t.config)}),ue(t),oe[t]}return delete oe[t],null}function he(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return ee;if(!n(t)){if(e=ae(t))return e;t=[t]}return function(t){for(var e,r,n,o,i=0;i<t.length;){for(e=(o=se(t[i]).split("-")).length,r=(r=se(t[i+1]))?r.split("-"):null;e>0;){if(n=ae(o.slice(0,e).join("-")))return n;if(r&&r.length>=e&&k(o,r,!0)>=e-1)break;e--}i++}return ee}(t)}function le(t){var e,r=t._a;return r&&-2===f(t).overflow&&(e=r[mt]<0||r[mt]>11?mt:r[gt]<1||r[gt]>Pt(r[_t],r[mt])?gt:r[yt]<0||r[yt]>24||24===r[yt]&&(0!==r[vt]||0!==r[wt]||0!==r[bt])?yt:r[vt]<0||r[vt]>59?vt:r[wt]<0||r[wt]>59?wt:r[bt]<0||r[bt]>999?bt:-1,f(t)._overflowDayOfYear&&(e<_t||e>gt)&&(e=gt),f(t)._overflowWeeks&&-1===e&&(e=kt),f(t)._overflowWeekday&&-1===e&&(e=Ot),f(t).overflow=e),t}function fe(t,e,r){return null!=t?t:null!=e?e:r}function de(t){var e,n,o,i,s,a=[];if(!t._d){for(o=function(t){var e=new Date(r.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[gt]&&null==t._a[mt]&&function(t){var e,r,n,o,i,s,a,u;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)i=1,s=4,r=fe(e.GG,t._a[_t],Ht(Ee(),1,4).year),n=fe(e.W,1),((o=fe(e.E,1))<1||o>7)&&(u=!0);else{i=t._locale._week.dow,s=t._locale._week.doy;var c=Ht(Ee(),i,s);r=fe(e.gg,t._a[_t],c.year),n=fe(e.w,c.week),null!=e.d?((o=e.d)<0||o>6)&&(u=!0):null!=e.e?(o=e.e+i,(e.e<0||e.e>6)&&(u=!0)):o=i}n<1||n>qt(r,i,s)?f(t)._overflowWeeks=!0:null!=u?f(t)._overflowWeekday=!0:(a=zt(r,n,o,i,s),t._a[_t]=a.year,t._dayOfYear=a.dayOfYear)}(t),null!=t._dayOfYear&&(s=fe(t._a[_t],o[_t]),(t._dayOfYear>At(s)||0===t._dayOfYear)&&(f(t)._overflowDayOfYear=!0),n=Qt(s,0,t._dayOfYear),t._a[mt]=n.getUTCMonth(),t._a[gt]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=a[e]=o[e];for(;e<7;e++)t._a[e]=a[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[yt]&&0===t._a[vt]&&0===t._a[wt]&&0===t._a[bt]&&(t._nextDay=!0,t._a[yt]=0),t._d=(t._useUTC?Qt:function(t,e,r,n,o,i,s){var a=new Date(t,e,r,n,o,i,s);return t<100&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}).apply(null,a),i=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[yt]=24),t._w&&void 0!==t._w.d&&t._w.d!==i&&(f(t).weekdayMismatch=!0)}}var pe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_e=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,me=/Z|[+-]\d\d(?::?\d\d)?/,ge=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ye=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ve=/^\/?Date\((\-?\d+)/i;function we(t){var e,r,n,o,i,s,a=t._i,u=pe.exec(a)||_e.exec(a);if(u){for(f(t).iso=!0,e=0,r=ge.length;e<r;e++)if(ge[e][1].exec(u[1])){o=ge[e][0],n=!1!==ge[e][2];break}if(null==o)return void(t._isValid=!1);if(u[3]){for(e=0,r=ye.length;e<r;e++)if(ye[e][1].exec(u[3])){i=(u[2]||" ")+ye[e][0];break}if(null==i)return void(t._isValid=!1)}if(!n&&null!=i)return void(t._isValid=!1);if(u[4]){if(!me.exec(u[4]))return void(t._isValid=!1);s="Z"}t._f=o+(i||"")+(s||""),Se(t)}else t._isValid=!1}var be=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function ke(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}var Oe={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ae(t){var e,r,n,o,i,s,a,u=be.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim());if(u){var c=(e=u[4],r=u[3],n=u[2],o=u[5],i=u[6],s=u[7],a=[ke(e),jt.indexOf(r),parseInt(n,10),parseInt(o,10),parseInt(i,10)],s&&a.push(parseInt(s,10)),a);if(!function(t,e,r){return!t||Wt.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(f(r).weekdayMismatch=!0,r._isValid=!1,!1)}(u[1],c,t))return;t._a=c,t._tzm=function(t,e,r){if(t)return Oe[t];if(e)return 0;var n=parseInt(r,10),o=n%100;return(n-o)/100*60+o}(u[8],u[9],u[10]),t._d=Qt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),f(t).rfc2822=!0}else t._isValid=!1}function Se(t){if(t._f!==r.ISO_8601)if(t._f!==r.RFC_2822){t._a=[],f(t).empty=!0;var e,n,o,i,s,a=""+t._i,u=a.length,c=0;for(o=q(t._f,t._locale).match(N)||[],e=0;e<o.length;e++)i=o[e],(n=(a.match(ct(i,t))||[])[0])&&((s=a.substr(0,a.indexOf(n))).length>0&&f(t).unusedInput.push(s),a=a.slice(a.indexOf(n)+n.length),c+=n.length),U[i]?(n?f(t).empty=!1:f(t).unusedTokens.push(i),pt(i,n,t)):t._strict&&!n&&f(t).unusedTokens.push(i);f(t).charsLeftOver=u-c,a.length>0&&f(t).unusedInput.push(a),t._a[yt]<=12&&!0===f(t).bigHour&&t._a[yt]>0&&(f(t).bigHour=void 0),f(t).parsedDateParts=t._a.slice(0),f(t).meridiem=t._meridiem,t._a[yt]=function(t,e,r){var n;if(null==r)return e;return null!=t.meridiemHour?t.meridiemHour(e,r):null!=t.isPM?((n=t.isPM(r))&&e<12&&(e+=12),n||12!==e||(e=0),e):e}(t._locale,t._a[yt],t._meridiem),de(t),le(t)}else Ae(t);else we(t)}function Te(t){var e=t._i,c=t._f;return t._locale=t._locale||he(t._l),null===e||void 0===c&&""===e?p({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),v(e)?new y(le(e)):(a(e)?t._d=e:n(c)?function(t){var e,r,n,o,i;if(0===t._f.length)return f(t).invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)i=0,e=m({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],Se(e),d(e)&&(i+=f(e).charsLeftOver,i+=10*f(e).unusedTokens.length,f(e).score=i,(null==n||i<n)&&(n=i,r=e));h(t,r||e)}(t):c?Se(t):function(t){var e=t._i;i(e)?t._d=new Date(r.now()):a(e)?t._d=new Date(e.valueOf()):"string"==typeof e?function(t){var e=ve.exec(t._i);null===e?(we(t),!1===t._isValid&&(delete t._isValid,Ae(t),!1===t._isValid&&(delete t._isValid,r.createFromInputFallback(t)))):t._d=new Date(+e[1])}(t):n(e)?(t._a=u(e.slice(0),function(t){return parseInt(t,10)}),de(t)):o(e)?function(t){if(!t._d){var e=j(t._i);t._a=u([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),de(t)}}(t):s(e)?t._d=new Date(e):r.createFromInputFallback(t)}(t),d(t)||(t._d=null),t))}function xe(t,e,r,i,s){var a,u={};return!0!==r&&!1!==r||(i=r,r=void 0),(o(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||n(t)&&0===t.length)&&(t=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=s,u._l=r,u._i=t,u._f=e,u._strict=i,(a=new y(le(Te(u))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function Ee(t,e,r,n){return xe(t,e,r,n,!1)}r.createFromInputFallback=A("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),r.ISO_8601=function(){},r.RFC_2822=function(){};var De=A("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ee.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:p()}),Me=A("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ee.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:p()});function Pe(t,e){var r,o;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return Ee();for(r=e[0],o=1;o<e.length;++o)e[o].isValid()&&!e[o][t](r)||(r=e[o]);return r}var Ce=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ie(t){var e=j(t),r=e.year||0,n=e.quarter||0,o=e.month||0,i=e.week||0,s=e.day||0,a=e.hour||0,u=e.minute||0,c=e.second||0,h=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===Tt.call(Ce,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var r=!1,n=0;n<Ce.length;++n)if(t[Ce[n]]){if(r)return!1;parseFloat(t[Ce[n]])!==b(t[Ce[n]])&&(r=!0)}return!0}(e),this._milliseconds=+h+1e3*c+6e4*u+1e3*a*60*60,this._days=+s+7*i,this._months=+o+3*n+12*r,this._data={},this._locale=he(),this._bubble()}function je(t){return t instanceof Ie}function Ye(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Le(t,e){z(t,0,0,function(){var t=this.utcOffset(),r="+";return t<0&&(t=-t,r="-"),r+R(~~(t/60),2)+e+R(~~t%60,2)})}Le("Z",":"),Le("ZZ",""),ut("Z",it),ut("ZZ",it),ft(["Z","ZZ"],function(t,e,r){r._useUTC=!0,r._tzm=Ne(it,t)});var Re=/([\+\-]|\d\d)/gi;function Ne(t,e){var r=(e||"").match(t);if(null===r)return null;var n=((r[r.length-1]||[])+"").match(Re)||["-",0,0],o=60*n[1]+b(n[2]);return 0===o?0:"+"===n[0]?o:-o}function Fe(t,e){var n,o;return e._isUTC?(n=e.clone(),o=(v(t)||a(t)?t.valueOf():Ee(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+o),r.updateOffset(n,!1),n):Ee(t).local()}function Qe(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Ue(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}r.updateOffset=function(){};var ze=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,He=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function qe(t,e){var r,n,o,i=t,a=null;return je(t)?i={ms:t._milliseconds,d:t._days,M:t._months}:s(t)?(i={},e?i[e]=t:i.milliseconds=t):(a=ze.exec(t))?(r="-"===a[1]?-1:1,i={y:0,d:b(a[gt])*r,h:b(a[yt])*r,m:b(a[vt])*r,s:b(a[wt])*r,ms:b(Ye(1e3*a[bt]))*r}):(a=He.exec(t))?(r="-"===a[1]?-1:(a[1],1),i={y:Ge(a[2],r),M:Ge(a[3],r),w:Ge(a[4],r),d:Ge(a[5],r),h:Ge(a[6],r),m:Ge(a[7],r),s:Ge(a[8],r)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(o=function(t,e){var r;if(!t.isValid()||!e.isValid())return{milliseconds:0,months:0};e=Fe(e,t),t.isBefore(e)?r=We(t,e):((r=We(e,t)).milliseconds=-r.milliseconds,r.months=-r.months);return r}(Ee(i.from),Ee(i.to)),(i={}).ms=o.milliseconds,i.M=o.months),n=new Ie(i),je(t)&&c(t,"_locale")&&(n._locale=t._locale),n}function Ge(t,e){var r=t&&parseFloat(t.replace(",","."));return(isNaN(r)?0:r)*e}function We(t,e){var r={milliseconds:0,months:0};return r.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(r.months,"M").isAfter(e)&&--r.months,r.milliseconds=+e-+t.clone().add(r.months,"M"),r}function Ve(t,e){return function(r,n){var o;return null===n||isNaN(+n)||(x(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=r,r=n,n=o),Be(this,qe(r="string"==typeof r?+r:r,n),t),this}}function Be(t,e,n,o){var i=e._milliseconds,s=Ye(e._days),a=Ye(e._months);t.isValid()&&(o=null==o||o,a&&Yt(t,Dt(t,"Month")+a*n),s&&Mt(t,"Date",Dt(t,"Date")+s*n),i&&t._d.setTime(t._d.valueOf()+i*n),o&&r.updateOffset(t,s||a))}qe.fn=Ie.prototype,qe.invalid=function(){return qe(NaN)};var $e=Ve(1,"add"),Je=Ve(-1,"subtract");function Ze(t,e){var r=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(r,"months");return-(r+(e-n<0?(e-n)/(n-t.clone().add(r-1,"months")):(e-n)/(t.clone().add(r+1,"months")-n)))||0}function Ke(t){var e;return void 0===t?this._locale._abbr:(null!=(e=he(t))&&(this._locale=e),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Xe=A("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function tr(){return this._locale}function er(t,e){z(0,[t,t.length],0,e)}function rr(t,e,r,n,o){var i;return null==t?Ht(this,n,o).year:(e>(i=qt(t,n,o))&&(e=i),function(t,e,r,n,o){var i=zt(t,e,r,n,o),s=Qt(i.year,0,i.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}.call(this,t,e,r,n,o))}z(0,["gg",2],0,function(){return this.weekYear()%100}),z(0,["GG",2],0,function(){return this.isoWeekYear()%100}),er("gggg","weekYear"),er("ggggg","weekYear"),er("GGGG","isoWeekYear"),er("GGGGG","isoWeekYear"),C("weekYear","gg"),C("isoWeekYear","GG"),L("weekYear",1),L("isoWeekYear",1),ut("G",nt),ut("g",nt),ut("GG",J,W),ut("gg",J,W),ut("GGGG",tt,B),ut("gggg",tt,B),ut("GGGGG",et,$),ut("ggggg",et,$),dt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,r,n){e[n.substr(0,2)]=b(t)}),dt(["gg","GG"],function(t,e,n,o){e[o]=r.parseTwoDigitYear(t)}),z("Q",0,"Qo","quarter"),C("quarter","Q"),L("quarter",7),ut("Q",G),ft("Q",function(t,e){e[mt]=3*(b(t)-1)}),z("D",["DD",2],"Do","date"),C("date","D"),L("date",9),ut("D",J),ut("DD",J,W),ut("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),ft(["D","DD"],gt),ft("Do",function(t,e){e[gt]=b(t.match(J)[0])});var nr=Et("Date",!0);z("DDD",["DDDD",3],"DDDo","dayOfYear"),C("dayOfYear","DDD"),L("dayOfYear",4),ut("DDD",X),ut("DDDD",V),ft(["DDD","DDDD"],function(t,e,r){r._dayOfYear=b(t)}),z("m",["mm",2],0,"minute"),C("minute","m"),L("minute",14),ut("m",J),ut("mm",J,W),ft(["m","mm"],vt);var or=Et("Minutes",!1);z("s",["ss",2],0,"second"),C("second","s"),L("second",15),ut("s",J),ut("ss",J,W),ft(["s","ss"],wt);var ir,sr=Et("Seconds",!1);for(z("S",0,0,function(){return~~(this.millisecond()/100)}),z(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),z(0,["SSS",3],0,"millisecond"),z(0,["SSSS",4],0,function(){return 10*this.millisecond()}),z(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),z(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),z(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),z(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),z(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),C("millisecond","ms"),L("millisecond",16),ut("S",X,G),ut("SS",X,W),ut("SSS",X,V),ir="SSSS";ir.length<=9;ir+="S")ut(ir,rt);function ar(t,e){e[bt]=b(1e3*("0."+t))}for(ir="S";ir.length<=9;ir+="S")ft(ir,ar);var ur=Et("Milliseconds",!1);z("z",0,0,"zoneAbbr"),z("zz",0,0,"zoneName");var cr=y.prototype;function hr(t){return t}cr.add=$e,cr.calendar=function(t,e){var n=t||Ee(),o=Fe(n,this).startOf("day"),i=r.calendarFormat(this,o)||"sameElse",s=e&&(E(e[i])?e[i].call(this,n):e[i]);return this.format(s||this.localeData().calendar(i,this,Ee(n)))},cr.clone=function(){return new y(this)},cr.diff=function(t,e,r){var n,o,i;if(!this.isValid())return NaN;if(!(n=Fe(t,this)).isValid())return NaN;switch(o=6e4*(n.utcOffset()-this.utcOffset()),e=I(e)){case"year":i=Ze(this,n)/12;break;case"month":i=Ze(this,n);break;case"quarter":i=Ze(this,n)/3;break;case"second":i=(this-n)/1e3;break;case"minute":i=(this-n)/6e4;break;case"hour":i=(this-n)/36e5;break;case"day":i=(this-n-o)/864e5;break;case"week":i=(this-n-o)/6048e5;break;default:i=this-n}return r?i:w(i)},cr.endOf=function(t){return void 0===(t=I(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},cr.format=function(t){t||(t=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var e=H(this,t);return this.localeData().postformat(e)},cr.from=function(t,e){return this.isValid()&&(v(t)&&t.isValid()||Ee(t).isValid())?qe({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},cr.fromNow=function(t){return this.from(Ee(),t)},cr.to=function(t,e){return this.isValid()&&(v(t)&&t.isValid()||Ee(t).isValid())?qe({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},cr.toNow=function(t){return this.to(Ee(),t)},cr.get=function(t){return E(this[t=I(t)])?this[t]():this},cr.invalidAt=function(){return f(this).overflow},cr.isAfter=function(t,e){var r=v(t)?t:Ee(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=I(i(e)?"millisecond":e))?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(e).valueOf())},cr.isBefore=function(t,e){var r=v(t)?t:Ee(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=I(i(e)?"millisecond":e))?this.valueOf()<r.valueOf():this.clone().endOf(e).valueOf()<r.valueOf())},cr.isBetween=function(t,e,r,n){return("("===(n=n||"()")[0]?this.isAfter(t,r):!this.isBefore(t,r))&&(")"===n[1]?this.isBefore(e,r):!this.isAfter(e,r))},cr.isSame=function(t,e){var r,n=v(t)?t:Ee(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=I(e||"millisecond"))?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf()))},cr.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},cr.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},cr.isValid=function(){return d(this)},cr.lang=Xe,cr.locale=Ke,cr.localeData=tr,cr.max=Me,cr.min=De,cr.parsingFlags=function(){return h({},f(this))},cr.set=function(t,e){if("object"==typeof t)for(var r=function(t){var e=[];for(var r in t)e.push({unit:r,priority:Y[r]});return e.sort(function(t,e){return t.priority-e.priority}),e}(t=j(t)),n=0;n<r.length;n++)this[r[n].unit](t[r[n].unit]);else if(E(this[t=I(t)]))return this[t](e);return this},cr.startOf=function(t){switch(t=I(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},cr.subtract=Je,cr.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},cr.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},cr.toDate=function(){return new Date(this.valueOf())},cr.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,r=e?this.clone().utc():this;return r.year()<0||r.year()>9999?H(r,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):E(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",H(r,"Z")):H(r,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},cr.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var r="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o=e+'[")]';return this.format(r+n+"-MM-DD[T]HH:mm:ss.SSS"+o)},cr.toJSON=function(){return this.isValid()?this.toISOString():null},cr.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},cr.unix=function(){return Math.floor(this.valueOf()/1e3)},cr.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},cr.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},cr.year=xt,cr.isLeapYear=function(){return St(this.year())},cr.weekYear=function(t){return rr.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},cr.isoWeekYear=function(t){return rr.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},cr.quarter=cr.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},cr.month=Lt,cr.daysInMonth=function(){return Pt(this.year(),this.month())},cr.week=cr.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},cr.isoWeek=cr.isoWeeks=function(t){var e=Ht(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},cr.weeksInYear=function(){var t=this.localeData()._week;return qt(this.year(),t.dow,t.doy)},cr.isoWeeksInYear=function(){return qt(this.year(),1,4)},cr.date=nr,cr.day=cr.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},cr.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},cr.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},cr.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},cr.hour=cr.hours=re,cr.minute=cr.minutes=or,cr.second=cr.seconds=sr,cr.millisecond=cr.milliseconds=ur,cr.utcOffset=function(t,e,n){var o,i=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Ne(it,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(o=Qe(this)),this._offset=t,this._isUTC=!0,null!=o&&this.add(o,"m"),i!==t&&(!e||this._changeInProgress?Be(this,qe(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:Qe(this)},cr.utc=function(t){return this.utcOffset(0,t)},cr.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Qe(this),"m")),this},cr.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Ne(ot,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},cr.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Ee(t).utcOffset():0,(this.utcOffset()-t)%60==0)},cr.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},cr.isLocal=function(){return!!this.isValid()&&!this._isUTC},cr.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},cr.isUtc=Ue,cr.isUTC=Ue,cr.zoneAbbr=function(){return this._isUTC?"UTC":""},cr.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},cr.dates=A("dates accessor is deprecated. Use date instead.",nr),cr.months=A("months accessor is deprecated. Use month instead",Lt),cr.years=A("years accessor is deprecated. Use year instead",xt),cr.zone=A("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),cr.isDSTShifted=A("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!i(this._isDSTShifted))return this._isDSTShifted;var t={};if(m(t,this),(t=Te(t))._a){var e=t._isUTC?l(t._a):Ee(t._a);this._isDSTShifted=this.isValid()&&k(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var lr=M.prototype;function fr(t,e,r,n){var o=he(),i=l().set(n,e);return o[r](i,t)}function dr(t,e,r){if(s(t)&&(e=t,t=void 0),t=t||"",null!=e)return fr(t,e,r,"month");var n,o=[];for(n=0;n<12;n++)o[n]=fr(t,n,r,"month");return o}function pr(t,e,r,n){"boolean"==typeof t?(s(e)&&(r=e,e=void 0),e=e||""):(r=e=t,t=!1,s(e)&&(r=e,e=void 0),e=e||"");var o,i=he(),a=t?i._week.dow:0;if(null!=r)return fr(e,(r+a)%7,n,"day");var u=[];for(o=0;o<7;o++)u[o]=fr(e,(o+a)%7,n,"day");return u}lr.calendar=function(t,e,r){var n=this._calendar[t]||this._calendar.sameElse;return E(n)?n.call(e,r):n},lr.longDateFormat=function(t){var e=this._longDateFormat[t],r=this._longDateFormat[t.toUpperCase()];return e||!r?e:(this._longDateFormat[t]=r.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},lr.invalidDate=function(){return this._invalidDate},lr.ordinal=function(t){return this._ordinal.replace("%d",t)},lr.preparse=hr,lr.postformat=hr,lr.relativeTime=function(t,e,r,n){var o=this._relativeTime[r];return E(o)?o(t,e,r,n):o.replace(/%d/i,t)},lr.pastFuture=function(t,e){var r=this._relativeTime[t>0?"future":"past"];return E(r)?r(e):r.replace(/%s/i,e)},lr.set=function(t){var e,r;for(r in t)E(e=t[r])?this[r]=e:this["_"+r]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},lr.months=function(t,e){return t?n(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Ct).test(e)?"format":"standalone"][t.month()]:n(this._months)?this._months:this._months.standalone},lr.monthsShort=function(t,e){return t?n(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Ct.test(e)?"format":"standalone"][t.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},lr.monthsParse=function(t,e,r){var n,o,i;if(this._monthsParseExact)return function(t,e,r){var n,o,i,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)i=l([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(i,"").toLocaleLowerCase();return r?"MMM"===e?-1!==(o=Tt.call(this._shortMonthsParse,s))?o:null:-1!==(o=Tt.call(this._longMonthsParse,s))?o:null:"MMM"===e?-1!==(o=Tt.call(this._shortMonthsParse,s))?o:-1!==(o=Tt.call(this._longMonthsParse,s))?o:null:-1!==(o=Tt.call(this._longMonthsParse,s))?o:-1!==(o=Tt.call(this._shortMonthsParse,s))?o:null}.call(this,t,e,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(o=l([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),r||this._monthsParse[n]||(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[n]=new RegExp(i.replace(".",""),"i")),r&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(r&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!r&&this._monthsParse[n].test(t))return n}},lr.monthsRegex=function(t){return this._monthsParseExact?(c(this,"_monthsRegex")||Ft.call(this),t?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=Nt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},lr.monthsShortRegex=function(t){return this._monthsParseExact?(c(this,"_monthsRegex")||Ft.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=Rt),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},lr.week=function(t){return Ht(t,this._week.dow,this._week.doy).week},lr.firstDayOfYear=function(){return this._week.doy},lr.firstDayOfWeek=function(){return this._week.dow},lr.weekdays=function(t,e){return t?n(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:n(this._weekdays)?this._weekdays:this._weekdays.standalone},lr.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},lr.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},lr.weekdaysParse=function(t,e,r){var n,o,i;if(this._weekdaysParseExact)return function(t,e,r){var n,o,i,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)i=l([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(i,"").toLocaleLowerCase();return r?"dddd"===e?-1!==(o=Tt.call(this._weekdaysParse,s))?o:null:"ddd"===e?-1!==(o=Tt.call(this._shortWeekdaysParse,s))?o:null:-1!==(o=Tt.call(this._minWeekdaysParse,s))?o:null:"dddd"===e?-1!==(o=Tt.call(this._weekdaysParse,s))?o:-1!==(o=Tt.call(this._shortWeekdaysParse,s))?o:-1!==(o=Tt.call(this._minWeekdaysParse,s))?o:null:"ddd"===e?-1!==(o=Tt.call(this._shortWeekdaysParse,s))?o:-1!==(o=Tt.call(this._weekdaysParse,s))?o:-1!==(o=Tt.call(this._minWeekdaysParse,s))?o:null:-1!==(o=Tt.call(this._minWeekdaysParse,s))?o:-1!==(o=Tt.call(this._weekdaysParse,s))?o:-1!==(o=Tt.call(this._shortWeekdaysParse,s))?o:null}.call(this,t,e,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(o=l([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[n]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[n]=new RegExp(i.replace(".",""),"i")),r&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(r&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(r&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!r&&this._weekdaysParse[n].test(t))return n}},lr.weekdaysRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Zt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=Bt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},lr.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Zt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=$t),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},lr.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Zt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Jt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},lr.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},lr.meridiem=function(t,e,r){return t>11?r?"pm":"PM":r?"am":"AM"},ue("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===b(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),r.lang=A("moment.lang is deprecated. Use moment.locale instead.",ue),r.langData=A("moment.langData is deprecated. Use moment.localeData instead.",he);var _r=Math.abs;function mr(t,e,r,n){var o=qe(e,r);return t._milliseconds+=n*o._milliseconds,t._days+=n*o._days,t._months+=n*o._months,t._bubble()}function gr(t){return t<0?Math.floor(t):Math.ceil(t)}function yr(t){return 4800*t/146097}function vr(t){return 146097*t/4800}function wr(t){return function(){return this.as(t)}}var br=wr("ms"),kr=wr("s"),Or=wr("m"),Ar=wr("h"),Sr=wr("d"),Tr=wr("w"),xr=wr("M"),Er=wr("y");function Dr(t){return function(){return this.isValid()?this._data[t]:NaN}}var Mr=Dr("milliseconds"),Pr=Dr("seconds"),Cr=Dr("minutes"),Ir=Dr("hours"),jr=Dr("days"),Yr=Dr("months"),Lr=Dr("years");var Rr=Math.round,Nr={ss:44,s:45,m:45,h:22,d:26,M:11};var Fr=Math.abs;function Qr(t){return(t>0)-(t<0)||+t}function Ur(){if(!this.isValid())return this.localeData().invalidDate();var t,e,r=Fr(this._milliseconds)/1e3,n=Fr(this._days),o=Fr(this._months);t=w(r/60),e=w(t/60),r%=60,t%=60;var i=w(o/12),s=o%=12,a=n,u=e,c=t,h=r?r.toFixed(3).replace(/\.?0+$/,""):"",l=this.asSeconds();if(!l)return"P0D";var f=l<0?"-":"",d=Qr(this._months)!==Qr(l)?"-":"",p=Qr(this._days)!==Qr(l)?"-":"",_=Qr(this._milliseconds)!==Qr(l)?"-":"";return f+"P"+(i?d+i+"Y":"")+(s?d+s+"M":"")+(a?p+a+"D":"")+(u||c||h?"T":"")+(u?_+u+"H":"")+(c?_+c+"M":"")+(h?_+h+"S":"")}var zr=Ie.prototype;return zr.isValid=function(){return this._isValid},zr.abs=function(){var t=this._data;return this._milliseconds=_r(this._milliseconds),this._days=_r(this._days),this._months=_r(this._months),t.milliseconds=_r(t.milliseconds),t.seconds=_r(t.seconds),t.minutes=_r(t.minutes),t.hours=_r(t.hours),t.months=_r(t.months),t.years=_r(t.years),this},zr.add=function(t,e){return mr(this,t,e,1)},zr.subtract=function(t,e){return mr(this,t,e,-1)},zr.as=function(t){if(!this.isValid())return NaN;var e,r,n=this._milliseconds;if("month"===(t=I(t))||"year"===t)return e=this._days+n/864e5,r=this._months+yr(e),"month"===t?r:r/12;switch(e=this._days+Math.round(vr(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}},zr.asMilliseconds=br,zr.asSeconds=kr,zr.asMinutes=Or,zr.asHours=Ar,zr.asDays=Sr,zr.asWeeks=Tr,zr.asMonths=xr,zr.asYears=Er,zr.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*b(this._months/12):NaN},zr._bubble=function(){var t,e,r,n,o,i=this._milliseconds,s=this._days,a=this._months,u=this._data;return i>=0&&s>=0&&a>=0||i<=0&&s<=0&&a<=0||(i+=864e5*gr(vr(a)+s),s=0,a=0),u.milliseconds=i%1e3,t=w(i/1e3),u.seconds=t%60,e=w(t/60),u.minutes=e%60,r=w(e/60),u.hours=r%24,s+=w(r/24),a+=o=w(yr(s)),s-=gr(vr(o)),n=w(a/12),a%=12,u.days=s,u.months=a,u.years=n,this},zr.clone=function(){return qe(this)},zr.get=function(t){return t=I(t),this.isValid()?this[t+"s"]():NaN},zr.milliseconds=Mr,zr.seconds=Pr,zr.minutes=Cr,zr.hours=Ir,zr.days=jr,zr.weeks=function(){return w(this.days()/7)},zr.months=Yr,zr.years=Lr,zr.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),r=function(t,e,r){var n=qe(t).abs(),o=Rr(n.as("s")),i=Rr(n.as("m")),s=Rr(n.as("h")),a=Rr(n.as("d")),u=Rr(n.as("M")),c=Rr(n.as("y")),h=o<=Nr.ss&&["s",o]||o<Nr.s&&["ss",o]||i<=1&&["m"]||i<Nr.m&&["mm",i]||s<=1&&["h"]||s<Nr.h&&["hh",s]||a<=1&&["d"]||a<Nr.d&&["dd",a]||u<=1&&["M"]||u<Nr.M&&["MM",u]||c<=1&&["y"]||["yy",c];return h[2]=e,h[3]=+t>0,h[4]=r,function(t,e,r,n,o){return o.relativeTime(e||1,!!r,t,n)}.apply(null,h)}(this,!t,e);return t&&(r=e.pastFuture(+this,r)),e.postformat(r)},zr.toISOString=Ur,zr.toString=Ur,zr.toJSON=Ur,zr.locale=Ke,zr.localeData=tr,zr.toIsoString=A("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ur),zr.lang=Xe,z("X",0,0,"unix"),z("x",0,0,"valueOf"),ut("x",nt),ut("X",/[+-]?\d+(\.\d{1,3})?/),ft("X",function(t,e,r){r._d=new Date(1e3*parseFloat(t,10))}),ft("x",function(t,e,r){r._d=new Date(b(t))}),r.version="2.22.1",t=Ee,r.fn=cr,r.min=function(){return Pe("isBefore",[].slice.call(arguments,0))},r.max=function(){return Pe("isAfter",[].slice.call(arguments,0))},r.now=function(){return Date.now?Date.now():+new Date},r.utc=l,r.unix=function(t){return Ee(1e3*t)},r.months=function(t,e){return dr(t,e,"months")},r.isDate=a,r.locale=ue,r.invalid=p,r.duration=qe,r.isMoment=v,r.weekdays=function(t,e,r){return pr(t,e,r,"weekdays")},r.parseZone=function(){return Ee.apply(null,arguments).parseZone()},r.localeData=he,r.isDuration=je,r.monthsShort=function(t,e){return dr(t,e,"monthsShort")},r.weekdaysMin=function(t,e,r){return pr(t,e,r,"weekdaysMin")},r.defineLocale=ce,r.updateLocale=function(t,e){if(null!=e){var r,n,o=ne;null!=(n=ae(t))&&(o=n._config),(r=new M(e=D(o,e))).parentLocale=oe[t],oe[t]=r,ue(t)}else null!=oe[t]&&(null!=oe[t].parentLocale?oe[t]=oe[t].parentLocale:null!=oe[t]&&delete oe[t]);return oe[t]},r.locales=function(){return S(oe)},r.weekdaysShort=function(t,e,r){return pr(t,e,r,"weekdaysShort")},r.normalizeUnits=I,r.relativeTimeRounding=function(t){return void 0===t?Rr:"function"==typeof t&&(Rr=t,!0)},r.relativeTimeThreshold=function(t,e){return void 0!==Nr[t]&&(void 0===e?Nr[t]:(Nr[t]=e,"s"===t&&(Nr.ss=e-1),!0))},r.calendarFormat=function(t,e){var r=t.diff(e,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"},r.prototype=cr,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},r}),function(t,e,r){"use strict";var n={},o=/[\-\[\]{}()*+?.,\\\^$|#\s]/g,i=/%/g,s=/_/g,a=/^(?:AND|OR|NOT)$/i,u=/^(?:!?=|<=?|>=?)$/i;function c(t){var e,r=[];if(void 0!==t){for(Array.isArray(t)||(t=[t]),e=0;e<t.length;e+=1)"object"==typeof t[e]?r[e]=t[e].content:r[e]=t[e];return r}}function h(t,e,r){if(!Array.isArray(t))throw new TypeError("jioquery.sortOn(): Argument 1 is not of type 'array'");return e.sort(function t(e,r){return function(n,o){var i,s,a,u,h,l,f,d,p,_=r[0][0],m=r[0][1];if("descending"===m)i=1;else{if("ascending"!==m)throw new TypeError("Query.sortFunction(): Argument 2 must be 'ascending' or 'descending'");i=-1}if(void 0!==e&&void 0!==e.key_set&&void 0!==e.key_set[_]&&void 0!==e.key_set[_].cast_to)return f=(s="string"==typeof e.key_set[_].cast_to?e.cast_lookup[e.key_set[_].cast_to]:e.key_set[_].cast_to)(n[_]),"function"==typeof(d=s(o[_])).cmp?0!=(p=i*d.cmp(f))?p:r.length>1?t(e,r.slice(1))(n,o):p:f>d?-i:f<d?i:r.length>1?t(e,r.slice(1))(n,o):0;for(h=c(n[_])||[],l=c(o[_])||[],u=Math.max(h.length,l.length),a=0;a<u;a+=1){if(void 0===h[a])return i;if(void 0===l[a])return-i;if(h[a]>l[a])return-i;if(h[a]<l[a])return i}return r.length>1?t(e,r.slice(1))(n,o):0}}(r,t)),e}function l(t){!function(t){var e;if(void 0!==t){if("object"!=typeof t)throw new TypeError("Query().create(): key_schema is not of type 'object'");if(void 0===t.key_set)throw new TypeError("Query().create(): key_schema has no 'key_set' property");for(e in t)if(t.hasOwnProperty(e))switch(e){case"key_set":case"cast_lookup":case"match_lookup":break;default:throw new TypeError("Query().create(): key_schema has unknown property '"+e+"'")}}}(t),this._key_schema=t||{}}function f(){}function d(t){return t.replace(o,"\\$&")}function p(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{configurable:!0,enumerable:!1,writable:!0,value:t}})}function _(t,e){if("string"!=typeof t)throw new TypeError("jioquery.searchTextToRegExp(): Argument 1 is not of type 'string'");return!1===e?new RegExp("^"+d(t)+"$"):new RegExp("^"+d(t).replace(i,"[\\s\\S]*").replace(s,".")+"$","i")}function m(t,e){l.call(this,e),this.operator=t.operator,this.query_list=t.query_list||[],this.query_list=this.query_list.map(function(t){return f.create(t,e)})}function g(t,e){l.call(this,e),this.operator=t.operator,this.key=t.key,this.value=t.value}l.prototype.exec=function(e,r){if(!Array.isArray(e))throw new TypeError("Query().exec(): Argument 1 is not of type 'array'");if(void 0===r&&(r={}),"object"!=typeof r)throw new TypeError("Query().exec(): Optional argument 2 is not of type 'object'");var n;for(n=e.length-1;n>=0;n-=1)this.match(e[n])||e.splice(n,1);return r.sort_on&&h(r.sort_on,e,this._key_schema),r.limit&&function(t,e){if(!Array.isArray(t))throw new TypeError("jioquery.limit(): Argument 1 is not of type 'array'");if(!Array.isArray(e))throw new TypeError("jioquery.limit(): Argument 2 is not of type 'array'");e.splice(0,t[0]),t[1]&&e.splice(t[1])}(r.limit,e),function(t,e){var r,n,o;if(!Array.isArray(t))throw new TypeError("jioquery.select(): Argument 1 is not of type Array");if(!Array.isArray(e))throw new TypeError("jioquery.select(): Argument 2 is not of type Array");for(r=0;r<e.length;r+=1){for(o={},n=0;n<t.length;n+=1)e[r].hasOwnProperty([t[n]])&&(o[t[n]]=e[r][t[n]]);for(n in o)if(o.hasOwnProperty(n)){e[r]=o;break}}}(r.select_list||[],e),(new t.Queue).push(function(){return e})},l.prototype.match=function(){return!0},l.prototype.parse=function(e){var r,n=this;return r={parsed:JSON.parse(JSON.stringify(n.serialized()))},(new t.Queue).push(function(){return n.onParseStart(r,e)}).push(function(){return function e(r,o){var i,s=r.parsed,a=new t.Queue;function u(t){a.push(function(){return r.parsed=s.query_list[t],e(r,o)}).push(function(){s.query_list[t]=r.parsed})}if("complex"===s.type){for(i=0;i<s.query_list.length;i+=1)u(i);return a.push(function(){return r.parsed=s,n.onParseComplexQuery(r,o)})}if("simple"===s.type)return n.onParseSimpleQuery(r,o)}(r,e)}).push(function(){return n.onParseEnd(r,e)}).push(function(){return r.parsed})},l.prototype.toString=function(){return""},l.prototype.serialized=function(){},p(m,l),m.prototype.operator="AND",m.prototype.type="complex",m.prototype.match=function(t){var e=this.operator;return a.test(e)||(e="AND"),this[e.toUpperCase()](t)},m.prototype.toString=function(){var t=[],e=this.operator;return"NOT"===this.operator?(t.push("NOT ("),t.push(this.query_list[0].toString()),t.push(")"),t.join(" ")):(this.query_list.forEach(function(r){t.push("("),t.push(r.toString()),t.push(")"),t.push(e)}),t.length-=1,t.join(" "))},m.prototype.serialized=function(){var t={type:"complex",operator:this.operator,query_list:[]};return this.query_list.forEach(function(e){t.query_list.push("function"==typeof e.toJSON?e.toJSON():e)}),t},m.prototype.toJSON=m.prototype.serialized,m.prototype.AND=function(t){for(var e=!0,r=0;e&&r!==this.query_list.length;)e=this.query_list[r].match(t),r+=1;return e},m.prototype.OR=function(t){for(var e=!1,r=0;!e&&r!==this.query_list.length;)e=this.query_list[r].match(t),r+=1;return e},m.prototype.NOT=function(t){return!this.query_list[0].match(t)},f.create=function(t,e){if(""===t)return new l(e);if("string"==typeof t&&(t=r(t)),"string"==typeof(t||{}).type&&n[t.type])return new n[t.type](t,e);throw new TypeError("QueryFactory.create(): Argument 1 is not a search text or a parsable object")},p(g,l),g.prototype.type="simple",g.prototype.match=function(t){var e,r=null,n=null,o=null,s=null,a=this.operator,c=null,h=this.key;if(u.test(a)||(a=i.test(this.value)?"like":"="),s=this[a],this._key_schema.key_set&&void 0!==this._key_schema.key_set[h]&&(h=this._key_schema.key_set[h]),""===h){for(e in s=this.like,c="%"+this.value+"%",t)if(t.hasOwnProperty(e)&&"__id"!==e&&t[e]&&!0===s(t[e],c))return!0;return!1}if("object"==typeof h){if(function(t){var e;if(void 0===t.read_from)throw new TypeError("Custom key is missing the read_from property");for(e in t)if(t.hasOwnProperty(e))switch(e){case"read_from":case"cast_to":case"equal_match":break;default:throw new TypeError("Custom key has unknown property '"+e+"'")}}(h),r=t[h.read_from],"string"==typeof(n=h.equal_match)&&(n=this._key_schema.match_lookup[n]),void 0!==n&&(s="="===a||"like"===a?n:s),c=this.value,o=h.cast_to){"string"==typeof o&&(o=this._key_schema.cast_lookup[o]);try{c=o(c)}catch(t){c=void 0}try{r=o(r)}catch(t){r=void 0}}}else r=t[h],c=this.value;return void 0!==r&&void 0!==c&&s(r,c)},g.prototype.toString=function(){return(this.key?this.key+":":"")+(this.operator?" "+this.operator:"")+' "'+this.value+'"'},g.prototype.serialized=function(){var t={type:"simple",key:this.key,value:this.value};return void 0!==this.operator&&(t.operator=this.operator),t},g.prototype.toJSON=g.prototype.serialized,g.prototype["="]=function(t,e){var r,n;for(Array.isArray(t)||(t=[t]),n=0;n<t.length;n+=1){if("object"==typeof(r=t[n])&&r.hasOwnProperty("content")&&(r=r.content),"function"==typeof r.cmp)return 0===r.cmp(e);if(e.toString()===r.toString())return!0}return!1},g.prototype.like=function(t,e){var r,n;for(Array.isArray(t)||(t=[t]),n=0;n<t.length;n+=1){if("object"==typeof(r=t[n])&&r.hasOwnProperty("content")&&(r=r.content),"function"==typeof r.cmp)return 0===r.cmp(e);if(_(e.toString()).test(r.toString()))return!0}return!1},g.prototype["!="]=function(t,e){var r,n;for(Array.isArray(t)||(t=[t]),n=0;n<t.length;n+=1){if("object"==typeof(r=t[n])&&r.hasOwnProperty("content")&&(r=r.content),"function"==typeof r.cmp)return 0!==r.cmp(e);if(e.toString()===r.toString())return!1}return!0},g.prototype["<"]=function(t,e){var r;return Array.isArray(t)||(t=[t]),"object"==typeof(r=t[0])&&r.hasOwnProperty("content")&&(r=r.content),"function"==typeof r.cmp?r.cmp(e)<0:r<e},g.prototype["<="]=function(t,e){var r;return Array.isArray(t)||(t=[t]),"object"==typeof(r=t[0])&&r.hasOwnProperty("content")&&(r=r.content),"function"==typeof r.cmp?r.cmp(e)<=0:r<=e},g.prototype[">"]=function(t,e){var r;return Array.isArray(t)||(t=[t]),"object"==typeof(r=t[0])&&r.hasOwnProperty("content")&&(r=r.content),"function"==typeof r.cmp?r.cmp(e)>0:r>e},g.prototype[">="]=function(t,e){var r;return Array.isArray(t)||(t=[t]),"object"==typeof(r=t[0])&&r.hasOwnProperty("content")&&(r=r.content),"function"==typeof r.cmp?r.cmp(e)>=0:r>=e},n.simple=g,n.complex=m,l.parseStringToObject=r,l.objectToSearchText=function t(e){var r=[];if("complex"===e.type)return r.push("("),(e.query_list||[]).forEach(function(n){r.push(t(n)),r.push(e.operator)}),r.length-=1,r.push(")"),r.join(" ");if("simple"===e.type)return(e.key?e.key+": ":"")+(e.operator||"")+' "'+e.value+'"';throw new TypeError("This object is not a query")},e.Query=l,e.SimpleQuery=g,e.ComplexQuery=m,e.QueryFactory=f}(RSVP,window,parseStringToObject),function(t,e){"use strict";var r,n="millisecond",o={year:0,month:1,day:2,hour:3,minute:4,second:5,millisecond:6};(r=function(t){if(!(this instanceof r))return new r(t);if(t instanceof r)return this.mom=t.mom.clone(),void(this._precision=t._precision);if(void 0===t)return this.mom=e(),void this.setPrecision(n);if(this.mom=null,this._str=t,t.match(/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+\-][0-2]\d:[0-5]\d|Z)/)||t.match(/\d\d\d\d-\d\d-\d\d \d\d:\d\d:\d\d\.\d\d\d/)?(this.mom=e(t),this.setPrecision(n)):t.match(/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+\-][0-2]\d:[0-5]\d|Z)/)||t.match(/\d\d\d\d-\d\d-\d\d \d\d:\d\d:\d\d/)?(this.mom=e(t),this.setPrecision("second")):t.match(/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+\-][0-2]\d:[0-5]\d|Z)/)||t.match(/\d\d\d\d-\d\d-\d\d \d\d:\d\d/)?(this.mom=e(t),this.setPrecision("minute")):t.match(/\d\d\d\d-\d\d-\d\d \d\d/)?(this.mom=e(t),this.setPrecision("hour")):t.match(/\d\d\d\d-\d\d-\d\d/)?(this.mom=e(t),this.setPrecision("day")):t.match(/\d\d\d\d-\d\d/)?(this.mom=e(t),this.setPrecision("month")):t.match(/\d\d\d\d/)&&(this.mom=e(t,"YYYY"),this.setPrecision("year")),!this.mom)throw new Error("Cannot parse: "+t)}).prototype.setPrecision=function(t){this._precision=t},r.prototype.getPrecision=function(){return this._precision},r.prototype.cmp=function(t){var e,r,n=this.mom,i=t.mom,s=(e=this._precision,r=t._precision,o[e]<o[r]?e:r);return n.isBefore(i,s)?-1:n.isSame(i,s)?0:1},r.prototype.toPrecisionString=function(t){var e;if(!(e={millisecond:"YYYY-MM-DD HH:mm:ss.SSS",second:"YYYY-MM-DD HH:mm:ss",minute:"YYYY-MM-DD HH:mm",hour:"YYYY-MM-DD HH",day:"YYYY-MM-DD",month:"YYYY-MM",year:"YYYY"}[t=t||this._precision]))throw new TypeError("Unsupported precision value '"+t+"'");return this.mom.format(e)},r.prototype.toString=function(){return this._str},t.jiodate={JIODate:r,YEAR:"year",MONTH:"month",DAY:"day",HOUR:"hour",MIN:"minute",SEC:"second",MSEC:n}}(window,moment),function(t,e,r,n,o,i,s,a,u,c){"use strict";void 0===t.openDatabase&&(t.openDatabase=function(){throw new Error("WebSQL is not supported by "+c.userAgent)}),void 0===t.DOMError&&(t.DOMError={});var h,l={};function f(t,e){if(void 0!==t&&"string"!=typeof t)throw new TypeError("You must pass a string.");this.message=t||"Default Message",this.status_code=e||500}function d(t,e){var n,o=i(t),s=new a(o.length),c=new u(s);for(n=0;n<o.length;n+=1)c[n]=o.charCodeAt(n);return new r([s],{type:e})}function p(t,e,r){if("string"!=typeof t[0]||""===t[0])throw new h.util.jIOError("Document id must be a non empty string on '"+e.__type+"."+r+"'.",400)}function _(t,e,r){if("string"!=typeof t[1]||""===t[1])throw new h.util.jIOError("Attachment id must be a non empty string on '"+e.__type+"."+r+"'.",400)}function m(t,r,n){var o;try{o=t.apply(n,r)}catch(t){return(new e.Queue).push(function(){return e.reject(t)})}return o instanceof e.Queue?o:(new e.Queue).push(function(){return o})}function g(t,e,r,n){return t.prototype[e]=function(){var t,o,i,s=arguments,a=this;if(void 0!==r&&(t=r.apply(a.__storage,[s,a,e])),void 0===(o=a.__storage[e]))throw new h.util.jIOError("Capacity '"+e+"' is not implemented on '"+a.__type+"'",501);return i=m(o,s,a.__storage),void 0!==n&&i.push(function(e){return n.call(a,s,e,t)}),i},this}function y(t,e){if(!(this instanceof y))return new y;this.__type=t,this.__storage=e}function v(){if(!(this instanceof v))return new v;this.__storage_types={}}f.prototype=new Error,f.prototype.constructor=f,l.jIOError=f,l.ajax=function(t){var r=new XMLHttpRequest;return new e.Promise(function(e,n){var o;if(r.open(t.type||"GET",t.url,!0),r.responseType=t.dataType||"","object"==typeof t.headers&&null!==t.headers)for(o in t.headers)t.headers.hasOwnProperty(o)&&r.setRequestHeader(o,t.headers[o]);if(r.addEventListener("load",function(t){if(t.target.status>=400)return n(t);e(t)}),r.addEventListener("error",n),"object"==typeof t.xhrFields&&null!==t.xhrFields)for(o in t.xhrFields)t.xhrFields.hasOwnProperty(o)&&(r[o]=t.xhrFields[o]);void 0!==t.timeout&&0!==t.timeout&&(r.timeout=t.timeout,r.ontimeout=function(){return n(new h.util.jIOError("Gateway Timeout",504))}),"function"==typeof t.beforeSend&&t.beforeSend(r),r.send(t.data)},function(){r.abort()})},l.readBlobAsText=function(t,r){var n=new s;return new e.Promise(function(e,o){n.addEventListener("load",e),n.addEventListener("error",o),n.readAsText(t,r)},function(){n.abort()})},l.readBlobAsArrayBuffer=function(t){var r=new s;return new e.Promise(function(e,n){r.addEventListener("load",e),r.addEventListener("error",n),r.readAsArrayBuffer(t)},function(){r.abort()})},l.readBlobAsDataURL=function(t){var r=new s;return new e.Promise(function(e,n){r.addEventListener("load",e),r.addEventListener("error",n),r.readAsDataURL(t)},function(){r.abort()})},l.stringify=function t(e){var r,n,o,i,s;if(void 0!==e){if(null===e)return"null";if(e.constructor===Object){for(n=Object.keys(e).sort(),s=[],o=0;o<n.length;o+=1)void 0!==(i=t(e[r=n[o]]))&&s.push(t(r)+":"+i);return"{"+s.join(",")+"}"}if(e.constructor===Array){for(s=[],o=0;o<e.length;o+=1)s.push(t(e[o]));return"["+s.join(",")+"]"}return JSON.stringify(e)}},l.base64toBlob=d,l.dataURItoBlob=function(t){if("data:"===t)return new r;var e=t.split(",")[0].split(":")[1];return e=e.slice(0,e.length-";base64".length),d(t.split(",")[1],e)},g(y,"put",p,function(t){return t[0]}),g(y,"get",p),g(y,"bulk"),g(y,"remove",p,function(t){return t[0]}),y.prototype.post=function(){var t=this,e=arguments;return m(function(){if(void 0===t.__storage.post)throw new h.util.jIOError("Capacity 'post' is not implemented on '"+t.__type+"'",501);return t.__storage.post.apply(t.__storage,e)})},g(y,"putAttachment",function(t,e,n){p(t,e,n),_(t,e,n);var o=t[3]||{};if("string"==typeof t[2])t[2]=new r([t[2]],{type:o._content_type||o._mimetype||"text/plain;charset=utf-8"});else if(!(t[2]instanceof r))throw new h.util.jIOError("Attachment content is not a blob",400)}),g(y,"removeAttachment",function(t,e,r){p(t,e,r),_(t,e,r)}),g(y,"getAttachment",function(t,e,r){var n="blob";return p(t,e,r),_(t,e,r),void 0!==t[2]&&(n=t[2].format||n,delete t[2].format),n},function(t,n,o){var i;if(!(n instanceof r))throw new h.util.jIOError("'getAttachment' ("+t[0]+" , "+t[1]+") on '"+this.__type+"' does not return a Blob.",501);if("blob"===o)i=n;else if("data_url"===o)i=(new e.Queue).push(function(){return h.util.readBlobAsDataURL(n)}).push(function(t){return t.target.result});else if("array_buffer"===o)i=(new e.Queue).push(function(){return h.util.readBlobAsArrayBuffer(n)}).push(function(t){return t.target.result});else if("text"===o)i=(new e.Queue).push(function(){return h.util.readBlobAsText(n)}).push(function(t){return t.target.result});else{if("json"!==o)throw new h.util.jIOError(this.__type+".getAttachment format: '"+o+"' is not supported",400);i=(new e.Queue).push(function(){return h.util.readBlobAsText(n)}).push(function(t){return JSON.parse(t.target.result)})}return i}),y.prototype.buildQuery=function(){var t=this.__storage.buildQuery,e=arguments;if(void 0===t)throw new h.util.jIOError("Capacity 'buildQuery' is not implemented on '"+this.__type+"'",501);return m(t,e,this.__storage)},y.prototype.hasCapacity=function(t){var e=this.__storage.hasCapacity;if(void 0!==this.__storage[t])return!0;if(void 0===e||!e.apply(this.__storage,arguments))throw new h.util.jIOError("Capacity '"+t+"' is not implemented on '"+this.__type+"'",501);return!0},y.prototype.allDocs=function(t){var e=this;return void 0===t&&(t={}),m(function(){if(e.hasCapacity("list")&&(void 0===t.query||e.hasCapacity("query"))&&(void 0===t.sort_on||e.hasCapacity("sort"))&&(void 0===t.select_list||e.hasCapacity("select"))&&(void 0===t.include_docs||e.hasCapacity("include"))&&(void 0===t.limit||e.hasCapacity("limit")))return e.buildQuery(t).push(function(t){return{data:{rows:t,total_rows:t.length}}})})},g(y,"allAttachments",p),g(y,"repair"),y.prototype.repair=function(){var t=this,e=arguments;return m(function(){if(void 0!==t.__storage.repair)return t.__storage.repair.apply(t.__storage,e)})},v.prototype.createJIO=function(t,e){if("string"!=typeof t.type)throw new TypeError("Invalid storage description");if(!this.__storage_types[t.type])throw new TypeError("Unknown storage '"+t.type+"'");return new y(t.type,new this.__storage_types[t.type](t,e))},v.prototype.addStorage=function(t,e){if("string"!=typeof t)throw new TypeError("jIO.addStorage(): Argument 1 is not of type 'string'");if("function"!=typeof e)throw new TypeError("jIO.addStorage(): Argument 2 is not of type 'function'");if(void 0!==this.__storage_types[t])throw new TypeError("jIO.addStorage(): Storage type already exists");this.__storage_types[t]=e},v.prototype.util=l,v.prototype.QueryFactory=n,v.prototype.Query=o,h=new v,t.jIO=h}(window,RSVP,Blob,QueryFactory,Query,atob,FileReader,ArrayBuffer,Uint8Array,navigator),function(){if("undefined"!=typeof module?module.exports=n:"undefined"!=typeof window&&(window.Rusha=n),"undefined"!=typeof FileReaderSync){var t=new FileReaderSync,e=new n(4194304);self.onmessage=function(t){var r,n=t.data.data;try{r=e.digest(n),self.postMessage({id:t.data.id,hash:r})}catch(e){self.postMessage({id:t.data.id,error:e.name})}}}var r={getDataType:function(t){if("string"==typeof t)return"string";if(t instanceof Array)return"array";if("undefined"!=typeof global&&global.Buffer&&global.Buffer.isBuffer(t))return"buffer";if(t instanceof ArrayBuffer)return"arraybuffer";if(t.buffer instanceof ArrayBuffer)return"view";if(t instanceof Blob)return"blob";throw new Error("Unsupported data type.")}};function n(e){"use strict";var n={fill:0},o=function(t){for(t+=9;t%64>0;t+=1);return t},i=function(t,e,r,n,o){var i,s=this,a=o%4,u=n%4,c=n-u;if(c>0)switch(a){case 0:t[o+3|0]=s[r];case 1:t[o+2|0]=s[r+1];case 2:t[o+1|0]=s[r+2];case 3:t[0|o]=s[r+3]}for(i=4-a;i<c;i=i+=4)e[o+i>>2]=s[r+i]<<24|s[r+i+1]<<16|s[r+i+2]<<8|s[r+i+3];switch(u){case 3:t[o+c+1|0]=s[r+c+2];case 2:t[o+c+2|0]=s[r+c+1];case 1:t[o+c+3|0]=s[r+c]}},s=function(e){switch(r.getDataType(e)){case"string":return function(t,e,r,n,o){var i,s=this,a=o%4,u=n%4,c=n-u;if(c>0)switch(a){case 0:t[o+3|0]=s.charCodeAt(r);case 1:t[o+2|0]=s.charCodeAt(r+1);case 2:t[o+1|0]=s.charCodeAt(r+2);case 3:t[0|o]=s.charCodeAt(r+3)}for(i=a;i<c;i=i+4|0)e[o+i>>2]=s.charCodeAt(r+i)<<24|s.charCodeAt(r+i+1)<<16|s.charCodeAt(r+i+2)<<8|s.charCodeAt(r+i+3);switch(u){case 3:t[o+c+1|0]=s.charCodeAt(r+c+2);case 2:t[o+c+2|0]=s.charCodeAt(r+c+1);case 1:t[o+c+3|0]=s.charCodeAt(r+c)}}.bind(e);case"array":case"buffer":return i.bind(e);case"arraybuffer":return i.bind(new Uint8Array(e));case"view":return i.bind(new Uint8Array(e.buffer,e.byteOffset,e.byteLength));case"blob":return function(e,r,n,o,i){var s,a=i%4,u=o%4,c=o-u,h=new Uint8Array(t.readAsArrayBuffer(this.slice(n,n+o)));if(c>0)switch(a){case 0:e[i+3|0]=h[0];case 1:e[i+2|0]=h[1];case 2:e[i+1|0]=h[2];case 3:e[0|i]=h[3]}for(s=4-a;s<c;s=s+=4)r[i+s>>2]=h[s]<<24|h[s+1]<<16|h[s+2]<<8|h[s+3];switch(u){case 3:e[i+c+1|0]=h[c+2];case 2:e[i+c+2|0]=h[c+1];case 1:e[i+c+3|0]=h[c]}}.bind(e)}};!function(t){if(t%64>0)throw new Error("Chunk size must be a multiple of 128 bit");n.maxChunkLen=t,n.padMaxChunkLen=o(t),n.heap=new ArrayBuffer(function(t){var e;if(t<=65536)return 65536;if(t<16777216)for(e=1;e<t;e<<=1);else for(e=16777216;e<t;e+=16777216);return e}(n.padMaxChunkLen+320+20)),n.h32=new Int32Array(n.heap),n.h8=new Int8Array(n.heap),n.core=function(t,e,r){"use asm";var n=new t.Int32Array(r);function o(t,e){t=t|0;e=e|0;var r=0,o=0,i=0,s=0,a=0,u=0,c=0,h=0,l=0,f=0,d=0,p=0,_=0,m=0;i=n[e+320>>2]|0;a=n[e+324>>2]|0;c=n[e+328>>2]|0;l=n[e+332>>2]|0;d=n[e+336>>2]|0;for(r=0;(r|0)<(t|0);r=r+64|0){s=i;u=a;h=c;f=l;p=d;for(o=0;(o|0)<64;o=o+4|0){m=n[r+o>>2]|0;_=((i<<5|i>>>27)+(a&c|~a&l)|0)+((m+d|0)+1518500249|0)|0;d=l;l=c;c=a<<30|a>>>2;a=i;i=_;n[t+o>>2]=m}for(o=t+64|0;(o|0)<(t+80|0);o=o+4|0){m=(n[o-12>>2]^n[o-32>>2]^n[o-56>>2]^n[o-64>>2])<<1|(n[o-12>>2]^n[o-32>>2]^n[o-56>>2]^n[o-64>>2])>>>31;_=((i<<5|i>>>27)+(a&c|~a&l)|0)+((m+d|0)+1518500249|0)|0;d=l;l=c;c=a<<30|a>>>2;a=i;i=_;n[o>>2]=m}for(o=t+80|0;(o|0)<(t+160|0);o=o+4|0){m=(n[o-12>>2]^n[o-32>>2]^n[o-56>>2]^n[o-64>>2])<<1|(n[o-12>>2]^n[o-32>>2]^n[o-56>>2]^n[o-64>>2])>>>31;_=((i<<5|i>>>27)+(a^c^l)|0)+((m+d|0)+1859775393|0)|0;d=l;l=c;c=a<<30|a>>>2;a=i;i=_;n[o>>2]=m}for(o=t+160|0;(o|0)<(t+240|0);o=o+4|0){m=(n[o-12>>2]^n[o-32>>2]^n[o-56>>2]^n[o-64>>2])<<1|(n[o-12>>2]^n[o-32>>2]^n[o-56>>2]^n[o-64>>2])>>>31;_=((i<<5|i>>>27)+(a&c|a&l|c&l)|0)+((m+d|0)-1894007588|0)|0;d=l;l=c;c=a<<30|a>>>2;a=i;i=_;n[o>>2]=m}for(o=t+240|0;(o|0)<(t+320|0);o=o+4|0){m=(n[o-12>>2]^n[o-32>>2]^n[o-56>>2]^n[o-64>>2])<<1|(n[o-12>>2]^n[o-32>>2]^n[o-56>>2]^n[o-64>>2])>>>31;_=((i<<5|i>>>27)+(a^c^l)|0)+((m+d|0)-899497514|0)|0;d=l;l=c;c=a<<30|a>>>2;a=i;i=_;n[o>>2]=m}i=i+s|0;a=a+u|0;c=c+h|0;l=l+f|0;d=d+p|0}n[e+320>>2]=i;n[e+324>>2]=a;n[e+328>>2]=c;n[e+332>>2]=l;n[e+336>>2]=d}return{hash:o}}({Int32Array:Int32Array,DataView:DataView},{},n.heap),n.buffer=null}(e||65536);var a=function(t,e,r,i,a){var u=r;a&&(u=function(t,e){var r=o(t),i=new Int32Array(n.heap,0,r>>2);return function(t,e){for(var r=e>>2;r<t.length;r++)t[r]=0}(i,t),function(t,e,r){t[e>>2]|=128<<24-(e%4<<3),t[14+(2+(e>>2)&-16)]=r>>29,t[15+(2+(e>>2)&-16)]=r<<3}(i,t,e),r}(r,i)),function(t,e,r){s(t)(n.h8,n.h32,e,r,0)}(t,e,r),n.core.hash(u,n.padMaxChunkLen)},u=this.rawDigest=function(t){var e,r,o,i=t.byteLength||t.length||t.size||0;e=n.heap,r=n.padMaxChunkLen,(o=new Int32Array(e,r+320,5))[0]=1732584193,o[1]=-271733879,o[2]=-1732584194,o[3]=271733878,o[4]=-1009589776;var s=0,u=n.maxChunkLen;for(s=0;i>s+u;s+=u)a(t,s,u,i,!1);return a(t,s,i-s,i,!0),function(t,e){var r=new Int32Array(t,e+320,5),n=new Int32Array(5),o=new DataView(n.buffer);return o.setInt32(0,r[0],!1),o.setInt32(4,r[1],!1),o.setInt32(8,r[2],!1),o.setInt32(12,r[3],!1),o.setInt32(16,r[4],!1),n}(n.heap,n.padMaxChunkLen)};this.digest=this.digestFromString=this.digestFromBuffer=this.digestFromArrayBuffer=function(t){return function(t){var e,r,n=[],o=new Uint8Array(t);for(e=0;e<o.length;e++)r=o[e],n[e]="0123456789abcdef".charAt(r>>4&15)+"0123456789abcdef".charAt(r>>0&15);return n.join("")}(u(t).buffer)}}}(),function(t,e,r,n){"use strict";var o=new r,i=0,s=1,a=2,u=3,c=0,h=74,l=49,f=47,d=75,p=116,_=136,m=117,g=137,y=118,v=138,w=119,b=139,k=216,O=226,A=236,S=217,T=237,x=218,E=228,D=238,M=219,P=239,C=284,I=285,j=348,Y=358,L=368,R=346,N=356,F=366,Q=349,U=359,z=369,H=347,q=357,G=367,W=374,V=375,B=384,$=385;function J(t,e){this._list=[],this.name="ReplicateReport",this.message=this.name,this.has_error=!1,this._log_level=t,this._log_console=e}function Z(t){if(void 0!==t&&"string"!=typeof t)throw new TypeError("You must pass a string.");this.message=t||"Skip some asynchronous code"}function K(t){return o.digestFromString(t)}function X(t){return o.digestFromArrayBuffer(t)}function tt(e){if(this._query_options=e.query||{},this._log_level=e.report_level||100,this._log_console=e.debug||!1,void 0!==e.signature_hash_key&&(this._query_options.select_list=[e.signature_hash_key]),this._signature_hash_key=e.signature_hash_key,this._local_sub_storage=t.createJIO(e.local_sub_storage),this._remote_sub_storage=t.createJIO(e.remote_sub_storage),e.hasOwnProperty("signature_sub_storage")?(this._signature_sub_storage=t.createJIO(e.signature_sub_storage),this._custom_signature_sub_storage=!0):(this._signature_hash="_replicate_"+K(n(e.local_sub_storage)+n(e.remote_sub_storage)+n(this._query_options)),this._signature_sub_storage=t.createJIO({type:"query",sub_storage:{type:"document",document_id:this._signature_hash,sub_storage:e.local_sub_storage}}),this._custom_signature_sub_storage=!1),this._use_remote_post=e.use_remote_post||!1,this._parallel_operation_attachment_amount=e.parallel_operation_attachment_amount||1,this._parallel_operation_amount=e.parallel_operation_amount||1,this._conflict_handling=e.conflict_handling||0,this._conflict_handling!==i&&this._conflict_handling!==s&&this._conflict_handling!==a&&this._conflict_handling!==u)throw new t.util.jIOError("Unsupported conflict handling: "+this._conflict_handling,400);this._check_local_modification=e.check_local_modification,void 0===this._check_local_modification&&(this._check_local_modification=!0),this._check_local_creation=e.check_local_creation,void 0===this._check_local_creation&&(this._check_local_creation=!0),this._check_local_deletion=e.check_local_deletion,void 0===this._check_local_deletion&&(this._check_local_deletion=!0),this._check_remote_modification=e.check_remote_modification,void 0===this._check_remote_modification&&(this._check_remote_modification=!0),this._check_remote_creation=e.check_remote_creation,void 0===this._check_remote_creation&&(this._check_remote_creation=!0),this._check_remote_deletion=e.check_remote_deletion,void 0===this._check_remote_deletion&&(this._check_remote_deletion=!0),this._check_local_attachment_modification=e.check_local_attachment_modification,void 0===this._check_local_attachment_modification&&(this._check_local_attachment_modification=!1),this._check_local_attachment_creation=e.check_local_attachment_creation,void 0===this._check_local_attachment_creation&&(this._check_local_attachment_creation=!1),this._check_local_attachment_deletion=e.check_local_attachment_deletion,void 0===this._check_local_attachment_deletion&&(this._check_local_attachment_deletion=!1),this._check_remote_attachment_modification=e.check_remote_attachment_modification,void 0===this._check_remote_attachment_modification&&(this._check_remote_attachment_modification=!1),this._check_remote_attachment_creation=e.check_remote_attachment_creation,void 0===this._check_remote_attachment_creation&&(this._check_remote_attachment_creation=!1),this._check_remote_attachment_deletion=e.check_remote_attachment_deletion,void 0===this._check_remote_attachment_deletion&&(this._check_remote_attachment_deletion=!1)}function et(t,r,n,o){var i,s=[];function a(o){o.push(function(){if(n.length>0){var i=n.shift(),s=new e.Queue;return i[0]=s,r.apply(t,i),a(o),s}})}for(i=0;i<o;i+=1)s.push(new e.Queue),a(s[i]);return o>1?e.all(s):s[0]}function rt(t,r,n,o){return(new e.Queue).push(function(){if(!n.hasOwnProperty(o))return r.allDocs(t._query_options).push(function(t){var e,r={};for(e=0;e<t.data.total_rows;e+=1)r[t.data.rows[e].id]=t.data.rows[e].value;n[o]=r})}).push(function(){return n[o]})}function nt(t,e,r,n,o,i,s){return o?s.logAttachment(r,n,i?g:b):s.logAttachment(r,n,i?T:P),e.removeAttachment(r,n).push(function(){return t._signature_sub_storage.removeAttachment(r,n)})}function ot(t,e,r,n,o,i,s,a,u){return a?u.logAttachment(o,i,s?m:w):u.logAttachment(o,i,s?S:M),e.putAttachment(o,i,r).push(function(){return t._signature_sub_storage.putAttachment(o,i,JSON.stringify({hash:n}))})}function it(e,r,n,o,i,s,a,u,h,l,f,p,_,m){var g;return r[h]=null,a.getAttachment(u,h).push(function(e){return g=e,t.util.readBlobAsArrayBuffer(g)}).push(function(t){return X(t.target.result)},function(e){if(e instanceof t.util.jIOError&&404===e.status_code)return g=null,null;throw e}).push(function(t){return o===t?(m.logAttachment(u,h,I),null===o?e._signature_sub_storage.removeAttachment(u,h):e._signature_sub_storage.putAttachment(u,h,JSON.stringify({hash:o}))):t===n||!0===l?null===o?nt(e,a,u,h,t!==n,_,m):ot(e,a,i,o,u,h,_,t!==n,m):!0!==p?!0===f||null===o?null===t?nt(e,s,u,h,o!==n,!_,m):ot(e,s,g,t,u,h,!_,o!==n,m):null===t?ot(e,a,i,o,u,h,_,!1,m):void m.logAttachment(u,h,d):void m.logAttachment(u,h,V)}).push(void 0,function(t){m.logAttachment(u,h,c,t)})}function st(r,n,o,i,s,a,u,c,h,l,f,d,p,_){var m,g;r.push(function(){if(!0===f)return e.all([i.getAttachment(a,u),{hash:null}]);if(!0===d)return e.all([i.getAttachment(a,u),n._signature_sub_storage.getAttachment(a,u,{format:"json"})]);throw new t.util.jIOError("Unexpected call of checkAttachmentSignatureDifference",409)}).push(function(e){return m=e[0],g=e[1].hash,t.util.readBlobAsArrayBuffer(m)}).push(function(t){var e=X(t.target.result);if(e!==g)return it(n,o,g,e,m,i,s,a,u,c,h,l,p,_);p||_.logAttachment(a,u,$)})}function at(t,e,r,n,o,i,s,a,u,c,h,l){var f;t.push(function(){return e._signature_sub_storage.getAttachment(o,i,{format:"json"})}).push(function(t){return f=t.hash,it(e,r,f,null,null,s,n,o,i,a,u,c,h,l)})}function ut(e,r,n,o,i,s,a,u){var c={},h={},l=u.from_local;return o.allAttachments(n).push(void 0,function(e){if(e instanceof t.util.jIOError&&404===e.status_code)return{};throw e}).push(function(t){var f,d,p,_=[];for(p in t)t.hasOwnProperty(p)&&(r.hasOwnProperty(p)||(c[p]=null));for(p in s)s.hasOwnProperty(p)&&(r.hasOwnProperty(p)||(h[p]=null));for(p in c)c.hasOwnProperty(p)&&(f=h.hasOwnProperty(p)&&u.check_modification,d=!h.hasOwnProperty(p)&&u.check_creation,!0===f||!0===d?_.push([void 0,e,r,o,i,n,p,u.conflict_force,u.conflict_revert,u.conflict_ignore,d,f,l,a]):h.hasOwnProperty(p)?a.logAttachment(n,p,l?U:q):a.logAttachment(n,p,l?Q:H));return et(e,st,_,e._parallel_operation_attachment_amount)}).push(function(){var t,s=[];for(t in h)h.hasOwnProperty(t)&&(c.hasOwnProperty(t)||(!0===u.check_deletion?s.push([void 0,e,r,i,n,t,o,u.conflict_force,u.conflict_revert,u.conflict_ignore,l,a]):a.logAttachment(n,t,l?z:G)));return et(e,at,s,e._parallel_operation_attachment_amount)})}function ct(t,e,r,n,o,i,s){return s.logAttachment(e,r,i?T:P),t.push(function(){return n.removeAttachment(e,r)}).push(function(){return o.removeAttachment(e,r)})}function ht(t,e,r,n,o){return o.logAttachment(e,r,I),t.push(function(){return n.removeAttachment(e,r)})}function lt(e,r,n,o,i,s,a,u,c){return e.push(function(){return s.getAttachment(r,n,{format:"json"}).push(void 0,function(e){if(e instanceof t.util.jIOError&&404===e.status_code)return{hash:null};throw e}).push(function(t){if(t.hash!==a)return c.logAttachment(r,n,u?S:M),o.getAttachment(r,n).push(function(t){return i.putAttachment(r,n,t)}).push(function(){return s.putAttachment(r,n,JSON.stringify({hash:a}))})})})}function ft(r,n,o,i,c,h,l){if(void 0!==i)return function(t,r,n,o,i,s){if(n!==o)return(new e.Queue).push(function(){return e.all([t._signature_sub_storage.allAttachments(r),t._local_sub_storage.allAttachments(r),t._remote_sub_storage.allAttachments(r)])}).push(function(o){var a,u,c,h,l,f,d=[],p=[],_=[],m=o[0],g=o[1],y=o[2],v=t._check_local_attachment_modification,w=t._check_local_attachment_creation,b=t._check_local_attachment_deletion,k=t._check_remote_attachment_modification,O=t._check_remote_attachment_creation,A=t._check_remote_attachment_deletion;for(a in i?(u=g,c=y,h=t._local_sub_storage,l=t._remote_sub_storage,f=!0):(u=y,c=g,h=t._remote_sub_storage,l=t._local_sub_storage,v=k,O=w=O,A=b=A,f=!1),u)u.hasOwnProperty(a)&&(w&&!m.hasOwnProperty(a)||v&&m.hasOwnProperty(a)?d.push([void 0,r,a,h,l,t._signature_sub_storage,n,f,s]):m.hasOwnProperty(a)?s.logAttachment(r,a,f?U:q):s.logAttachment(r,a,f?Q:H));for(a in m)m.hasOwnProperty(a)&&(!b||u.hasOwnProperty(a)||c.hasOwnProperty(a)||_.push([void 0,r,a,t._signature_sub_storage,s]));for(a in c)c.hasOwnProperty(a)&&(u.hasOwnProperty(a)||(b&&m.hasOwnProperty(a)||O&&!m.hasOwnProperty(a)?p.push([void 0,r,a,l,t._signature_sub_storage,f,s]):m.hasOwnProperty(a)?s.logAttachment(r,a,f?z:G):s.logAttachment(r,a,f?Q:H)));return e.all([et(t,lt,d,t._parallel_operation_attachment_amount),et(t,ct,p,t._parallel_operation_attachment_amount),et(t,ht,_,t._parallel_operation_attachment_amount)])}).push(function(){return t._signature_sub_storage.put(r,{hash:n,attachment_hash:n,from_local:i})})}(r,n,c,h,l,o);var f={};return(new e.Queue).push(function(){return r._check_local_attachment_modification||r._check_local_attachment_creation||r._check_local_attachment_deletion||r._check_remote_attachment_modification||r._check_remote_attachment_creation||r._check_remote_attachment_deletion?r._signature_sub_storage.allAttachments(n):{}}).push(void 0,function(e){if(e instanceof t.util.jIOError&&404===e.status_code)return{};throw e}).push(function(t){return r._check_local_attachment_modification||r._check_local_attachment_creation||r._check_local_attachment_deletion?ut(r,f,n,r._local_sub_storage,r._remote_sub_storage,t,o,{conflict_force:r._conflict_handling===s,conflict_revert:r._conflict_handling===a,conflict_ignore:r._conflict_handling===u,check_modification:r._check_local_attachment_modification,check_creation:r._check_local_attachment_creation,check_deletion:r._check_local_attachment_deletion,from_local:!0}).push(function(){return t}):t}).push(function(t){if(r._check_remote_attachment_modification||r._check_remote_attachment_creation||r._check_remote_attachment_deletion)return ut(r,f,n,r._remote_sub_storage,r._local_sub_storage,t,o,{use_revert_post:r._use_remote_post,conflict_force:r._conflict_handling===a,conflict_revert:r._conflict_handling===s,conflict_ignore:r._conflict_handling===u,check_modification:r._check_remote_attachment_modification,check_creation:r._check_remote_attachment_creation,check_deletion:r._check_remote_attachment_deletion,from_local:!1})})}function dt(r,n,o,i,s,a,u,c,h,l){var f,d,_,m=new e.Queue;return void 0===l&&(l={}),d=l.from_local,_=l.conflict||!1,null===i&&m.push(function(){return n.get(a)}).push(function(t){i=t},function(e){if(e instanceof t.util.jIOError&&404===e.status_code)throw new Z(a);throw e}),l.use_post?m.push(function(){return h.log(a,d?O:E),o.post(i)}).push(function(t){return f=t,n.put(f,i)}).push(function(){return n.allAttachments(a)}).push(function(t){var r,o=new e.Queue;function i(t){o.push(function(){return n.getAttachment(a,t)}).push(function(e){return n.putAttachment(f,t,e)})}for(r in t)t.hasOwnProperty(r)&&i(r);return o}).push(function(){return n.remove(a)}).push(function(){return r._signature_sub_storage.remove(a)}).push(function(){return r._signature_sub_storage.put(f,{hash:s,from_local:d})}).push(function(){u[f]=null}):m.push(function(){if(_?h.log(a,d?p:y):h.log(a,d?k:x),!0===l.create_new_document)return delete c[a],r._signature_sub_storage.remove(a)}).push(function(){return o.put(a,i)}).push(function(){return r._signature_sub_storage.put(a,{hash:s,from_local:d})}),m.push(void 0,function(t){if(!(t instanceof Z))throw t})}function pt(e,r,n,o,i,s){var a;return void 0!==e._signature_hash_key?(s.conflict?i.log(n,s.from_local?_:v):i.log(n,s.from_local?A:D),a=r.remove(n).push(function(){return e._signature_sub_storage.remove(n)})):a=ft(e,n,i).push(function(){return r.allAttachments(n)}).push(function(t){if("{}"===JSON.stringify(t))return s.conflict?i.log(n,s.from_local?_:v):i.log(n,s.from_local?A:D),r.remove(n).push(function(){return e._signature_sub_storage.remove(n)});i.log(n,s.from_local?f:l)},function(e){if(!(e instanceof t.util.jIOError&&404===e.status_code))throw e}),a.push(function(){o[n]=null})}function _t(r,o,i,s,a,u,l,f,d,p,_,m,g,y,v,w){o[_]=null;var b=w.from_local;return(new e.Queue).push(function(){return void 0!==w.signature_hash_key?rt(r,p,s,a).push(function(t){return t.hasOwnProperty(_)?[null,t[_][w.signature_hash_key]]:[null,null]}):p.get(_).push(function(t){return[t,K(n(t))]},function(e){if(e instanceof t.util.jIOError&&404===e.status_code)return[null,null];throw e})}).push(function(t){var e=t[0],n=t[1];return l===n?(v.log(_,C),null===l?r._signature_sub_storage.remove(_):r._signature_sub_storage.put(_,{hash:l,from_local:b})):n===u||!0===m?null===l?pt(r,p,_,i,v,{from_local:b,conflict:n!==u}):dt(r,d,p,f,l,_,o,i,v,{use_post:w.use_post&&null===n,conflict:n!==u,from_local:b,create_new_document:null===n&&null!==u}):!0!==y?!0===g||null===l?null===n?pt(r,d,_,i,v,{from_local:!b,conflict:null!==l}):dt(r,p,d,e,n,_,o,i,v,{use_post:w.use_revert_post&&null===l,from_local:!b,conflict:!0,create_new_document:null===l&&null!==u}):null===n?dt(r,d,p,f,l,_,o,i,v,{use_post:w.use_post,conflict:!0,from_local:b,create_new_document:null!==u}):void v.log(_,h):void v.log(_,W)}).push(void 0,function(t){v.log(_,c,t)})}function mt(t,e,r,n,o,i,s,a,u,c,h,l,f,d){var p;t.push(function(){return e._signature_sub_storage.get(a)}).push(function(t){return p=t.hash,_t(e,r,n,o,i,p,null,null,u,s,a,c,h,l,f,d)})}function gt(t,e,r,o,i,s,a,u,c,h,l,f,d,p,_,m){t.push(function(){return null===d?a.get(c):null}).push(function(t){if(null===d&&(d=K(n(t))),d!==p)return _t(e,r,o,i,s,p,d,t,a,u,c,h,l,f,_,m);m.from_local||_.log(c,B)})}function yt(t,r,n,o,i,s,a,u,c,h,l){var f=[],d=[];return l.hasOwnProperty("use_post")||(l.use_post=!1),l.hasOwnProperty("use_revert_post")||(l.use_revert_post=!1),rt(t,a,o,i).push(function(i){var p,_,m,g,y,v,w={},b={},k=new e.Queue;for(v in i)i.hasOwnProperty(v)&&(r.hasOwnProperty(v)||(w[v]=i[v]));for(p=0;p<c.data.total_rows;p+=1)r.hasOwnProperty(c.data.rows[p].id)||(b[c.data.rows[p].id]=c.data.rows[p].value.hash);for(v in w)w.hasOwnProperty(v)&&(_=b.hasOwnProperty(v)&&l.check_modification,!0===(m=!b.hasOwnProperty(v)&&l.check_creation)?g=null:!0===_&&(g=b[v]),y=null,void 0!==l.signature_hash_key&&(y=w[v][l.signature_hash_key],!0===_&&(_=!1,y!==g&&(_=!0))),!0===_||!0===m?f.push([void 0,t,r,n,o,s,a,u,v,l.conflict_force,l.conflict_revert,l.conflict_ignore,y,g,h,l]):y===g?h.log(v,B):b.hasOwnProperty(v)?h.log(v,l.from_local?Y:N):h.log(v,l.from_local?j:R));for(v in k.push(function(){return et(t,gt,f,l.operation_amount)}),b)b.hasOwnProperty(v)&&(w.hasOwnProperty(v)||(!0===l.check_deletion?d.push([void 0,t,r,n,o,s,u,v,a,l.conflict_force,l.conflict_revert,l.conflict_ignore,h,l]):(h.log(v,l.from_local?L:F),n[v]=null)));return 0!==d.length&&k.push(function(){return et(t,mt,d,l.operation_amount)}),k})}function vt(t,e,r,n,o,i,s,a){t.push(function(){return ft(e,r,n,o,i,s,a)})}J.prototype={constructor:J,LOG_UNEXPECTED_ERROR:c,LOG_UNRESOLVED_CONFLICT:h,LOG_UNEXPECTED_LOCAL_ATTACHMENT:l,LOG_UNEXPECTED_REMOTE_ATTACHMENT:f,LOG_UNRESOLVED_ATTACHMENT_CONFLICT:d,LOG_FORCE_PUT_REMOTE:p,LOG_FORCE_DELETE_REMOTE:_,LOG_FORCE_PUT_LOCAL:y,LOG_FORCE_DELETE_LOCAL:v,LOG_FORCE_PUT_REMOTE_ATTACHMENT:m,LOG_FORCE_DELETE_REMOTE_ATTACHMENT:g,LOG_FORCE_PUT_LOCAL_ATTACHMENT:w,LOG_FORCE_DELETE_LOCAL_ATTACHMENT:b,LOG_PUT_REMOTE:k,LOG_POST_REMOTE:O,LOG_DELETE_REMOTE:A,LOG_PUT_REMOTE_ATTACHMENT:S,LOG_DELETE_REMOTE_ATTACHMENT:T,LOG_PUT_LOCAL:x,LOG_DELETE_LOCAL:D,LOG_PUT_LOCAL_ATTACHMENT:M,LOG_DELETE_LOCAL_ATTACHMENT:P,LOG_FALSE_CONFLICT:C,LOG_FALSE_CONFLICT_ATTACHMENT:I,LOG_SKIP_LOCAL_CREATION:j,LOG_SKIP_LOCAL_MODIFICATION:Y,LOG_SKIP_LOCAL_DELETION:L,LOG_SKIP_REMOTE_CREATION:R,LOG_SKIP_REMOTE_MODIFICATION:N,LOG_SKIP_REMOTE_DELETION:F,LOG_SKIP_LOCAL_ATTACHMENT_CREATION:Q,LOG_SKIP_LOCAL_ATTACHMENT_MODIFICATION:U,LOG_SKIP_LOCAL_ATTACHMENT_DELETION:z,LOG_SKIP_REMOTE_ATTACHMENT_CREATION:H,LOG_SKIP_REMOTE_ATTACHMENT_MODIFICATION:q,LOG_SKIP_REMOTE_ATTACHMENT_DELETION:G,LOG_SKIP_CONFLICT:W,LOG_SKIP_CONFLICT_ATTACHMENT:V,LOG_NO_CHANGE:B,LOG_NO_CHANGE_ATTACHMENT:$,logConsole:function(t,e,r,n){if(this._log_console){var o,i=t,s=t;s>=300?(i+=" SKIP ",o=console.info):s>=200?(i+=" SOLVE ",o=console.log):s>=100?(i+=" FORCE ",o=console.warn):(i+=" ERROR ",o=console.error),(s=t%100)>=80?i+="idem ":s>=70?i+="conflict ":s>=60?i+="deleted ":s>=50?i+="modified ":s>=40?i+="created ":s>=30?i+="delete ":s>=20?i+="post ":s>=10&&(i+="put "),(s=t%10)>=8?i+="local ":s>=6&&(i+="remote "),0!==s&&(i+=s%2==0?"document":"attachment"),i+=" "+e,void 0!==r&&(i+=" "+r,void 0!==n&&(i+=" "+n)),o(i)}},log:function(t,e,r){void 0===e&&(void 0===r&&(r="Unknown type: "+e),e=c),e<this._log_level&&(void 0===r?(this.logConsole(e,t),this._list.push([e,t])):(this.logConsole(e,t,r),this._list.push([e,t,r])),e<100&&(this.has_error=!0))},logAttachment:function(t,e,r,n){void 0===r&&(void 0===n&&(n="Unknown type: "+r),r=c),r<this._log_level&&(void 0===n?(this.logConsole(r,t,e),this._list.push([r,t,e])):(this.logConsole(r,t,e,n),this._list.push([r,t,e,n])),r<100&&(this.has_error=!0))},toString:function(){return this._list.toString()}},Z.prototype=new Error,Z.prototype.constructor=Z,tt.prototype.remove=function(e){if(e===this._signature_hash)throw new t.util.jIOError(this._signature_hash+" is frozen",403);return this._local_sub_storage.remove.apply(this._local_sub_storage,arguments)},tt.prototype.post=function(){return this._local_sub_storage.post.apply(this._local_sub_storage,arguments)},tt.prototype.put=function(e){if(e===this._signature_hash)throw new t.util.jIOError(this._signature_hash+" is frozen",403);return this._local_sub_storage.put.apply(this._local_sub_storage,arguments)},tt.prototype.get=function(){return this._local_sub_storage.get.apply(this._local_sub_storage,arguments)},tt.prototype.getAttachment=function(){return this._local_sub_storage.getAttachment.apply(this._local_sub_storage,arguments)},tt.prototype.allAttachments=function(){return this._local_sub_storage.allAttachments.apply(this._local_sub_storage,arguments)},tt.prototype.putAttachment=function(e){if(e===this._signature_hash)throw new t.util.jIOError(this._signature_hash+" is frozen",403);return this._local_sub_storage.putAttachment.apply(this._local_sub_storage,arguments)},tt.prototype.removeAttachment=function(e){if(e===this._signature_hash)throw new t.util.jIOError(this._signature_hash+" is frozen",403);return this._local_sub_storage.removeAttachment.apply(this._local_sub_storage,arguments)},tt.prototype.hasCapacity=function(){return this._local_sub_storage.hasCapacity.apply(this._local_sub_storage,arguments)},tt.prototype.buildQuery=function(){return this._local_sub_storage.buildQuery.apply(this._local_sub_storage,arguments)},tt.prototype.repair=function(){var r=this,n=arguments,o={},i={},c={},h=new J(this._log_level,this._log_console);return(new e.Queue).push(function(){if(!1===r._custom_signature_sub_storage)return o[r._signature_hash]=null,r._signature_sub_storage.__storage._sub_storage.__storage._sub_storage.get(r._signature_hash)}).push(void 0,function(e){if(e instanceof t.util.jIOError&&404===e.status_code)return r._signature_sub_storage.__storage._sub_storage.__storage._sub_storage.put(r._signature_hash,{});throw e}).push(function(){return e.all([r._local_sub_storage.repair.apply(r._local_sub_storage,n),r._remote_sub_storage.repair.apply(r._remote_sub_storage,n)])}).push(function(){if(r._check_local_modification||r._check_local_creation||r._check_local_deletion||r._check_remote_modification||r._check_remote_creation||r._check_remote_deletion)return r._signature_sub_storage.allDocs({select_list:["hash"]})}).push(function(t){return r._check_local_modification||r._check_local_creation||r._check_local_deletion?yt(r,o,i,c,"local","remote",r._local_sub_storage,r._remote_sub_storage,t,h,{use_post:r._use_remote_post,conflict_force:r._conflict_handling===s,conflict_revert:r._conflict_handling===a,conflict_ignore:r._conflict_handling===u,check_modification:r._check_local_modification,check_creation:r._check_local_creation,check_deletion:r._check_local_deletion,operation_amount:r._parallel_operation_amount,signature_hash_key:r._signature_hash_key,from_local:!0}).push(function(){return t}):t}).push(function(t){if(r._check_remote_modification||r._check_remote_creation||r._check_remote_deletion)return yt(r,o,i,c,"remote","local",r._remote_sub_storage,r._local_sub_storage,t,h,{use_revert_post:r._use_remote_post,conflict_force:r._conflict_handling===a,conflict_revert:r._conflict_handling===s,conflict_ignore:r._conflict_handling===u,check_modification:r._check_remote_modification,check_creation:r._check_remote_creation,check_deletion:r._check_remote_deletion,operation_amount:r._parallel_operation_amount,signature_hash_key:r._signature_hash_key,from_local:!1})}).push(function(){if(r._check_local_attachment_modification||r._check_local_attachment_creation||r._check_local_attachment_deletion||r._check_remote_attachment_modification||r._check_remote_attachment_creation||r._check_remote_attachment_deletion)return r._signature_sub_storage.allDocs({select_list:["hash","attachment_hash","from_local"]}).push(function(t){var e,n,o=[],s=t.data.total_rows;for(e=0;e<s;e+=1)n=t.data.rows[e],i.hasOwnProperty(n.id)||o.push([void 0,r,n.id,h,r._signature_hash_key,n.value.hash,n.value.attachment_hash,n.value.from_local,h]);return et(r,vt,o,r._parallel_operation_amount)})}).push(function(){if(h.has_error)throw h;return h})},t.addStorage("replicate",tt)}(jIO,RSVP,Rusha,jIO.util.stringify),function(t){"use strict";var e=new t;function r(t){this._sub_storage=jIO.createJIO(t.sub_storage)}r.prototype.post=function(t){return this._sub_storage.put(e.digestFromString(JSON.stringify(t)),t)},r.prototype.get=function(){return this._sub_storage.get.apply(this._sub_storage,arguments)},r.prototype.remove=function(){return this._sub_storage.remove.apply(this._sub_storage,arguments)},r.prototype.hasCapacity=function(){return this._sub_storage.hasCapacity.apply(this._sub_storage,arguments)},r.prototype.buildQuery=function(){return this._sub_storage.buildQuery.apply(this._sub_storage,arguments)},r.prototype.getAttachment=function(){return this._sub_storage.getAttachment.apply(this._sub_storage,arguments)},r.prototype.putAttachment=function(){return this._sub_storage.putAttachment.apply(this._sub_storage,arguments)},r.prototype.removeAttachment=function(){return this._sub_storage.removeAttachment.apply(this._sub_storage,arguments)},r.prototype.allAttachments=function(){return this._sub_storage.allAttachments.apply(this._sub_storage,arguments)},r.prototype.repair=function(){return this._sub_storage.repair.apply(this._sub_storage,arguments)},jIO.addStorage("sha",r)}(Rusha),function(t){"use strict";function e(e){this._sub_storage=t.createJIO(e.sub_storage)}e.prototype.get=function(){return this._sub_storage.get.apply(this._sub_storage,arguments)},e.prototype.allAttachments=function(){return this._sub_storage.allAttachments.apply(this._sub_storage,arguments)},e.prototype.post=function(t){function e(){return("0000"+Math.floor(65536*Math.random()).toString(16)).slice(-4)}var r=e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e();return this.put(r,t)},e.prototype.put=function(){return this._sub_storage.put.apply(this._sub_storage,arguments)},e.prototype.remove=function(){return this._sub_storage.remove.apply(this._sub_storage,arguments)},e.prototype.getAttachment=function(){return this._sub_storage.getAttachment.apply(this._sub_storage,arguments)},e.prototype.putAttachment=function(){return this._sub_storage.putAttachment.apply(this._sub_storage,arguments)},e.prototype.removeAttachment=function(){return this._sub_storage.removeAttachment.apply(this._sub_storage,arguments)},e.prototype.repair=function(){return this._sub_storage.repair.apply(this._sub_storage,arguments)},e.prototype.hasCapacity=function(t){return this._sub_storage.hasCapacity(t)},e.prototype.buildQuery=function(){return this._sub_storage.buildQuery.apply(this._sub_storage,arguments)},t.addStorage("uuid",e)}(jIO),function(t,e,r){"use strict";function n(){this._database={}}n.prototype.put=function(t,r){return this._database.hasOwnProperty(t)||(this._database[t]={attachments:{}}),this._database[t].doc=e.stringify(r),t},n.prototype.get=function(r){try{return e.parse(this._database[r].doc)}catch(e){if(e instanceof TypeError)throw new t.util.jIOError("Cannot find document: "+r,404);throw e}},n.prototype.allAttachments=function(e){var r,n={};try{for(r in this._database[e].attachments)this._database[e].attachments.hasOwnProperty(r)&&(n[r]={})}catch(r){if(r instanceof TypeError)throw new t.util.jIOError("Cannot find document: "+e,404);throw r}return n},n.prototype.remove=function(t){return delete this._database[t],t},n.prototype.getAttachment=function(e,r){try{var n=this._database[e].attachments[r];if(void 0===n)throw new t.util.jIOError("Cannot find attachment: "+e+" , "+r,404);return t.util.dataURItoBlob(n)}catch(n){if(n instanceof TypeError)throw new t.util.jIOError("Cannot find attachment: "+e+" , "+r,404);throw n}},n.prototype.putAttachment=function(e,n,o){var i;try{i=this._database[e].attachments}catch(r){if(r instanceof TypeError)throw new t.util.jIOError("Cannot find document: "+e,404);throw r}return(new r.Queue).push(function(){return t.util.readBlobAsDataURL(o)}).push(function(t){i[n]=t.target.result})},n.prototype.removeAttachment=function(e,r){try{delete this._database[e].attachments[r]}catch(r){if(r instanceof TypeError)throw new t.util.jIOError("Cannot find document: "+e,404);throw r}},n.prototype.hasCapacity=function(t){return"list"===t||"include"===t},n.prototype.buildQuery=function(t){var r,n=[];for(r in this._database)this._database.hasOwnProperty(r)&&(!0===t.include_docs?n.push({id:r,value:{},doc:e.parse(this._database[r].doc)}):n.push({id:r,value:{}}));return n},t.addStorage("memory",n)}(jIO,JSON,RSVP),function(t,e,r){"use strict";function n(t){this._dom_parser=(new e).parseFromString(t,"text/xml")}function o(t){this._dom_parser=(new e).parseFromString(t,"text/xml")}function i(t){this._dom_parser=(new e).parseFromString(t,"text/xml")}n.prototype.parseHead=function(){var t,e,n=this._dom_parser.querySelector("opml > head"),o={};for(e=n.childNodes.length-1;e>=0;e-=1)(t=n.childNodes[e]).nodeType===r.ELEMENT_NODE&&(o[t.tagName]=t.textContent);return o},n.prototype.parseOutline=function(t,e,r,n,o){var i,s,a,u={};if((o===r||void 0===o)&&(t.push({id:r,value:{}}),n)){for(s=e.attributes.length-1;s>=0;s-=1)(i=e.attributes[s]).value&&(u[i.name]=i.value);t[t.length-1].doc=u}for(s=e.childNodes.length-1;s>=0;s-=1)"outline"===(a=e.childNodes[s]).tagName&&this.parseOutline(t,a,r+"/"+s,n,o)},n.prototype.getDocumentList=function(t,e){var r,n,o=this._dom_parser.querySelectorAll("body > outline");for("/0"===e||void 0===e?(r=[{id:"/0",value:{}}],t&&(r[0].doc=this.parseHead())):r=[],n=0;n<o.length;n+=1)this.parseOutline(r,o[n],"/1/"+n,t,e);return r},o.prototype.parseElement=function(t){var e,n,o,i,s,a={};for(n=t.childNodes.length-1;n>=0;n-=1)if((e=t.childNodes[n]).nodeType===r.ELEMENT_NODE&&"entry"!==e.tagName)for("link"===(i=e.tagName)?i+="_"+(e.getAttribute("rel")||"alternate"):a[i]=e.textContent,o=e.attributes.length-1;o>=0;o-=1)(s=e.attributes[o]).value&&(a[i+"_"+s.name]=s.value);return a},o.prototype.getDocumentList=function(t,e){var r,n,o=this._dom_parser.querySelectorAll("feed > entry");for("/0"===e||void 0===e?(r=[{id:"/0",value:{}}],t&&(r[0].doc=this.parseElement(this._dom_parser.querySelector("feed")))):r=[],n=0;n<o.length;n+=1)e!=="/0/"+n&&void 0!==e||(r.push({id:"/0/"+n,value:{}}),t&&(r[r.length-1].doc=this.parseElement(o[n])));return r},i.prototype.parseElement=function(t){var e,n,o,i,s={};for(n=t.childNodes.length-1;n>=0;n-=1)if((e=t.childNodes[n]).nodeType===r.ELEMENT_NODE&&"item"!==e.tagName)for(s[e.tagName]=e.textContent,o=e.attributes.length-1;o>=0;o-=1)(i=e.attributes[o]).value&&(s[e.tagName+"_"+i.name]=i.value);return s},i.prototype.getDocumentList=function(t,e){var r,n,o=this._dom_parser.querySelectorAll("rss > channel > item");for("/0"===e||void 0===e?(r=[{id:"/0",value:{}}],t&&(r[0].doc=this.parseElement(this._dom_parser.querySelector("rss > channel")))):r=[],n=0;n<o.length;n+=1)e!=="/0/"+n&&void 0!==e||(r.push({id:"/0/"+n,value:{}}),t&&(r[r.length-1].doc=this.parseElement(o[n])));return r};var s={rss:i,opml:n,atom:o};function a(t){return t._sub_storage.getAttachment(t._document_id,t._attachment_id,{format:"text"}).push(function(e){return new s[t._parser_name](e)})}function u(e){this._attachment_id=e.attachment_id,this._document_id=e.document_id,this._parser_name=e.parser,this._sub_storage=t.createJIO(e.sub_storage)}u.prototype.hasCapacity=function(t){return"list"===t||"include"===t},u.prototype.buildQuery=function(t){return void 0===t&&(t={}),a(this).push(function(e){return e.getDocumentList(t.include_docs||!1)})},u.prototype.get=function(e){return a(this).push(function(r){var n=r.getDocumentList(!0,e);if(n.length)return n[0].doc;throw new t.util.jIOError("Cannot find parsed document: "+e,404)})},t.addStorage("parser",u)}(jIO,DOMParser,Node),function(t,e,r){"use strict";function n(t){t.hasOwnProperty("catch_error")?this._catch_error=t.catch_error:this._catch_error=!1,this._timeout=t.timeout||0}n.prototype.get=function(r){var n=this;return(new e.Queue).push(function(){return t.util.ajax({type:"HEAD",url:r,timeout:n._timeout})}).push(void 0,function(e){if(n._catch_error)return e;if(void 0!==e.target&&404===e.target.status)throw new t.util.jIOError("Cannot find url "+r,404);throw e}).push(function(t){var e,r,n,o=["Content-Disposition","Content-Type","Date","Last-Modified","Vary","Cache-Control","Etag","Accept-Ranges","Content-Range"],i={};for(i.Status=t.target.status,e=0;e<o.length;e+=1)r=o[e],null!==(n=t.target.getResponseHeader(r))&&(i[r]=n);return i})},n.prototype.allAttachments=function(){return{enclosure:{}}},n.prototype.getAttachment=function(n,o){var i=this;if("enclosure"!==o)throw new t.util.jIOError("Forbidden attachment: "+n+" , "+o,400);return(new e.Queue).push(function(){return t.util.ajax({type:"GET",url:n,dataType:"blob",timeout:i._timeout})}).push(void 0,function(e){if(i._catch_error)return e;if(void 0!==e.target&&404===e.target.status)throw new t.util.jIOError("Cannot find url "+n,404);throw e}).push(function(t){return new r([t.target.response||t.target.responseText],{type:t.target.getResponseHeader("Content-Type")||"application/octet-stream"})})},t.addStorage("http",n)}(jIO,RSVP,Blob),function(t,e,r){"use strict";function n(t){return r.JIODate(new Date(t).toISOString())}function o(e){this._sub_storage=t.createJIO(e.sub_storage),this._key_schema={key_set:{},cast_lookup:{}},function(e,r){var o;for(o in r.schema)if(r.schema.hasOwnProperty(o)){if("string"!==r.schema[o].type||"date-time"!==r.schema[o].format)throw new t.util.jIOError("Wrong schema for property: "+o,400);e._key_schema.key_set[o]={read_from:o,cast_to:"dateType"},void 0===e._key_schema.cast_lookup.dateType&&(e._key_schema.cast_lookup.dateType=n)}}(this,e)}o.prototype.get=function(){return this._sub_storage.get.apply(this._sub_storage,arguments)},o.prototype.allAttachments=function(){return this._sub_storage.allAttachments.apply(this._sub_storage,arguments)},o.prototype.post=function(){return this._sub_storage.post.apply(this._sub_storage,arguments)},o.prototype.put=function(){return this._sub_storage.put.apply(this._sub_storage,arguments)},o.prototype.remove=function(){return this._sub_storage.remove.apply(this._sub_storage,arguments)},o.prototype.getAttachment=function(){return this._sub_storage.getAttachment.apply(this._sub_storage,arguments)},o.prototype.putAttachment=function(){return this._sub_storage.putAttachment.apply(this._sub_storage,arguments)},o.prototype.removeAttachment=function(){return this._sub_storage.removeAttachment.apply(this._sub_storage,arguments)},o.prototype.repair=function(){return this._sub_storage.repair.apply(this._sub_storage,arguments)},o.prototype.hasCapacity=function(t){return-1!==["limit","sort","select","query"].indexOf(t)||"list"===t&&this._sub_storage.hasCapacity(t)},o.prototype.buildQuery=function(r){var n=this._sub_storage,o=this,i={},s=!1,a=!1;if(n.hasCapacity("list")){try{void 0!==r.query&&!n.hasCapacity("query")||void 0!==r.sort_on&&!n.hasCapacity("sort")||void 0!==r.select_list&&!n.hasCapacity("select")||void 0!==r.limit&&!n.hasCapacity("limit")||(i.query=r.query,i.sort_on=r.sort_on,i.select_list=r.select_list,i.limit=r.limit)}catch(e){if(!(e instanceof t.util.jIOError&&501===e.status_code))throw e;s=!0}try{(s||!0===r.include_docs)&&n.hasCapacity("include")&&(i.include_docs=!0)}catch(e){if(!(e instanceof t.util.jIOError&&501===e.status_code))throw e;a=!0}return n.buildQuery(i).push(function(r){var o,i,s=[r];function u(e){var o=r[e].id;return n.get(o).push(function(t){return t._id=o,t},function(e){if(!(e instanceof t.util.jIOError&&404===e.status_code))throw e})}if(a){for(o=r.length,i=0;i<o;i+=1)s.push(u(i));r=e.all(s)}return r}).push(function(t){var e,r,n;if(a){for(r=(e=t[0]).length,n=0;n<r;n+=1)e[n].doc=t[n+1];t=e}return t}).push(function(e){var n,i,a=[];if(s){for(n=e.length,i=0;i<n;i+=1)e[i].doc.__id=e[i].id,a.push(e[i].doc);r.select_list&&r.select_list.push("__id"),e=t.QueryFactory.create(r.query||"",o._key_schema).exec(a,r)}return e}).push(function(t){var e,n,o,i=[];if(s){for(n=t.length,o=0;o<n;o+=1){if(e={id:t[o].__id,value:r.select_list?t[o]:{},doc:{}},r.select_list&&delete e.value.__id,r.include_docs)throw new Error("QueryStorage does not support include docs");i.push(e)}t=i}return t})}},t.addStorage("query",o)}(jIO,RSVP,jiodate),function(t,e,r){"use strict";function n(e){this._sub_storage=t.createJIO(e.sub_storage)}var o="/.jio_documents/";n.prototype.get=function(r){var n=this;return(new e.Queue).push(function(){return n._sub_storage.getAttachment(o,r+".json",{format:"json"})}).push(void 0,function(e){if(e instanceof t.util.jIOError&&404===e.status_code)return n._sub_storage.allAttachments("/").push(function(e){if(e.hasOwnProperty(r))return{};throw new t.util.jIOError("Cannot find document "+r,404)});throw e})},n.prototype.allAttachments=function(e){var r=this;return r._sub_storage.allAttachments("/").push(function(n){return n.hasOwnProperty(e)?{enclosure:{}}:r._sub_storage.getAttachment(o,e+".json").push(function(){return{}},function(r){if(r instanceof t.util.jIOError&&404===r.status_code)throw new t.util.jIOError("Cannot find document "+e,404);throw r})})},n.prototype.put=function(e,n){var i=this;return i._sub_storage.putAttachment(o,e+".json",new r([JSON.stringify(n)],{type:"application/json"})).push(void 0,function(s){if(s instanceof t.util.jIOError&&404===s.status_code)return i._sub_storage.put(o,{}).push(function(){return i._sub_storage.putAttachment(o,e+".json",new r([JSON.stringify(n)],{type:"application/json"}))});throw s}).push(function(){return e})},n.prototype.remove=function(r){var n=this,i=!1;return(new e.Queue).push(function(){return n._sub_storage.removeAttachment("/",r)}).push(void 0,function(e){if(!(e instanceof t.util.jIOError&&404===e.status_code))throw e;i=!0}).push(function(){return n._sub_storage.removeAttachment(o,r+".json")}).push(void 0,function(e){if(!i&&e instanceof t.util.jIOError&&404===e.status_code)return r;throw e})},n.prototype.hasCapacity=function(t){return"list"===t},n.prototype.buildQuery=function(){var r={},n=this;return(new e.Queue).push(function(){return n._sub_storage.allAttachments(o)}).push(function(t){var e,n,o;for(e in t)t.hasOwnProperty(e)&&(o=".json",-1!==(n=e).indexOf(o,n.length-o.length)&&(r[e.substring(0,e.length-".json".length)]=null))},function(e){if(!(e instanceof t.util.jIOError&&404===e.status_code))throw e}).push(function(){return n._sub_storage.allAttachments("/")}).push(function(t){var e;for(e in t)t.hasOwnProperty(e)&&(r[e]=null)}).push(function(){var t,e=[];for(t in r)r.hasOwnProperty(t)&&e.push({id:t,value:{}});return e})},n.prototype.getAttachment=function(e,r){if("enclosure"!==r)throw new t.util.jIOError("Only support 'enclosure' attachment",400);return this._sub_storage.getAttachment("/",e)},n.prototype.putAttachment=function(e,r,n){if("enclosure"!==r)throw new t.util.jIOError("Only support 'enclosure' attachment",400);return this._sub_storage.putAttachment("/",e,n)},n.prototype.removeAttachment=function(e,r){if("enclosure"!==r)throw new t.util.jIOError("Only support 'enclosure' attachment",400);return this._sub_storage.removeAttachment("/",e)},n.prototype.repair=function(){return this._sub_storage.repair.apply(this._sub_storage,arguments)},t.addStorage("drivetojiomapping",n)}(jIO,RSVP,Blob),function(t,e,r,n,o){"use strict";function i(e){this._sub_storage=t.createJIO(e.sub_storage),this._document_id=e.document_id,this._repair_attachment=e.repair_attachment||!1}var s=".json",a=new RegExp("^jio_document/([\\w=]+)"+s+"$"),u=new RegExp("^jio_attachment/([\\w=]+)/([\\w=]+)$"),c=function(t){return window.btoa(n(encodeURIComponent(t)))},h=function(t){return decodeURIComponent(o(window.atob(t)))};function l(t,e){return void 0===e?"jio_document/"+c(t)+s:"jio_attachment/"+c(t)+"/"+c(e)}i.prototype.get=function(t){return this._sub_storage.getAttachment(this._document_id,l(t),{format:"json"})},i.prototype.allAttachments=function(t){return this._sub_storage.allAttachments(this._document_id).push(function(e){var r,n,o={};for(n in e)if(e.hasOwnProperty(n)&&u.test(n)){r=u.exec(n);try{h(r[1])===t&&(o[h(r[2])]={})}catch(t){if(!t instanceof ReferenceError)throw t}}return o})},i.prototype.put=function(t,r){return this._sub_storage.putAttachment(this._document_id,l(t),new e([JSON.stringify(r)],{type:"application/json"})).push(function(){return t})},i.prototype.remove=function(t){var e=this;return this.allAttachments(t).push(function(n){var o,i=[];for(o in n)n.hasOwnProperty(o)&&i.push(e.removeAttachment(t,o));return r.all(i)}).push(function(){return e._sub_storage.removeAttachment(e._document_id,l(t))}).push(function(){return t})},i.prototype.repair=function(){var t=this;return this._sub_storage.repair.apply(this._sub_storage,arguments).push(function(e){return t._repair_attachment?t._sub_storage.allAttachments(t._document_id).push(function(e){var n,o,i,s,c=[],l={},f={};for(s in e)if(e.hasOwnProperty(s))if(n=void 0,o=void 0,a.test(s)){try{n=h(a.exec(s)[1])}catch(t){if(!t instanceof ReferenceError)throw t}void 0!==n&&(l[n]=null)}else if(u.test(s)){i=u.exec(s);try{n=h(i[1]),o=h(i[2])}catch(t){if(!t instanceof ReferenceError)throw t}void 0!==o&&(l.hasOwnProperty(n)||(f.hasOwnProperty(n)||(f[n]={}),f[n][o]=null))}for(n in f)if(f.hasOwnProperty(n)&&!l.hasOwnProperty(n))for(o in f[n])f[n].hasOwnProperty(o)&&c.push(t.removeAttachment(n,o));return r.all(c)}):e})},i.prototype.hasCapacity=function(t){return"list"===t},i.prototype.buildQuery=function(){return this._sub_storage.allAttachments(this._document_id).push(function(t){var e,r=[];for(e in t)if(t.hasOwnProperty(e)&&a.test(e))try{r.push({id:h(a.exec(e)[1]),value:{}})}catch(t){if(!t instanceof ReferenceError)throw t}return r})},i.prototype.getAttachment=function(t,e){return this._sub_storage.getAttachment(this._document_id,l(t,e))},i.prototype.putAttachment=function(t,e,r){return this._sub_storage.putAttachment(this._document_id,l(t,e),r)},i.prototype.removeAttachment=function(t,e){return this._sub_storage.removeAttachment(this._document_id,l(t,e))},t.addStorage("document",i)}(jIO,Blob,RSVP,unescape,escape),function(t,e,r,n){"use strict";function o(t){!0===t.sessiononly?this._storage=e:this._storage=r}function i(e){if("/"!==e)throw new t.util.jIOError("id "+e+" is forbidden (!== /)",400)}o.prototype.get=function(t){return i(t),{}},o.prototype.allAttachments=function(t){i(t);var e,r={};for(e in this._storage)this._storage.hasOwnProperty(e)&&(r[e]={});return r},o.prototype.getAttachment=function(e,r){i(e);var n=this._storage.getItem(r);if(null===n)throw new t.util.jIOError("Cannot find attachment "+r,404);return t.util.dataURItoBlob(n)},o.prototype.putAttachment=function(e,r,o){var s=this;return i(e),(new n.Queue).push(function(){return t.util.readBlobAsDataURL(o)}).push(function(t){s._storage.setItem(r,t.target.result)})},o.prototype.removeAttachment=function(t,e){return i(t),this._storage.removeItem(e)},o.prototype.hasCapacity=function(t){return"list"===t},o.prototype.buildQuery=function(){return[{id:"/",value:{}}]},t.addStorage("local",o)}(jIO,sessionStorage,localStorage,RSVP),function(t,e,r){"use strict";function n(t){if("string"!=typeof t.path||!t.path)throw new TypeError("path must be a string which contains more than one character.");if("string"!=typeof t.repo||!t.repo)throw new TypeError("repo must be a string which contains more than one character.");this._href="https://api.github.com/repos",this._user="VoltEuropa",this._path=t.repo+"/contents/"+t.path,this._url=[this._href,this._user,this._path,"?ref=gh-pages"].join("/"),this.__debug=t.__debug}n.prototype.get=function(n){return(new e.Queue).push(function(){return t.util.ajax({type:"GET",url:n,dataType:"text"})}).push(function(t){return r.parse(t.target.response||t.target.responseText)},function(e){if(void 0!==e.target&&404===e.target.status)throw new t.util.jIOError("Cannot find document",404);throw e})},n.prototype.hasCapacity=function(t){return"list"===t},n.prototype.buildQuery=function(){var n=this.__debug||this._url;return(new e.Queue).push(function(){return t.util.ajax({type:"GET",url:n})}).push(function(t){var e,n,o,i=r.parse(t.target.response||t.target.responseText),s=[];for(o=0,n=i.length;o<n;o+=1)(e=i[o]).path.indexOf(".json")>-1&&s.push({id:e.download_url,value:{}});return s}).push(void 0,function(t){if(404===t.target.status)return[];throw t})},t.addStorage("vsf_storage",n)}(jIO,RSVP,JSON),function(t,e,r,n,o){"use strict";var i=r.parse("https://public.opendatasoft.com/api/records/1.0/search/?dataset={dataset}&q={search}&start={token}");function s(e,r){if(e.target&&404===e.target.status)throw new t.util.jIOError("Cannot find document: "+r,404);throw e}function a(t){if("string"!=typeof t.data_set||!t.data_set)throw new TypeError("data_set must be a string which contains more than one character.");this._data_set=t.data_set}a.prototype.get=function(r){return(new e.Queue).push(function(){return t.util.ajax({type:"GET",url:r,dataType:"text"})}).push(function(t){return n.parse(t.target.response||t.target.responseText)},function(e){if(void 0!==e.target&&404===e.target.status)throw new t.util.jIOError("Cannot find document",404);throw e})},a.prototype.hasCapacity=function(t){return"list"===t||"include"===t||"query"===t},a.prototype.buildQuery=function(r){var a,u=this._data_set;if(void 0===r.query)throw new t.util.jIOError("Query parameter is required",400);if(void 0===(a=o.parseStringToObject(r.query)).type)throw new t.util.jIOError("Query must be SimpleQuery or ComplexQuery",400);return(new e.Queue).push(function(){var e,r;return"simple"===a.type?(r=a.value,e=""):(r=getValue(a.query_list,"q"),e=getValue(a.query_list,"token")),t.util.ajax({type:"GET",url:i.expand({dataset:u,search:r,start:e})})}).push(function(t){var e,r=n.parse(t.target.response||t.target.responseText);for(r.records=r.records||[],e=0;e<r.records.length;e+=1)r.records[e].value={};return r.records.nhits=r.nhits,r.records},s)},t.addStorage("ods_storage",a)}(jIO,RSVP,UriTemplate,JSON,Query);